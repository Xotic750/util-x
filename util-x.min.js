/**
 * @file {@link http://xotic750.github.io/util-x/ util-x}. A Javascript utility library..
 * @version 0.2.0
 * @author Graham Fairweather <xotic750@gmail.com>
 * @copyright Copyright (c) 2013 Graham Fairweather
 * @license {@link <http://www.gnu.org/licenses/gpl-3.0.html> GPL3}
 * @module util-x
 */
!function(global,module,define,Undefined){"use strict";function $getArgItem(a,b){return a[b]}function $firstArg(){return $getArgItem(arguments,0)}function $returnArgs(){return arguments}function $strictEqual(a,b){return a===b}function $isUndefined(a){return $strictEqual(typeof a,"undefined")}function $toString(a){var b;if(null===a)b="null";else if($isUndefined(a))b="undefined";else{if("symbol"==typeof a)throw new CTypeError("Cannot convert symbol to string");b=$String(a)}return b}function $requireObjectCoercible(a){if(null===a||$isUndefined(a))throw new CTypeError("Cannot convert argument to object: "+a);return a}function $toObject(a){return $Object($requireObjectCoercible(a))}function $isPrimitive(a){var b=typeof a;return"undefined"===b||null===a||"boolean"===b||"string"===b||"number"===b||"symbol"===b}function $toPrimitive(a){var b,c,d,e,f;if(!$isPrimitive(a)){for(f=typeof $getArgItem(arguments,1),b="string"===f||"number"!==f&&$isDate(a)?["toString","valueOf"]:["valueOf","toString"],d=0;2>d;d+=1)if(c=b[d],$isFunction(a[c])&&(e=a[c](),$isPrimitive(e)))return e;throw new CTypeError("ordinaryToPrimitive returned an object")}return e=a}function $toInteger(a){var b=$toNumber(a),c=0;return $strictEqual(b,b)&&(c=b&&b!==INFINITY&&b!==NEGATIVE_INFINITY?(b>0||-1)*$floor($abs(b)):b),c}function $toLength(a){return $min($max($toInteger(a),0),MAX_SAFE_INTEGER)}function $isLength(a){return $isSafeInteger(a)&&a>=0}function $isIndex(a,b){return b=$toLength(arguments.length)>1?$toLength(b):MAX_SAFE_INTEGER-1,a=$toNumber(a),$isLength(a)&&b>a}function $hasItem(a,b,c){return c||$hasProperty(a,b)}function $getName(a,b){for(;!$isUndefined(a[b]);)b+=$toString($toInteger(100*$random()));return b}function $toObjectThisArg(a,b){return b||(a=null===a||$isUndefined(a)?global:$Object(a)),a}function $throwArgsWrongType(a){if(null!==a&&!$isUndefined(a)&&($isPrimitive(a)||"number"==typeof a.length&&"charAt"in a))throw new CTypeError("Arguments list has wrong type");return a}function $evalCallApply(a,b,c,d,e){var f,g,h=$toLength(d.length),i=h-1,j="";for(f=e;h>f;f+=1)j+="args["+f+"]",i>f&&(j+=",");return a=$toObjectThisArg(a,!1),b=$getName(a,b),a[b]=c,g=new CFunction("fn","name","args","return function () { return fn[name]("+j+"); }();")(a,b,d),$deleteProperty(a,b),g}function $throwNotFunction(a){throw new CTypeError("Argument is not a function: "+$toString(a))}function $checkXFrame(a,b){var c;return c=supportsXFrameClass===!1?a.constructor&&$toString(a.constructor)===b:!1}function $throwIfIsPrimitive(a){if($isPrimitive(a))throw new CTypeError("called on non-object: "+$toString(a));return a}function $hasOwnValidLength(a){var b=$toObject(a);return $call(pHasOwn,b,"length")&&$isLength(b.length)||hasArrayLengthBug&&$isArray(b)}function $bindArgs(a,b){var c,d,e=$toLength(a),f="";if(e)for("string"==typeof b&&$call(pTest,/^ *, *$/,b)||(b=","),c=e-1,d=0;e>d;d+=1)f+="$"+d,c>d&&(f+=b);return f}function $throwIfNotEnoughArgs(a,b){var c=!$isPrimitive(a)&&$toLength(a.length)||0;if(c<$toLength(b))throw new CSyntaxError($toString(c)+" is not enough arguments, requires "+$toString(b));return c}function $optArgs(a,b,c,d){var e=$throwIfNotEnoughArgs(arguments,4);return a=$toLength(a),e===a?$isFunction(b)?(c=b,b="undefined"):b=$toString(b):e>a&&(b=$toString(b),$isFunction(c)||(c=d)),{message:b,stackStartFunction:c}}function $decide(a,b,c,d){$throwIfNotEnoughArgs(arguments,3);var e,f,g;if($isFunction(a))try{g=a(),f=!0}catch(h){d=$toString(d),$conlog(d,h),f=!1}else f=a?!0:!1;return e=f?$isFunction(b)?b(g):b:$isFunction(c)?c(g):c}function noop(){}function $onlyCoercibleToString(a){return $toString($requireObjectCoercible(a))}function $affirmBasic(a){return function(){$affirm.ok(!testShims,"testing shim"),$affirm.ok($isNative(a),"not native")}}function $typeOf(a){var b;return b=$isPrimitive(a)?typeof a:!$isRegExp(a)&&$isFunction(a)?"function":"object"}function toInt32(a){var b=$toNumber(a),c=0;return b&&$strictEqual(b,b)&&b!==INFINITY&&b!==NEGATIVE_INFINITY&&(c=(b>0||-1)*$floor($abs(b))%UWORD32,c>MAX_INT32?c-=UWORD32:MIN_INT32>c&&(c+=UWORD32)),c}function $isUint32(a){return $isSafeInteger(a)&&a>=0&&MAX_UINT32>=a}function $ascending(a,b){var c,d=$toString(a),e=$toString(b);return c=d===e?0:e>d?-1:1}function $descending(a,b){var c,d=$toString(a),e=$toString(b);return c=d===e?0:e>d?1:-1}function $specialToObject(a){var b=$toObject(a);if(!$hasOwnValidLength(b))throw new CTypeError("invalid length property: "+$toString(b));if($isFunction(a))throw new CTypeError("argument is a function: "+$toString(b));return b}function $testV8StrictBug(a){var b=!1;return isStrictMode&&$affirm.doesNotThrow(function(){$call(a,[1],function(){b="object"===$typeOf(this)},"foo")},"should not throw when calling function"),b}function $affirmArrayMethodTestsBasic(a){return function(){$affirmBasic(a)(),$affirm.ok(!$testV8StrictBug(a),"V8 bug")}}function $affirmArrayMethodTestsObject(a){return function(){$affirmArrayMethodTestsBasic(a)();var b;$affirm.doesNotThrow(function(){$call(a,"foo",function(){b=arguments[$toLength(arguments.length)-1]})},"should not throw when calling function"),$affirm.strictEqual($typeOf(b),"object","is object"),$affirm.ok($isString(b),"is string")}}function clampSafeInt(a){return $min($max($toInteger(a),MIN_SAFE_INTEGER),MAX_SAFE_INTEGER)}function $makeDate(a){var b=new CDate(a);return b.toISOString=exports.Date.proto.toISOString,b.toJSON=exports.Date.proto.toJSON,b}function $isInstance(a,b){if(!$isFunction(b))throw new CTypeError("Ctor is not a constructor.");var c=!1;return null===a||$isUndefined(a)||($instanceOf(a,b)?c=!0:$isPrimitive(a)||$isPlainObject(a)||$isFunction(a)||"string"!=typeof a.classId||(c=a.classId===b.prototype.classId)),c}function provideItem(a){return!$isPrimitive(a)&&$isPlainObject(a)&&(a={}),a}function defineItem(a,b,c){$defineProperty(a,b,$assign({value:provideItem(c)},propNotEnumerable))}function addMethodsList(a){$call(pHasOwn,a,"methods")||defineItem(a,"methods",[])}var base,testShims=!1,enableLog=!0,$conlog,$affirm,POSITIVE_ZERO=0,NEGATIVE_ZERO=-0,WORD8=128,UWORD8=256,WORD16=32768,UWORD16=65536,WORD32=2147483648,UWORD32=4294967296,MAX_UINT32=4294967295,MAX_INT32=2147483647,MIN_INT32=-2147483648,MAX_UINT16=65535,MAX_INT16=32767,MIN_INT16=-32768,MAX_UINT8=255,MAX_INT8=127,MIN_INT8=-128,MAX_SAFE_INTEGER=9007199254740991,MIN_SAFE_INTEGER=-9007199254740991,UNSAFE_INTEGER=9007199254740992,MAX_VALUE=1.7976931348623157e308,MIN_VALUE=5e-324,EPSILON=2.220446049250313e-16,INFINITY=1/POSITIVE_ZERO,NEGATIVE_INFINITY=1/NEGATIVE_ZERO,stringTagArguments="[object Arguments]",stringTagFunction="[object Function]",stringTagObject="[object Object]",stringTagUndefined="[object Undefined]",stringTagNull="[object Null]",stringTagError="[object Error]",stringTagRegExp="[object RegExp]",stringTagArray="[object Array]",stringTagDate="[object Date]",stringTagString="[object String]",stringTagBoolean="[object Boolean]",stringTagNumber="[object Number]",stringTagArrayBuffer="[object ArrayBuffer]",stringTagFloat32Array="[object Float32Array]",stringTagFloat64Array="[object Float64Array]",stringTagInt8Array="[object Int8Array]",stringTagInt16Array="[object Int16Array]",stringTagInt32Array="[object Int32Array]",stringTagUint8Array="[object Uint8Array]",stringTagUint8ClampedArray="[object Uint8ClampedArray]",stringTagUint16Array="[object Uint16Array]",stringTagUint32Array="[object Uint32Array]",stringTagHTMLCollection="[object HTMLCollection]",stringTagNodeList="[object NodeList]",hasAccessorSupport,stringProto="__proto__",stringDefineGetter="__defineGetter__",stringDefineSetter="__defineSetter__",stringLookupGetter="__lookupGetter__",stringLookupSetter="__lookupGetter__",hintString="",hintNumber=0,propConstant,propNotEnumerable,shadowed,CError,CTypeError,CSyntaxError,CRangeError,CReferenceError,CEvalError,CURIError,CNumber,CString,CDate,CRegExp,CFunction,CBoolean,CArray,protoObject,protoFunction,protoNumber,protoBoolean,protoString,protoDate,protoRegExp,protoArray,protoError,protoTypeError,protoSyntaxError,protoRangeError,protoEvalError,protoReferenceError,protoURIError,$Object,$Number,$min,$max,$floor,$abs,$ceil,$random,$sqrt,$pow,$isFunction,$throwIfNotFunction,$toStringTag,hasDontEnumBug,hasProtoEnumBug,hasEnumArgsBug,hasEnumStringBug,hasBoxedStringBug,hasArrayLengthBug,unwantedError,hasErrorProps,wspaceStrings,hasWorkingGOPD,hasProto,hasGetSet,isStrictMode,hasDeleteBug,hasCallBug,hasApplyBug,hasApplyRequiresArrayLikeBug,supportsApplyArrayLike,supportsXFrameClass,$pSlice,$pConcat,$String,pMatch,pSplit,pSearch,pCharCodeAt,pSIndexOf,pReplace,pHasOwn,pExec,pTest,$hasProperty,$getItem,$toNumber,$instanceOf,$returnThis,$unshift,$shift,$reverse,$hasOwn,$repeat,$isNumber,$isBoolean,$isString,$isError,$isDate,$isNative,$isArguments,$isArray,$isRegExp,$isSymbol,$isInteger,$isSafeInteger,$isNumeric,$inRange,$isPlainObject,$isErrorTypeConstructor,$getPrototypeOf,$modulo,$forEach,$push,$pop,$deepEqual,$deepStrictEqual,$defineProperty,$defineProperties,$assign,$create,$objectKeys,$stringify,$truncate,$inherits,$stringContains,$exec,$test,$slice,$argSlice,$split,$replace,$splice,$isDigits,$join,$parseInt,$trim,$substr,$parseFloat,$concat,$randomInt,$pApply,$pCall,$call,$apply,$isNaN,$isFinite,$sort,$defProp,$deleteProperty,$sSlice,$forKeys,$indexOf,$isCircular,$propertyIsEnumerable,$toMethod,BigNum,exports;if(exports={Boolean:{proto:{}},Number:{proto:{}},String:{proto:{}},Array:{proto:{}},Object:{proto:{}},Function:{proto:{}},Date:{proto:{}},Error:{proto:{}},RegExp:{proto:{}},Math:{},JSON:{}},unwantedError=[],propConstant={enumerable:!1,writable:!1,configurable:!1},propNotEnumerable={enumerable:!1,writable:!0,configurable:!0},shadowed=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],base={isNaN:global.isNaN,isFinite:global.isFinite,parseInt:global.parseInt,parseFloat:global.parseFloat,Math:{sign:global.Math.sign,min:global.Math.min,max:global.Math.max,floor:global.Math.floor,ceil:global.Math.ceil,abs:global.Math.abs,random:global.Math.random,pow:global.Math.pow,sqrt:global.Math.sqrt,round:global.Math.round},Object:{Ctr:global.Object,proto:global.Object.prototype,assign:global.Object.assign,create:global.Object.create,defineProperties:global.Object.defineProperties,defineProperty:global.Object.defineProperty,freeze:global.Object.freeze,getOwnPropertyDescriptor:global.Object.getOwnPropertyDescriptor,getOwnPropertyNames:global.Object.getOwnPropertyNames,getPrototypeOf:global.Object.getPrototypeOf,is:global.Object.is,isExtensible:global.Object.isExtensible,isFrozen:global.Object.isFrozen,isSealed:global.Object.isSealed,keys:global.Object.keys,preventExtensions:global.Object.preventExtensions,seal:global.Object.seal,setPrototypeOf:global.Object.setPrototypeOf,defineGetter:global.Object.prototype[stringDefineGetter],defineSetter:global.Object.prototype[stringDefineSetter],lookupGetter:global.Object.prototype[stringLookupGetter],lookupSetter:global.Object.prototype[stringLookupSetter],hasOwn:global.Object.prototype.hasOwnProperty,isPrototypeOf:global.Object.prototype.isPrototypeOf,propertyIsEnumerable:global.Object.prototype.propertyIsEnumerable,toLocaleString:global.Object.prototype.toLocaleString,toSource:global.Object.prototype.toSource,toString:global.Object.prototype.toString,unwatch:global.Object.prototype.unwatch,valueOf:global.Object.prototype.valueOf,watch:global.Object.prototype.watch},Array:{Ctr:global.Array,proto:global.Array.prototype,isArray:global.Array.isArray,of:global.Array.of,from:global.Array.from,concat:global.Array.prototype.concat,every:global.Array.prototype.every,filter:global.Array.prototype.filter,find:global.Array.prototype.find,findIndex:global.Array.prototype.findIndex,forEach:global.Array.prototype.forEach,indexOf:global.Array.prototype.indexOf,join:global.Array.prototype.join,lastIndexOf:global.Array.prototype.lastIndexOf,map:global.Array.prototype.map,pop:global.Array.prototype.pop,push:global.Array.prototype.push,reduce:global.Array.prototype.reduce,reduceRight:global.Array.prototype.reduceRight,reverse:global.Array.prototype.reverse,shift:global.Array.prototype.shift,slice:global.Array.prototype.slice,some:global.Array.prototype.some,sort:global.Array.prototype.sort,splice:global.Array.prototype.splice,toString:global.Array.prototype.toString,unshift:global.Array.prototype.unshift},String:{Ctr:global.String,proto:global.String.prototype,fromCharCode:global.String.fromCharCode,fromCodePoint:global.String.fromCodePoint,anchor:global.String.prototype.anchor,charAt:global.String.prototype.charAt,charCodeAt:global.String.prototype.charCodeAt,codePointAt:global.String.prototype.codePointAt,concat:global.String.prototype.concat,contains:global.String.prototype.contains,endsWith:global.String.prototype.endsWith,indexOf:global.String.prototype.indexOf,lastIndexOf:global.String.prototype.lastIndexOf,link:global.String.prototype.link,localeCompare:global.String.prototype.localeCompare,match:global.String.prototype.match,normalize:global.String.prototype.normalize,repeat:global.String.prototype.repeat,replace:global.String.prototype.replace,search:global.String.prototype.search,slice:global.String.prototype.slice,split:global.String.prototype.split,startsWith:global.String.prototype.startsWith,substr:global.String.prototype.substr,substring:global.String.prototype.substring,toLocaleLowerCase:global.String.prototype.toLocaleLowerCase,toLocaleUpperCase:global.String.prototype.toLocaleUpperCase,toLowerCase:global.String.prototype.toLowerCase,toString:global.String.prototype.toString,toUpperCase:global.String.prototype.toUpperCase,trim:global.String.prototype.trim,trimLeft:global.String.prototype.trimLeft,trimRight:global.String.prototype.trimRight,valueOf:global.String.prototype.valueOf},Number:{Ctr:global.Number,proto:global.Number.prototype,EPSILON:global.Number.EPSILON,MAX_VALUE:global.Number.MAX_VALUE,MIN_VALUE:global.Number.MIN_VALUE,MAX_SAFE_INTEGER:global.Number.MAX_SAFE_INTEGER,MIN_SAFE_INTEGER:global.Number.MIN_SAFE_INTEGER,NaN:global.Number.NaN,POSITIVE_INFINITY:global.Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:global.Number.NEGATIVE_INFINITY,isFinite:global.Number.isFinite,isInteger:global.Number.isInteger,isSafeInteger:global.Number.isSafeInteger,isNaN:global.Number.isNaN,parseFloat:global.Number.parseFloat,parseInt:global.Number.parseInt,toExponential:global.Number.prototype.toExponential,toFixed:global.Number.prototype.toFixed,toLocaleString:global.Number.prototype.toLocaleString,toPrecision:global.Number.prototype.toPrecision,toString:global.Number.prototype.toString,valueOf:global.Number.prototype.valueOf},Boolean:{Ctr:global.Boolean,proto:global.Boolean.prototype,toString:global.Boolean.prototype.toString,valueOf:global.Boolean.prototype.valueOf},Function:{Ctr:global.Function,proto:global.Function.prototype,apply:global.Function.prototype.apply,bind:global.Function.prototype.bind,call:global.Function.prototype.call,toString:global.Function.prototype.toString},RegExp:{Ctr:global.RegExp,proto:global.RegExp.prototype,exec:global.RegExp.prototype.exec,test:global.RegExp.prototype.test,toString:global.RegExp.prototype.toString},Date:{Ctr:global.Date,proto:global.Date.prototype,now:global.Date.now,toJSON:global.Date.prototype.toJSON,toISOString:global.Date.prototype.toISOString,getTime:global.Date.prototype.getTime},Error:{Ctr:global.Error,proto:global.Error.prototype},TypeError:{Ctr:global.TypeError,proto:global.TypeError.prototype},SyntaxError:{Ctr:global.SyntaxError,proto:global.SyntaxError.prototype},RangeError:{Ctr:global.RangeError,proto:global.RangeError.prototype},EvalError:{Ctr:global.EvalError,proto:global.EvalError.prototype},ReferenceError:{Ctr:global.ReferenceError,proto:global.ReferenceError.prototype},URIError:{Ctr:global.URIError,proto:global.URIError.prototype}},base.JSON={},"object"==typeof global.JSON&&global.JSON?(base.JSON.parse=global.JSON.parse,base.JSON.stringify=global.JSON.stringify):(base.JSON.parse=Undefined,base.JSON.stringify=Undefined),CError=base.Error.Ctr,CTypeError=base.TypeError.Ctr,CSyntaxError=base.SyntaxError.Ctr,CRangeError=base.RangeError.Ctr,CReferenceError=base.ReferenceError.Ctr,CEvalError=base.EvalError.Ctr,CURIError=base.URIError.Ctr,CNumber=base.Number.Ctr,CString=base.String.Ctr,CDate=base.Date.Ctr,CRegExp=base.RegExp.Ctr,CFunction=base.Function.Ctr,CBoolean=base.Boolean.Ctr,CArray=base.Array.Ctr,protoObject=base.Object.proto,protoFunction=base.Function.proto,protoNumber=base.Number.proto,protoBoolean=base.Boolean.proto,protoString=base.String.proto,protoDate=base.Date.proto,protoRegExp=base.RegExp.proto,protoArray=base.Array.proto,protoError=base.Error.proto,protoTypeError=base.TypeError.proto,protoSyntaxError=base.SyntaxError.proto,protoRangeError=base.RangeError.proto,protoEvalError=base.EvalError.proto,protoReferenceError=base.ReferenceError.proto,protoURIError=base.URIError.proto,$String=base.String.Ctr,pMatch=base.String.match,pSplit=base.String.split,pCharCodeAt=base.String.charCodeAt,pSIndexOf=base.String.indexOf,pReplace=base.String.replace,pSearch=base.String.search,pHasOwn=base.Object.hasOwnProperty,pExec=base.RegExp.exec,pTest=base.RegExp.test,$parseFloat=base.parseFloat,$Object=base.Object.Ctr,$Number=base.Number.Ctr,$String=base.String.Ctr,$min=base.Math.min,$max=base.Math.max,$floor=base.Math.floor,$abs=base.Math.abs,$ceil=base.Math.ceil,$random=base.Math.random,$sqrt=base.Math.sqrt,$pow=base.Math.pow,exports.Object.isUndefined=$isUndefined,exports.Object.isPrimitive=$isPrimitive,$isDate=function(a){return!$isPrimitive(a)&&a.constructor&&a.constructor===CDate},$isFunction=function(a){return"function"==typeof a||!1},exports.Object.ToPrimitive=$toPrimitive,$toNumber=function(){var a,b;if(b=function(a){var c,d=typeof a;if("undefined"===d)c=0/0;else if(null===a)c=0;else if("boolean"===d)c=a?1:0;else if("number"===d)c=a;else if("string"===d)c=$Number(a);else{if("symbol"===d)throw new TypeError("Can not convert symbol to a number");c=b($toPrimitive(a,hintNumber))}return c},!testShims)try{a={},a=+a,a={valueOf:""},a=+a,a={valueOf:"1"},a=+a,a={valueOf:1},a=+a,a={valueOf:1.1},a=+a,b=function(a){return+a}}catch(c){}return b}(),exports.Object.ToNumber=$toNumber,$isNaN=function(a){var b=$toNumber(a);return!$strictEqual(b,b)},$isFinite=function(a){var b=$toNumber(a);return $strictEqual(b,b)&&b!==INFINITY&&b!==NEGATIVE_INFINITY},$isInteger=function(a){return"number"==typeof a&&a!==INFINITY&&a!==NEGATIVE_INFINITY&&$toInteger(a)===a},$isSafeInteger=function(a){return"number"==typeof a&&a!==INFINITY&&a!==NEGATIVE_INFINITY&&$toInteger(a)===a&&a>=MIN_SAFE_INTEGER&&MAX_SAFE_INTEGER>=a},hasDeleteBug=function(){var a,b=[0,1,2,3];try{delete b[2],delete b[2],a=!1}catch(c){a=!0}return a}(),$deleteProperty=function(){var a;return a=hasDeleteBug?function(a,b){try{return delete a[b]}catch(c){return c}}:function(a,b){return delete a[b]}}(),$returnThis=function(){return this},isStrictMode=!$returnThis(),hasCallBug=function(){var a,b=function(){return this};try{a=!isStrictMode&&"string"==typeof $call(b,"foo")}catch(c){a=!1}return a}(),hasApplyBug=function(){var a;try{a=!isStrictMode&&"string"==typeof $returnThis.apply("foo")}catch(b){a=!1}return a}(),hasApplyRequiresArrayLikeBug=function(){var a;try{$returnThis.apply("foo"),a=!1}catch(b){a=!0}return a}(),supportsApplyArrayLike=function(){var a,b;a=function(a){return a};try{b=1===a.apply("foo",$returnArgs(1)),b=1===a.apply("foo",{0:1,length:1})}catch(c){b=!1}return b}(),hasBoxedStringBug=function(){var a=$Object("a");return"a"!==a[0]||!(0 in a)}(),$isString=function(a){return"string"==typeof a||!$isPrimitive(a)&&"number"==typeof a.length&&"charAt"in a},$isArguments=function(a){return!$isPrimitive(a)&&"number"==typeof a.length&&"callee"in a&&!("arguments"in a)},$hasProperty=function(){var a;return a=hasBoxedStringBug?function(a,b){var c=$toString(b);return $isString(a)&&$isIndex(c,a.length)||$toString(c)in $toObject(a)}:function(a,b){return $toString(b)in $toObject(a)}}(),$pApply=function(a){var b;return b=a?testShims||hasApplyBug||hasApplyRequiresArrayLikeBug||!supportsApplyArrayLike?function(){return function(b,c){var d,e,f=$Object($throwArgsWrongType(c)),g=$toLength(f.length),h=$getName(this,"__$pApply_"),i=[];for(this[h]=a,i.length=g,d=0;g>d;d+=1)i[d]=f[d];return e=this[h]($toObjectThisArg(b,isStrictMode),i),$deleteProperty(this,h),e}}():a:function(a,b){return $evalCallApply(a,"__$pApply__",this,$Object($throwArgsWrongType(b)),0)}}(base.Function.apply),$pCall=function(){var a;return a=base.Function.call?testShims||hasCallBug?function(){return function(a){var b,c,d=$toLength(arguments.length),e=$getName(this,"__$pCall__"),f=[];for(this[e]=$pApply,f.length=d-1,b=1;d>b;b+=1)f[b-1]=arguments[b];return c=this[e]($toObjectThisArg(a,isStrictMode),f),$deleteProperty(this,e),c}}():base.Function.call:function(a){return $evalCallApply(a,"__$pCall__",this,arguments,1)}}(),$call=function(a,b){var c,d,e=$toLength(arguments.length),f=$getName(a,"__$call__"),g=[];for(g.length=$toLength(e-2),c=2;e>c;c+=1)g[c-2]=arguments[c];return a[f]=$pApply,d=a[f](b,g),$deleteProperty(a,f),d},$apply=function(a,b,c){var d,e=$getName(a,"__$apply__");return a[e]=$pApply,d=a[e](b,c),$deleteProperty(a,e),d},$getItem=function(a){return function(b,c,d){var e;return hasBoxedStringBug&&d?e=$call(a,b,c):(e=b[c],d&&$isUndefined(e)&&(e="")),e}}(base.String.charAt),$toStringTag=function(a){return function(b){var c;return c=$isUndefined(b)?stringTagUndefined:null===b?stringTagNull:$call(a,b)}}(base.Object.toString),$pSlice=function(a,b){var c,d,e,f=$toObject(this),g=$toLength(f.length),h=$isString(f),i=$toInteger(a),j=[],k=0;for(e=0>i?$max(g+i,0):$min(i,g),c=$isUndefined(b)?g:$toInteger(b),d=0>c?$max(g+c,0):$min(c,g),d=$toLength(d),j.length=$toLength($max(d-e,0));d>e;)$hasItem(f,e,h)&&(j[k]=$getItem(f,e,h)),k+=1,e+=1;return j},$argSlice=function(a,b,c){return $call($pSlice,a,b,c)},$slice=$argSlice,$isFunction=function(a){return $isFunction(/x/)||global.Uint8Array&&!$isFunction(global.Uint8Array)?function(b){return $call(a,b)===stringTagFunction}:$isFunction}(base.Object.toString),$throwIfNotFunction=function(a){return $isFunction(a)||$throwNotFunction(a),a},("function"==typeof window||"object"==typeof window)&&(supportsXFrameClass=isStrictMode),$isBoolean=function(a,b){var c;return $call(a,protoBoolean)!==stringTagBoolean&&(c=!0),function(d){return"boolean"==typeof d||!$isPrimitive(d)&&(c&&d===protoBoolean||$call(a,d)===stringTagBoolean||$checkXFrame(d,b))}}(base.Object.toString,$toString(CBoolean)),exports.Boolean.isBoolean=$isBoolean,$isNumber=function(a,b){var c;return $call(a,protoNumber)!==stringTagNumber&&(c=!0),function(d){return"number"==typeof d||!$isPrimitive(d)&&(c&&d===protoNumber||$call(a,d)===stringTagNumber||$checkXFrame(d,b))}}(base.Object.toString,$toString(CNumber)),exports.Number.isNumber=$isNumber,$isString=function(a,b){var c;return $call(a,protoString)!==stringTagString&&(c=!0),function(d){if("string"==typeof d)return!0;if(!$isPrimitive(d)){if(c&&d===protoString)return!0;if($call(pHasOwn,d,"length")&&($call(a,d)===stringTagString||$checkXFrame(d,b)))return!0}return!1}}(base.Object.toString,$toString(CString)),exports.String.isString=$isString,$isSymbol=function(a){return"symbol"==typeof a},exports.Object.isSymbol=$isSymbol,$isArray=function(a,b){var c;return $call(a,protoArray)!==stringTagArray&&(c=!0),function(d){if(!$isPrimitive(d)){if(c&&d===protoArray)return!0;if($call(pHasOwn,d,"length")&&!$call(pHasOwn,d,"callee")&&($call(a,d)===stringTagArray||$checkXFrame(d,b)))return!0}return!1}}(base.Object.toString,$toString(CArray)),$isArguments=function(a){function b(a){return!$isPrimitive(a)&&$call(pHasOwn,a,"length")&&$call(pHasOwn,a,"callee")&&!$call(pHasOwn,a,"arguments")}var c,d=$call(a,$returnArgs())===stringTagArguments;return c=d?function(c){return!$isPrimitive(c)&&$call(pHasOwn,c,"length")&&($call(a,c)===stringTagArguments||supportsXFrameClass===!1&&b(c))}:b}(base.Object.toString),exports.Object.isArguments=$isArguments,$isRegExp=function(a,b){var c,d,e,f,g=$call(a,new CRegExp("x")),h=g===stringTagRegExp;return h?(c="[object RegExpPrototype]",g=$call(a,protoRegExp),g===c?d=!0:g!==stringTagRegExp&&(e=!0),f=function(f){var g;if(!$isPrimitive(f)){if(g=$call(a,f),$call(pHasOwn,f,"ignoreCase")){if(g===stringTagRegExp)return!0;if(e&&f===protoRegExp)return!0;if($checkXFrame(f,b))return!0}if(d&&g===c)return!0}return!1}):f=function(a){return!$isPrimitive(a)&&$call(pHasOwn,a,"ignoreCase")&&"boolean"==typeof a.ignoreCase&&$call(pHasOwn,a,"global")&&"boolean"==typeof a.global&&$call(pHasOwn,a,"multiline")&&"boolean"==typeof a.multiline&&$call(pHasOwn,a,"source")&&"string"==typeof a.source},f}(base.Object.toString,$toString(CRegExp)),exports.RegExp.isRegExp=$isRegExp,$isError=function(a,b){var c;return $call(a,protoError)!==stringTagError&&(c=!0),function(d){if(!$isPrimitive(d)){if(c&&d===protoError)return!0;if($call(pHasOwn,d,"message")&&($call(a,d)===stringTagError||$checkXFrame(d,b)))return!0}return!1}}(base.Object.toString,$toString(CError)),exports.Error.isError=$isError,$isDate=function(a,b){var c;return $call(a,protoDate)!==stringTagArray&&(c=!0),function(d){return!$isPrimitive(d)&&(c&&d===protoDate||$call(a,d)===stringTagDate||$checkXFrame(d,b))}}(base.Object.toString,$toString(CDate)),exports.Date.isDate=$isDate,$instanceOf=function(a){return function(b,c){return $throwIfNotFunction(c),!$isPrimitive(b)&&(b instanceof c||!$isPrimitive(c.prototype)&&$call(a,c.prototype,b))}}(base.Object.isPrototypeOf),$isPlainObject=function(a){return!$isPrimitive(a)&&!$isFunction(a)&&!$isPrimitive(a.constructor)&&a.constructor.prototype===protoObject},$affirm={},$affirm.AffirmError=function(){function a(){}var b=function(a){$isPlainObject(a)||(a={}),$isFunction(a.stackStartFunction)||(a.stackStartFunction=$affirm.AffirmError),$call(CError,this,a.message,a.stackStartFunction),this.message=a.message,this.actual=a.actual,this.expected=a.expected,this.operator=a.operator};return a.prototype=protoError,b.prototype=new a,b.prototype.name="AffirmError",b.prototype.constructor=b,b}(),$affirm.fail=function(a,b,c,d,e){throw $throwIfNotEnoughArgs(arguments,4),$isFunction(e)||(e=$affirm.fail),new $affirm.AffirmError({actual:a,expected:b,message:$toString(c),operator:$toString(d),stackStartFunction:e})},$affirm.ok=function(a,b,c){$throwIfNotEnoughArgs(arguments,1);var d;a=!a,a&&(d=$optArgs(2,b,c,$affirm.ok),$affirm.fail(!a,!0,d.message,"ok",d.stackStartFunction))},$affirm.equal=function(a,b,c,d){$throwIfNotEnoughArgs(arguments,2);var e;a!=b&&(e=$optArgs(3,c,d,$affirm.equal),$affirm.fail(a,b,e.message,"==",e.stackStartFunction))},$affirm.notEqual=function(a,b,c,d){$throwIfNotEnoughArgs(arguments,2);var e;a==b&&(e=$optArgs(3,c,d,$affirm.notEqual),$affirm.fail(a,b,e.message,"!=",e.stackStartFunction))},$affirm.strictEqual=function(a,b,c,d){$throwIfNotEnoughArgs(arguments,2);var e;a!==b&&(e=$optArgs(3,c,d,$affirm.strictEqual),$affirm.fail(a,b,e.message,"===",e.stackStartFunction))},$affirm.notStrictEqual=function(a,b,c,d){$throwIfNotEnoughArgs(arguments,2);var e;a===b&&(e=$optArgs(3,c,d,$affirm.notStrictEqual),$affirm.fail(a,b,e.message,"!==",e.stackStartFunction))},$affirm["throws"]=function(a,b,c,d){$throwIfNotEnoughArgs(arguments,2);var e,f,g;if($isFunction(a))try{a()}catch(h){e=h}if($isFunction(b))try{throw new b}catch(i){$instanceOf(i,CError)&&(f=b)}f||(f=CError),$instanceOf(e,f)||(g=$optArgs(3,c,d,$affirm["throws"]),$affirm.fail(e,f,g.message,"throws",g.stackStartFunction))},$affirm.doesNotThrow=function(a,b,c){$throwIfNotEnoughArgs(arguments,1);var d,e;if($isFunction(a))try{a()}catch(f){d=f}$isUndefined(d)||(e=$optArgs(2,b,c,$affirm.doesNotThrow),$affirm.fail(d,Undefined,e.message,"doesNotThrow",e.stackStartFunction))},$affirm.ifError=function(a){if(a)throw a},$pConcat=function(){var a,b,c,d,e=$toObject(this),f=$toLength(arguments.length),g=[],h=0;for(b=-1;f>b;b+=1)if(c=-1===b?e:arguments[b],$isArray(c))for(d=0,a=$toLength(c.length);a>d;)$hasProperty(c,d)?(g[h]=c[d],d+=1):g[h]=c,h+=1;return g},$concat=function(a){return $apply($pConcat,a,$argSlice(arguments,1))},$conlog=function(a){var b,c,d,e=!$isPrimitive(a)&&!$isPrimitive(a.log);if(e){b=a.log,c=["Test log",!0];try{$apply(b,a,c),c.length=1,d=function(){enableLog&&$apply(b,a,arguments)},d("Using function apply for logging")}catch(f){d=null}if(!d)try{b(c[0]),b(c[1]),d=function(){var a,c;if(enableLog)for(a=arguments.length,c=0;a>c;c+=1)b(arguments[c])},d("Using for loop for logging")}catch(g){d=null}}return d||(d=function(){}),function(){if(global.log&&global.log.debug)try{$apply(global.log.debug,global.log,arguments)}catch(a){}$apply(d,null,arguments)}}(global.console),$toStringTag=function(a){return function(b){var c;return $isPrimitive(b)?$isUndefined(b)?c=stringTagUndefined:null===b&&(c=stringTagNull):$call(pHasOwn,b,"length")?$isArguments(b)?c=stringTagArguments:$isArray(b)?c=stringTagArray:$isString(b)?c=stringTagString:$isFunction(b)&&(c=stringTagFunction):$isNumber(b)?c=stringTagNumber:$isBoolean(b)?c=stringTagBoolean:$isRegExp(b)?c=stringTagRegExp:$isDate(b)?c=stringTagDate:$isError(b)&&(c=stringTagError),c||(c=$call(a,b)),c}}(base.Object.toString),hasDontEnumBug=!$call(base.Object.propertyIsEnumerable,{toString:null},"toString"),hasProtoEnumBug=$call(base.Object.propertyIsEnumerable,function(){},"prototype"),hasEnumArgsBug=function(){var a,b=$returnArgs("h","e","j"),c={};for(a in b)("0"===a||"1"===a||"2"===a)&&(c[a]=b[a]);return"h"!==c[0]||"e"!==c[1]||"j"!==c[2]}(),hasEnumStringBug=!$call(pHasOwn,"x","0"),hasArrayLengthBug="number"!=typeof[].length,hasErrorProps=function(){var a,b,c,d,e,f,g=[protoError,protoTypeError,protoSyntaxError,protoRangeError,protoEvalError,protoReferenceError,protoURIError],h=$toLength(g.length);for(unwantedError.length=0,a=0;h>a;a+=1){f=g[a];for(d in f)if($call(pHasOwn,f,d)){for(e=!1,b=$toLength(unwantedError.length),c=0;b>c;c+=1)if(d===unwantedError[c]){e=!0;break}if(!e)try{if(base.Object.defineProperty){if(base.Object.defineProperty(f,d,propNotEnumerable),base.Object.propertyIsEnumerable(protoFunction,"length"))throw new CError("Still enumerable");$conlog("Unwanted error "+d+" patched")}}catch(i){unwantedError.length+=1,unwantedError[b]=d,$conlog("Unwanted error "+d+" patch failed")}}}return!!unwantedError.length}(),hasProto=null===protoObject[stringProto],hasGetSet=$isFunction(base.Object.lookupGetter)&&$isFunction(base.Object.lookupSetter),$toMethod=function(){var a={1:function(a,b){return function(c){return $apply(a,b(c),$argSlice(arguments,1))}},2:function(a,b){return function(c,d){return $apply(a,b(c),$argSlice(arguments,1))}},3:function(a,b){return function(c,d,e){return $apply(a,b(c),$argSlice(arguments,1))}},4:function(a,b){return function(c,d,e,f){return $apply(a,b(c),$argSlice(arguments,1))}},5:function(a,b){return function(c,d,e,f,g){return $apply(a,b(c),$argSlice(arguments,1))}},6:function(a,b){return function(c,d,e,f,g,h){return $apply(a,b(c),$argSlice(arguments,1))}},7:function(a,b){return function(c,d,e,f,g,h,i){return $apply(a,b(c),$argSlice(arguments,1))}},8:function(a,b){return function(c,d,e,f,g,h,i,j){return $apply(a,b(c),$argSlice(arguments,1))}},9:function(a,b){return function(c,d,e,f,g,h,i,j,k){return $apply(a,b(c),$argSlice(arguments,1))}},10:function(a,b){return function(c,d,e,f,g,h,i,j,k,l){return $apply(a,b(c),$argSlice(arguments,1))}},minArgs:1,maxArgs:10};return function(b,c){$throwIfNotFunction(b),$isFunction(c)||(c=$requireObjectCoercible);var d=$min($max($toLength(b.length)+1,a.minArgs),a.maxArgs);return a[d](b,c)}}(),$slice=$toMethod($pSlice),$conlog("+++++++++ hasDontEnumBug: "+hasDontEnumBug),$conlog("+++++++++ hasProtoEnumBug: "+hasProtoEnumBug),$conlog("+++++++++ hasEnumArgsBug: "+hasEnumArgsBug),$conlog("+++++++++ hasErrorProps: "+hasErrorProps),$conlog("+++++++++ hasBoxedStringBug: "+hasBoxedStringBug),$conlog("+++++++++ hasEnumStringBug: "+hasEnumStringBug),$conlog("+++++++++ hasArrayLengthBug: "+hasArrayLengthBug),$conlog("+++++++++ hasDeleteBug: "+hasDeleteBug),$conlog("+++++++++ hasCallBug: "+hasCallBug),$conlog("+++++++++ hasApplyBug: "+hasApplyBug),
$conlog("+++++++++ hasApplyRequiresArrayLikeBug: "+hasApplyRequiresArrayLikeBug),$conlog("+++++++++ supportsApplyArrayLike: "+supportsApplyArrayLike),$conlog("+++++++++ hasProto: "+hasProto),$conlog("+++++++++ hasGetSet: "+hasGetSet),$conlog("+++++++++ isStrictMode: "+isStrictMode),exports.version="0.2.0",exports.Number.POSITIVE_ZERO=POSITIVE_ZERO,exports.Number.NEGATIVE_ZERO=NEGATIVE_ZERO,exports.Number.WORD8=WORD8,exports.Number.UWORD8=UWORD8,exports.Number.WORD16=WORD16,exports.Number.UWORD16=UWORD16,exports.Number.WORD32=WORD32,exports.Number.UWORD32=UWORD32,exports.Number.MAX_UINT32=MAX_UINT32,exports.Number.MAX_INT32=MAX_INT32,exports.Number.MIN_INT32=MIN_INT32,exports.Number.MAX_UINT16=MAX_UINT16,exports.Number.MAX_INT16=MAX_INT16,exports.Number.MIN_INT16=MIN_INT16,exports.Number.MAX_UINT8=MAX_UINT8,exports.Number.MAX_INT8=MAX_INT8,exports.Number.MIN_INT8=MIN_INT8,exports.Number.MAX_SAFE_INTEGER=MAX_SAFE_INTEGER,exports.Number.MIN_SAFE_INTEGER=MIN_SAFE_INTEGER,exports.Number.UNSAFE_INTEGER=UNSAFE_INTEGER,exports.Number.MAX_VALUE=MAX_VALUE,exports.Number.MIN_VALUE=MIN_VALUE,exports.Number.NaN=0/0,exports.Number.POSITIVE_INFINITY=INFINITY,exports.Number.NEGATIVE_INFINITY=NEGATIVE_INFINITY,exports.Number.EPSILON=EPSILON,exports.Function.noop=noop,exports.Function.returnArgs=$returnArgs,exports.Number.clamp=function(a,b,c){return $min($max(a,b),c)},exports.Number.isPositive=function(a){var b;return b="number"!=typeof a?!1:0===a?1/a===INFINITY:a>0},exports.Number.isNegative=function(a){var b;return b="number"!=typeof a?!1:0===a?1/a!==INFINITY:0>a},$toString=$decide(function(){$affirm.ok(!testShims,"testing shim"),$affirm.doesNotThrow(function(){$String()},"test1"),$affirm.strictEqual($String(),"undefined","test2"),$affirm.doesNotThrow(function(){$String(Undefined)},"test3"),$affirm.strictEqual($String(Undefined),"undefined","test4"),$affirm.doesNotThrow(function(){$String(null)},"test5"),$affirm.strictEqual($String(null),"null","test3")},function(){return $String},function(){return $toString},"ToString patch"),exports.String.ToString=$toString,$isNumeric=function(){var a=new CRegExp("^[+\\-]?");return function(b){var c,d,e;return $isNumber(b)||$isString(b)?(d=$call(pReplace,b,a,""),e=$parseFloat(d),c=$strictEqual(e,e)&&$isFinite(d)):c=!1,c}}(),exports.Object.isNumeric=$isNumeric,exports.Number.inRange=function(a,b,c){return b=$toPrimitive(b,hintNumber),$isNumber(b)||$isNumeric(b)||(b=0/0),c=$toPrimitive(c,hintNumber),$isNumber(c)||$isNumeric(c)||(c=0/0),$toNumber(a)>=$toNumber(b)&&a<=$toNumber(c)},$inRange=exports.Number.inRange,exports.Number.outRange=function(a,b,c){return a=$toPrimitive(a,hintNumber),$isNumber(a)&&$strictEqual(a,a)||$isNumeric(a)?(b=$toPrimitive(b,hintNumber),$isNumber(b)&&$strictEqual(b,b)||$isNumeric(b)?(c=$toPrimitive(c,hintNumber),$isNumber(c)&&$strictEqual(c,c)||$isNumeric(c)?(a=$toNumber(a),a<=$toNumber(b)||a>=$toNumber(c)):!0):!0):!0},exports.Object.RequireObjectCoercible=$requireObjectCoercible,exports.Object.ToObject=$toObject,exports.Object.hasProperty=$hasProperty,function(toStringTag){function isFunctionExtended(a){return isFunctionInternal(a,!1)&&isNativeFunction(a)}var runIENativeFunction,isIENativeFunction,isNativeFunction,isFunctionInternal;try{!$isPrimitive(global)&&global.alert&&$call(base.Function.toString,global.alert),runIENativeFunction=!1}catch(eRunIENativeFunction){runIENativeFunction=!0}isIENativeFunction=function(){var a,b=runIENativeFunction&&global.alert&&typeof global.alert.toString,c=new CRegExp("^\\s*\\bfunction\\b");return a="undefined"===b&&$call(pTest,c,global.alert)?function(a){var b=typeof a.toString;return"undefined"===b&&$call(pTest,c,a)}:function(){return!1}}();try{eval("("+$call(base.Function.toString,CFunction)+")"),isNativeFunction=function(){var a=new CRegExp("^function \\S*\\(\\) \\{ (\\[native code\\]|\\/\\* source code not available \\*\\/) \\}$");return function(b){return $call(pTest,a,b)}}()}catch(eINF1){isNativeFunction=function(inputArg){var val;try{eval("("+inputArg.toString()+")"),val=!1}catch(eFnToString){val=!0}return val}}isFunctionInternal=runIENativeFunction?function(a,b){var c;return c=b?isIENativeFunction(a)||isFunctionExtended(a):$call(toStringTag,a)===stringTagFunction}:function(a,b){var c;return c=b?isFunctionExtended(a):$call(toStringTag,a)===stringTagFunction},exports.Function.isFunction=function(a){return!$isPrimitive(a)&&(isFunctionInternal(a,!1)||isFunctionInternal(a,!0))},$isFunction=exports.Function.isFunction,exports.Function.isNativeFunction=runIENativeFunction?function(a){return $isFunction(a)&&(isNativeFunction(a)||isIENativeFunction(a))}:function(a){return $isFunction(a)&&isNativeFunction(a)}}(base.Object.toString),$isNative=exports.Function.isNativeFunction,exports.Function.proto.call=function(){return $decide(function(){$affirm.ok($isNative(base.Function.call),"not native")},function(){return $decide(function(){$affirm.ok(!testShims,"testing patch"),$affirm.ok(!hasCallBug,"strict mode bug")},function(){return $pCall},function(){return $pCall},"Function.call patch")},function(){return $pCall},"Function.call shim")}(),exports.Function.call=$call,exports.Function.proto.apply=function(){return $decide(function(){$affirm.ok($isNative(base.Function.apply),"not native")},function(){return $decide(function(){$affirm.ok(!testShims,"testing patch"),$affirm.ok(!hasApplyBug,"strict mode bug"),$affirm.ok(!hasApplyRequiresArrayLikeBug,"correct arguments and error throwing"),$affirm.ok(supportsApplyArrayLike,"supports array like objects")},function(){return $pApply},function(){return $pApply},"Function.apply patch")},function(){return $pApply},"Function.apply shim")}(),exports.Function.apply=$apply,exports.Object.typeOf=$typeOf,exports.Object.areSameTypeOf=function(a,b){a=$typeOf(a),b=$typeOf(b);var c,d,e=a===b;if(e)for(c=$toLength(arguments.length),d=2;c>d&&(b=$typeOf(arguments[d]),e=a===b,e);d+=1);return e},exports.Object.areSameClass=function(a,b){a=$toStringTag(a);var c,d,e=a===$toStringTag(b);if(e)for(c=$toLength(arguments.length),d=2;c>d&&(e=a===$toStringTag(arguments[d]),e);d+=1);return e},exports.Object.instanceOf=$instanceOf,exports.isNaN=$decide($affirmBasic(base.isNaN),function(){return base.isNaN},function(){return $isNaN},"isNaN shim"),$isNaN=exports.isNaN,exports.isFinite=$decide($affirmBasic(base.isFinite),function(){return base.isFinite},function(){return $isFinite},"isFinite shim"),$isFinite=exports.isFinite,exports.Array.proto.slice=$decide(function(){function a(){var a,b=arguments.length,c=[];for(c.length=b,a=0;b>a;a+=1)c[a]=arguments[a];return c}function b(a,b,c){var d,e=$apply(base.Array.slice,a,b),f=$toLength(c.length),g=!0;if($toLength(e.length)!==f)g=!1;else for(d=0;f>d;d+=1)if(e[d]!==c[d]){g=!1;break}return g}$affirmBasic(base.Array.slice)(),$affirm["throws"](function(){$call(base.Array.slice)},CTypeError,"no arguments"),$affirm["throws"](function(){$call(base.Array.slice,Undefined)},CTypeError,"argument is undefined"),$affirm["throws"](function(){$call(base.Array.slice,null)},CTypeError,"argument is null");var c=$returnArgs(Undefined,null,1,"a",2,"b",null,Undefined),d=a(Undefined,null,1,"a",2,"b",null,Undefined),e={0:Undefined,1:null,2:1,3:"a",4:2,5:"b",6:null,7:Undefined,length:8},f="1234567890";$affirm.ok(b(d,[],a(Undefined,null,1,"a",2,"b",null,Undefined)),"test1"),$affirm.ok(b(d,[Undefined,Undefined],a(Undefined,null,1,"a",2,"b",null,Undefined)),"test2"),$affirm.ok(b(d,[-1],a(Undefined)),"test3"),$affirm.ok(b(d,[0],a(Undefined,null,1,"a",2,"b",null,Undefined)),"test4"),$affirm.ok(b(d,[3],a("a",2,"b",null,Undefined)),"test5"),$affirm.ok(b(d,[-1,4],[]),"test6"),$affirm.ok(b(d,[0,4],a(Undefined,null,1,"a")),"test7"),$affirm.ok(b(d,[3,6],a("a",2,"b")),"test8"),$affirm.ok(b(c,[],$returnArgs(Undefined,null,1,"a",2,"b",null,Undefined)),"test9"),$affirm.ok(b(c,[Undefined,Undefined],$returnArgs(Undefined,null,1,"a",2,"b",null,Undefined)),"test10"),$affirm.ok(b(c,[-1],$returnArgs(Undefined)),"test11"),$affirm.ok(b(c,[0],$returnArgs(Undefined,null,1,"a",2,"b",null,Undefined)),"test12"),$affirm.ok(b(c,[3],$returnArgs("a",2,"b",null,Undefined)),"test13"),$affirm.ok(b(c,[-1,4],[]),"test14"),$affirm.ok(b(c,[0,4],$returnArgs(Undefined,null,1,"a")),"test15"),$affirm.ok(b(c,[3,6],$returnArgs("a",2,"b")),"test16"),$affirm.ok(b(e,[],a(Undefined,null,1,"a",2,"b",null,Undefined)),"test17"),$affirm.ok(b(e,[Undefined,Undefined],a(Undefined,null,1,"a",2,"b",null,Undefined)),"test18"),$affirm.ok(b(e,[-1],a(Undefined)),"test19"),$affirm.ok(b(e,[0],a(Undefined,null,1,"a",2,"b",null,Undefined)),"test20"),$affirm.ok(b(e,[3],a("a",2,"b",null,Undefined)),"test21"),$affirm.ok(b(e,[-1,4],[]),"test22"),$affirm.ok(b(e,[0,4],a(Undefined,null,1,"a")),"test23"),$affirm.ok(b(e,[3,6],a("a",2,"b")),"test24"),$affirm.ok(b(f,[],a("1","2","3","4","5","6","7","8","9","0")),"test25"),$affirm.ok(b(f,[Undefined,Undefined],a("1","2","3","4","5","6","7","8","9","0")),"test26"),$affirm.ok(b(f,[-1],a("0")),"test27"),$affirm.ok(b(f,[0],a("1","2","3","4","5","6","7","8","9","0")),"test28"),$affirm.ok(b(f,[3],a("4","5","6","7","8","9","0")),"test29"),$affirm.ok(b(f,[-1,4],a()),"test30"),$affirm.ok(b(f,[0,4],a("1","2","3","4")),"test31"),$affirm.ok(b(f,[3,6],a("4","5","6")),"test32")},function(){return base.Array.slice},function(){return $pSlice},"Array.slice shim"),exports.Array.slice=$toMethod(exports.Array.proto.slice),$slice=exports.Array.slice,exports.Function.ToMethod=$toMethod,exports.Object.toStringTag=$toStringTag,exports.Function.proto.bind=$decide(function(){function a(a){this.name=a||"A"}$affirmBasic(base.Function.bind)();var b=[1,2,3],c=$call(base.Function.bind,function(){return b},null),d=new c;$affirm.strictEqual(b,d,"same array"),c=$call(base.Function.bind,a,null,"B"),d=new c,$affirm.ok(d instanceof a,"instanceof a"),$affirm.ok(d instanceof c,"instanceof b"),$affirm.strictEqual(d.name,"B","return B")},function(){return base.Function.bind},function(){function a(){}function b(a,b){return new CFunction("binder","apply","return function ("+b+") { return apply(binder, this, arguments); };")(a,$apply)}return function(c){var d=$throwIfNotFunction(this),e=$argSlice(arguments,1),f=b(function(){var a,b=$concat(e,$argSlice(arguments));return $instanceOf(this,f)?(a=$apply(d,this,b),$Object(a)===a?a:this):$apply(d,c,b)},$bindArgs(d.length-e.length));return $Object(d.prototype)===d.prototype&&(a.prototype=d.prototype,f.prototype=new a,a.prototype=protoFunction),f}},"Function.bind shim"),exports.Function.bind=$toMethod(exports.Function.proto.bind),exports.Array.isArray=$decide(function(){$affirmBasic(base.Array.isArray)(),$affirm.ok(base.Array.isArray([]),"is an array"),$affirm.ok(!base.Array.isArray({}),"is an array")},function(){return base.Array.isArray},function(){return $isArray},"Array.isArray shim"),$isArray=exports.Array.isArray,exports.Array.proto.join=function(){return $decide($affirmBasic(base.Array.join),function(){return $decide(function(){$affirm.strictEqual($call(base.Array.join,[1,2]),"1,2","defaults to comma 1"),$affirm.strictEqual($call(base.Array.join,[1,2],Undefined),"1,2","defaults to comma 2")},function(){return base.Array.join},function(){var a=base.Array.join;return function(b){return $requireObjectCoercible(this),$isUndefined(b)&&(b=","),$call(a,this,b)}},"Array.join patch")},function(){return function(a){var b,c,d=$toObject(this),e=$toLength(d.length),f=e-1,g="";for($isUndefined(a)&&(a=","),a=$toString(a),b=0;e>b;b+=1)c=d[b],null===c||$isUndefined(c)||(g+=$toString(c)),f>b&&(g+=a);return g}},"Array.join shim")}(),exports.Array.join=$toMethod(exports.Array.proto.join),$join=exports.Array.join,exports.Object.is=$decide(function(){$affirmBasic(base.Object.is)()},function(){return base.Object.is},function(){return function(a,b){var c;return c=a===b?0!==a||1/a===1/b:!$strictEqual(a,a)&&!$strictEqual(b,b)}},"Object.is shim"),exports.Number.isNaN=$decide(function(){$affirmBasic(base.Number.isNaN)()},function(){return base.Number.isNaN},function(){return function(a){return"number"==typeof a&&base.isNaN(a)}},"Number.isNaN shim"),exports.Number.isFinite=$decide(function(){$affirmBasic(base.Number.isFinite)()},function(){return base.Number.isFinite},function(){return function(a){return"number"==typeof a&&$strictEqual(a,a)&&a!==INFINITY&&a!==NEGATIVE_INFINITY}},"Number.isFinite shim"),exports.Math.sign=$decide(function(){$affirmBasic(base.Math.sign)()},function(){return base.Math.sign},function(){return function(a){return $toNumber(a)&&($toNumber(a>=0)||-1)}},"Math.sign shim"),exports.Number.toInteger=$toInteger,$isInteger=$decide($affirmBasic(base.Number.isInteger),function(){return base.Number.isInteger},function(){return $isInteger},"Number.isInteger shim"),exports.Number.isInteger=$isInteger,$isSafeInteger=$decide(function(){$affirmBasic(base.Number.isSafeInteger)(),$affirm.ok(!base.Number.isSafeInteger(UNSAFE_INTEGER),"max unsafe"),$affirm.ok(!base.Number.isSafeInteger(-UNSAFE_INTEGER),"min unsafe")},function(){return base.Number.isSafeInteger},function(){return $isSafeInteger},"Number.isSafeInteger shim"),exports.Number.isSafeInteger=$isSafeInteger,exports.Number.toInt32=toInt32,exports.Number.isInt32=function(a){return $isSafeInteger(a)&&a>=MIN_INT32&&MAX_INT32>=a},exports.Number.proto.modulo=function(a){return this-a*$floor(this/a)},exports.Number.modulo=$toMethod(exports.Number.proto.modulo,$firstArg),$modulo=exports.Number.modulo,exports.Number.isOdd=function(a){return $isInteger(a)&&a%2!==0},exports.Number.isEven=function(a){return $isInteger(a)&&a%2===0},exports.Number.toUint=function(a){var b=$toNumber(a),c=0;return b&&$strictEqual(b,b)&&b!==INFINITY&&b!==NEGATIVE_INFINITY&&(c=$modulo($toInteger(b),UNSAFE_INTEGER)),c},exports.Number.isUint=function(a){return $isSafeInteger(a)&&a>=0&&MAX_SAFE_INTEGER>=a},exports.Number.toLength=$toLength,exports.Number.toUint32=function(a){var b=$toNumber(a),c=0;return b&&$strictEqual(b,b)&&b!==INFINITY&&b!==NEGATIVE_INFINITY&&(c=$modulo($toInteger(b),UWORD32)),c},exports.Number.isUint32=$isUint32,exports.Number.toInt16=function(a){var b=$toNumber(a),c=0;return b&&$strictEqual(b,b)&&b!==INFINITY&&b!==NEGATIVE_INFINITY&&(c=(b>0||-1)*$floor($abs(b))%UWORD16,c>MAX_INT16?c-=UWORD16:MIN_INT16>c&&(c+=UWORD16)),c},exports.Number.isInt16=function(a){return $isSafeInteger(a)&&a>=MIN_INT16&&MAX_INT16>=a},exports.Number.toUint16=function(a){var b=$toNumber(a),c=0;return b&&$strictEqual(b,b)&&b!==INFINITY&&b!==NEGATIVE_INFINITY&&(c=$modulo($toInteger(b),UWORD16)),c},exports.Number.isUint16=function(a){return $isSafeInteger(a)&&a>=0&&MAX_UINT16>=a},exports.Number.toInt8=function(a){var b=$toNumber(a),c=0;return b&&$strictEqual(b,b)&&b!==INFINITY&&b!==NEGATIVE_INFINITY&&(c=(b>0||-1)*$floor($abs(b))%UWORD8,c>MAX_INT8?c-=UWORD8:MIN_INT8>c&&(c+=UWORD8)),c},exports.Number.isInt8=function(a){return $isSafeInteger(a)&&a>=MIN_INT8&&MAX_INT8>=a},exports.Number.toUint8=function(a){var b=$toNumber(a),c=0;return b&&$strictEqual(b,b)&&b!==INFINITY&&b!==NEGATIVE_INFINITY&&(c=$modulo($toInteger(b),UWORD8)),c},exports.Number.isUint8=function(a){return $isSafeInteger(a)&&a>=0&&MAX_UINT8>=a},exports.Array.proto.concat=$decide(function(){$affirmBasic(base.Array.concat)(),$affirm.doesNotThrow(function(){$call(base.Array.concat,[],!0)});var a,b,c=[1,2,3],d=$slice($returnArgs(1,2,3,Undefined,null,!1));for($affirm.doesNotThrow(function(){a=$call(base.Array.concat,c,$slice($returnArgs(void 0,null,!1)))}),$affirm.strictEqual(a.length,6,"array length incorrect"),b=0;b<a.length;b+=1)$affirm.ok($call(pHasOwn,a,b),"array value not set"),$affirm.strictEqual(a[b],d[b],"array wrong return value")},function(){return base.Array.concat},function(){return $pConcat},"Array.concat shim"),exports.Array.concat=$toMethod(exports.Array.proto.concat),$concat=exports.Array.concat,exports.Array.proto.push=$decide(function(){$affirmBasic(base.Array.push)(),$affirm.doesNotThrow(function(){$call(base.Array.push,[],!0)});var a=[],b={};$affirm.strictEqual($call(base.Array.push,a,Undefined),1,"array wrong return count"),$affirm.strictEqual(a.length,1,"array length incorrect"),$affirm.ok($call(pHasOwn,a,0),"array value not set"),$affirm.strictEqual(a[0],Undefined,"array value incorrect"),$affirm.strictEqual($call(base.Array.push,b,Undefined),1,"object wrong return count"),$affirm.strictEqual(b.length,1,"object length incorrect"),$affirm.ok($call(pHasOwn,b,0),"object value not set"),$affirm.strictEqual(b[0],Undefined,"object value incorrect"),$affirm.strictEqual($call(base.Array.push,a,0),2,"array wrong return count"),$affirm.strictEqual(a.length,2,"array length incorrect"),$affirm.ok($call(pHasOwn,a,1),"array value not set"),$affirm.strictEqual(a[1],0,"array value incorrect"),$affirm.strictEqual($call(base.Array.push,b,0),2,"object wrong return count"),$affirm.strictEqual(b.length,2,"object length incorrect"),$affirm.ok($call(pHasOwn,b,1),"object value not set"),$affirm.strictEqual(b[1],0,"object value incorrect")},function(){return base.Array.push},function(){return function(){var a,b=$toObject(this),c=$toLength(b.length),d=$toLength(arguments.length);for(b.length=c+d,a=0;d>a;a+=1)b[c+a]=arguments[a];return b.length}},"Array.push shim"),exports.Array.push=$toMethod(exports.Array.proto.push),$push=exports.Array.push,exports.Array.proto.pop=$decide(function(){$affirmBasic(base.Array.pop)(),$affirm.doesNotThrow(function(){$call(base.Array.pop,[])});var a=[1,2,3],b={0:1,1:2,2:3,length:3};$affirm.strictEqual($call(base.Array.pop,a),3,"array wrong return value"),$affirm.strictEqual(a.length,2,"array length incorrect"),$affirm.ok(!$call(pHasOwn,a,2),"array value 2 not deleted"),$affirm.strictEqual($call(base.Array.pop,b),3,"object wrong return value"),$affirm.strictEqual(b.length,2,"object length incorrect"),$affirm.ok(!$call(pHasOwn,b,2),"object value 2 not deleted"),$affirm.strictEqual($call(base.Array.pop,a),2,"array wrong return value"),$affirm.strictEqual(a.length,1,"array length incorrect"),$affirm.ok(!$call(pHasOwn,a,1),"array value 1 not deleted"),$affirm.strictEqual($call(base.Array.pop,b),2,"object wrong return value"),$affirm.strictEqual(b.length,1,"object length incorrect"),$affirm.ok(!$call(pHasOwn,b,1),"object value 1 not deleted")},function(){return base.Array.pop},function(){return function(){var a,b,c=$toObject(this),d=$toLength(c.length);return 0===d?c.length=0:(a=d-1,b=c[a],$deleteProperty(c,a),c.length=a),b}},"Array.pop shim"),exports.Array.pop=$toMethod(exports.Array.proto.pop),$pop=exports.Array.pop,exports.Array.proto.shift=$decide(function(){$affirmBasic(base.Array.shift)(),$affirm.doesNotThrow(function(){$call(base.Array.shift,[])});var a=[1,2,3],b={0:1,1:2,2:3,length:3};$affirm.strictEqual($call(base.Array.shift,a),1,"array wrong return value"),$affirm.strictEqual(a.length,2,"array length incorrect"),$affirm.ok(!$call(pHasOwn,a,2),"array value 2 not deleted"),$affirm.strictEqual($call(base.Array.shift,b),1,"object wrong return value"),$affirm.strictEqual(b.length,2,"object length incorrect"),$affirm.ok(!$call(pHasOwn,b,2),"object value 2 not deleted"),$affirm.strictEqual($call(base.Array.shift,a),2,"array wrong return value"),$affirm.strictEqual(a.length,1,"array length incorrect"),$affirm.ok(!$call(pHasOwn,a,1),"array value 1 not deleted"),$affirm.strictEqual($call(base.Array.shift,b),2,"object wrong return value"),$affirm.strictEqual(b.length,1,"object length incorrect"),$affirm.ok(!$call(pHasOwn,b,1),"object value 1 not deleted"),b={0:Undefined,1:null,2:-1,3:0,4:1,5:!1,6:!0,7:Undefined,8:"",9:"abc",10:null,11:Undefined},$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test1"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test2"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test3"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test4"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test5"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test6"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test7"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test8"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test9"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test10"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test11"),$affirm.strictEqual($call(base.Array.shift,b),Undefined,"test112"),$affirm.strictEqual(b[9],"abc","test13"),$affirm.strictEqual(b.length,0,"test14")},function(){return base.Array.shift},function(){return function(){var a,b,c,d=$toObject(this),e=$toLength(d.length);if(0===e)d.length=0;else{for(b=d[0],a=1;e>a;a+=1)c=a-1,$hasProperty(d,a)?d[c]=d[a]:$deleteProperty(d,c);$deleteProperty(d,e-1),d.length=e-1}return b}},"Array.shift shim"),exports.Array.shift=$toMethod(exports.Array.proto.shift),$shift=exports.Array.shift,exports.Array.proto.unshift=$decide(function(){$affirmBasic(base.Array.unshift)(),$affirm.doesNotThrow(function(){$call(base.Array.unshift,[],!0)});var a,b,c=[],d={};for($affirm.strictEqual($call(base.Array.unshift,c,Undefined),1,"array wrong return count"),$affirm.strictEqual(c.length,1,"array length incorrect"),$affirm.ok($call(pHasOwn,c,0),"array value not set"),$affirm.strictEqual(c[0],Undefined,"array value incorrect"),$affirm.strictEqual($call(base.Array.unshift,d,Undefined),1,"object wrong return count"),$affirm.strictEqual(d.length,1,"object length incorrect"),$affirm.ok($call(pHasOwn,d,0),"object value not set"),$affirm.strictEqual(d[0],Undefined,"object value incorrect"),$affirm.strictEqual($call(base.Array.unshift,c,0),2,"array wrong return count"),$affirm.strictEqual(c.length,2,"array length incorrect"),$affirm.ok($call(pHasOwn,c,0),"array value not set"),$affirm.strictEqual(c[0],0,"array value incorrect"),$affirm.strictEqual($call(base.Array.unshift,d,0),2,"object wrong return count"),$affirm.strictEqual(d.length,2,"object length incorrect"),$affirm.ok($call(pHasOwn,d,0),"object value not set"),$affirm.strictEqual(d[0],0,"object value incorrect"),a=[],a.length=12,a[0]=Undefined,a[1]=null,a[2]=-1,a[3]=0,a[4]=1,a[5]=!1,a[6]=!0,a[7]=Undefined,a[8]="",a[9]="abc",a[10]=null,a[11]=Undefined,c=[],$affirm.strictEqual($call(base.Array.unshift,c,Undefined),1,"test1"),$affirm.strictEqual($call(base.Array.unshift,c,null),2,"test2"),$affirm.strictEqual($call(base.Array.unshift,c,"abc"),3,"test3"),$affirm.strictEqual($call(base.Array.unshift,c,""),4,"test4"),$affirm.strictEqual($call(base.Array.unshift,c,Undefined),5,"test5"),$affirm.strictEqual($call(base.Array.unshift,c),5,"test6"),$affirm.strictEqual($call(base.Array.unshift,c),5,"test7"),$affirm.strictEqual($call(base.Array.unshift,c),5,"test8"),$affirm.strictEqual($call(base.Array.unshift,c),5,"test9"),$affirm.strictEqual($call(base.Array.unshift,c,!0),6,"test10"),$affirm.strictEqual($call(base.Array.unshift,c,!1),7,"test11"),$affirm.strictEqual($call(base.Array.unshift,c,1),8,"test12"),$affirm.strictEqual($call(base.Array.unshift,c,0),9,"test13"),$affirm.strictEqual($call(base.Array.unshift,c,-1),10,"test14"),$affirm.strictEqual($call(base.Array.unshift,c,null),11,"test15"),$affirm.strictEqual($call(base.Array.unshift,c,Undefined),12,"test16"),$affirm.strictEqual(c.length,a.length,"test17"),b=0;b<c.length;b+=1)$affirm.ok($call(pHasOwn,c,b),"hasOwn test"+b),$affirm.strictEqual(c[b],a[b],"strictEqual test"+b)},function(){return base.Array.unshift},function(){return function(){var a,b,c,d=$toObject(this),e=$toLength(d.length),f=e,g=$toLength(arguments.length);for(d.length=e+g,f=e;f>0;f-=1)a=f-1,b=f+g-1,$hasProperty(d,a)?d[b]=d[a]:$deleteProperty(d,b);for(c=0;g>c;c+=1)d[c]=arguments[c];return d.length}},"Array.unshift shim"),exports.Array.unshift=$toMethod(exports.Array.proto.unshift),$unshift=exports.Array.unshift,exports.Array.proto.reverse=$decide(function(){$affirmBasic(base.Array.reverse)(),$affirm.doesNotThrow(function(){$call(base.Array.reverse,1)},"number"),$affirm.doesNotThrow(function(){$call(base.Array.reverse,!0)},"boolean"),$affirm.doesNotThrow(function(){$call(base.Array.reverse,"a")},"string");var a=[];a.length=12,a[0]=Undefined,a[1]=null,a[2]=-1,a[3]=0,a[4]=1,a[5]=!1,a[6]=!0,a[8]="",a[9]="abc",a[10]=null,a[11]=Undefined,$affirm.doesNotThrow(function(){$call(base.Array.reverse,a)},"test1"),$affirm.strictEqual(a.length,12,"test2"),$affirm.strictEqual(a[11],Undefined,"test3"),$affirm.ok($call(pHasOwn,a,11),"test4"),$affirm.strictEqual(a[10],null,"test5"),$affirm.strictEqual(a[9],-1,"test6"),$affirm.strictEqual(a[8],0,"test7"),$affirm.strictEqual(a[7],1,"test8"),$affirm.strictEqual(a[6],!1,"test9"),$affirm.strictEqual(a[5],!0,"test10"),$affirm.strictEqual(a[4],Undefined,"test11"),$affirm.ok(!$call(pHasOwn,a,4),"test12"),$affirm.strictEqual(a[3],"","test13"),$affirm.strictEqual(a[2],"abc","test14"),$affirm.strictEqual(a[1],null,"test15"),$affirm.strictEqual(a[0],Undefined,"test16"),$affirm.ok($call(pHasOwn,a,0),"test17")},function(){return base.Array.reverse},function(){return function(){for(var a,b,c,d,e,f=$toObject(this),g=$toLength(f.length),h=$floor(g/2),i=0;i!==h;)e=g-i-1,a=f[i],b=f[e],c=$hasProperty(f,i),d=$hasProperty(f,e),c&&d?(f[i]=b,f[e]=a):!c&&d?(f[i]=b,$deleteProperty(f,e)):c&&!d&&(f[e]=a,$deleteProperty(f,i)),i+=1;return f}},"Array.reverse shim"),exports.Array.reverse=$toMethod(exports.Array.proto.reverse),$reverse=exports.Array.reverse,exports.Number.clampToInt=function(a,b,c){return $min($max($toInteger(a),$toInteger(b)),$toInteger(c))},exports.String.proto.slice=$decide(function(){$affirmBasic(base.String.slice)()},function(){return base.String.slice},function(){return function(a,b){var c,d,e,f,g=$onlyCoercibleToString(this),h=$toLength(g.length),i=$toInteger(a),j="";for(d=$isUndefined(b)?h:$toInteger(b),e=0>i?$max(h+i,0):$min(i,h),f=0>d?$max(h+d,0):$min(d,h),c=e;f>c;c+=1)j+=$getItem(g,c,stringTagString);return j}},["start","end"],"String.slice shim"),exports.String.slice=$toMethod(exports.String.proto.slice),$sSlice=exports.String.slice,exports.String.proto.repeat=$decide($affirmBasic(base.String.repeat),function(){return base.String.repeat},function(){function a(b,c){var d,e;return 1>c||b.length<1?e="":c%2===1?(c-=1,e=c>0?a(b,c)+b:b):(d=a(b,c/2),e=d+d),e}return function(b){var c=$onlyCoercibleToString(this);if(b=$toInteger(b),0>b)throw new CRangeError("repeat count must be non-negative");if(b===INFINITY)throw new CRangeError("repeat count must be less than infinity");return a(c,b)}},"String.repeat shim"),exports.String.repeat=$toMethod(exports.String.proto.repeat),$repeat=exports.String.repeat,exports.Object.getPrototypeOf=function(){return $decide($affirmBasic(base.Object.getPrototypeOf),function(){return $decide(function(){var a;$affirm.doesNotThrow(function(){a=base.Object.getPrototypeOf(1)},"get number literal proto"),$affirm.strictEqual(a,protoNumber,"work with number literal"),$affirm.doesNotThrow(function(){a=base.Object.getPrototypeOf(!0)},"get boolean literal proto"),$affirm.strictEqual(a,protoBoolean,"work with boolean literal"),$affirm.doesNotThrow(function(){a=base.Object.getPrototypeOf("")},"get string literal proto"),$affirm.strictEqual(a,protoString,"work with string literal")},function(){return base.Object.getPrototypeOf},function(){var a=base.Object.getPrototypeOf;return function(b){return a($toObject(b))}},"Object.getPrototypeOf primitive patch")},function(){return $decide(function(){var a;$affirm.doesNotThrow(function(){a=protoObject[stringProto]},"get __proto__"),$affirm.strictEqual(protoObject[stringProto],null,"has __proto__"),$affirm.doesNotThrow(function(){a=$toObject(1)[stringProto]},"get number literal proto"),$affirm.strictEqual(a,protoNumber,"work with number literal"),$affirm.doesNotThrow(function(){a=$toObject(!0)[stringProto]},"get boolean literal proto"),$affirm.strictEqual(a,protoBoolean,"work with boolean literal"),$affirm.doesNotThrow(function(){a=$toObject("")[stringProto]},"get string literal proto"),$affirm.strictEqual(a,protoString,"work with string literal"),$affirm.ok(!testShims,"testing shim")},function(){return function(a){return $toObject(a)[stringProto]}},function(){var a;return $returnArgs().constructor.prototype!==protoObject&&(a=!0),function(b){var c,d,e=$toObject(b);return e===protoObject?null:($isFunction(e.constructor)?c=a&&$isArguments(e)?protoObject:e.constructor.prototype:(d=e[stringProto],c=$toStringTag(d)!==stringTagObject||$isFunction(d)?protoObject:d),e===c?protoObject:c)}},"Object.getPrototypeOf full shim")},"Object.getPrototypeOf __proto__ shim")}(),$getPrototypeOf=exports.Object.getPrototypeOf,exports.Object.isPlainObject=function(a){return $toStringTag(a)===stringTagObject&&$getPrototypeOf(a)===protoObject},$isPlainObject=exports.Object.isPlainObject,exports.Object.proto.hasOwnProperty=pHasOwn,exports.Object.proto.hasOwnProperty=function(a){return $decide(function(){$affirm.ok($call(a,"abc","1"),"hasStringOwnPropBug"),$affirm.ok($call(a,$Object("abc"),"1"),"hasStringOwnPropBug")},function(){return a},function(){return function(b){var c=$toObject(this),d=$toString(b);return $isString(c)&&$isIndex(d,$toLength(c.length))||$call(a,c,d)}},"Object.hasOwnProperty hasStringOwnPropBug patch")}(pHasOwn),exports.Object.hasOwnProperty=function(a,b){return Object.prototype.hasOwnProperty.call($toObject(a),$toString(b))},$hasOwn=exports.Object.hasOwnProperty,exports.Object.proto.propertyIsEnumerable=function(a){return $decide(function(){$affirmBasic(a)(),$affirm.ok(!hasDontEnumBug,"hasDontEnumBug"),$affirm.ok(!hasEnumStringBug,"hasEnumStringBug"),$affirm.ok(!hasEnumArgsBug,"hasEnumArgsBug"),$affirm.ok(!$call(a,protoObject,"toString")),$affirm.ok(!$call(a,protoObject,"toLocaleString")),$affirm.ok(!$call(a,protoObject,"valueOf")),$affirm.ok(!$call(a,protoObject,"hasOwnProperty")),$affirm.ok(!$call(a,protoObject,"isPrototypeOf")),$affirm.ok(!$call(a,protoObject,"propertyIsEnumerable")),$affirm.ok(!$call(a,protoObject,"constructor"))},function(){return a},function(){var b=$toLength(shadowed.length);return function(c){var d,e,f=$toObject(this),g=$toString(c),h=$call(a,f,g);if((hasEnumStringBug&&$isString(f)||hasEnumArgsBug&&$isArguments(f))&&$isIndex(g,$toLength(f.length))&&$hasOwn(f,g))h=!0;else if(f===protoObject){for(e=0;b>e;e+=1)if(g===shadowed[e]){d=!0;break}d&&(h=f[g]!==base.Object[g])}return h}},"Object.propertyIsEnumerable patch")}(base.Object.propertyIsEnumerable),exports.Object.propertyIsEnumerable=$toMethod(exports.Object.proto.propertyIsEnumerable),$propertyIsEnumerable=exports.Object.propertyIsEnumerable,exports.Object.keys=function(){return $decide(function(){$affirmBasic(base.Object.keys)();var a;$affirm.doesNotThrow(function(){a=base.Object.keys($returnArgs(1,2))},"test1"),$affirm.strictEqual(a.length,2,"works with arguments object"),$affirm.ok(!hasErrorProps,"works with error objects"),$affirm.doesNotThrow(function(){a=base.Object.keys(CError.prototype)},"test2"),$affirm.strictEqual(a.length,0,"Error prototype zero list")},function(){return $decide(function(){var a;$affirm.doesNotThrow(function(){a=base.Object.keys(1)},"number literal"),$affirm.strictEqual(a.length,0,"number literal"),$affirm.doesNotThrow(function(){a=base.Object.keys("a")},"string literal"),$affirm.strictEqual(a.length,1,"string literal"),$affirm.doesNotThrow(function(){a=base.Object.keys(!0)},"boolean literal"),$affirm.strictEqual(a.length,0,"boolean literal")},function(){return base.Object.keys},function(){var a=base.Object.keys;return function(b){return a($toObject(b))}},"Object.keys patch")},function(){var a=$toLength(shadowed.length);return function(b){var c,d,e,f,g,h=$toObject(b),i=[];if(hasEnumStringBug&&$isString(h)||hasEnumArgsBug&&$isArguments(h))for(a=$toLength(h.length),g=0;a>g;g+=1)$hasOwn(h,g)&&$push(i,$toString(g));for(e in h)$hasOwn(h,e)&&$push(i,e);if(hasDontEnumBug)for(f=h.constructor,d=f&&f.prototype===h,g=0;a>g;g+=1)c=shadowed[g],d&&"constructor"===c||!$hasOwn(h,c)||!$propertyIsEnumerable(h,c)||$push(i,c);return i}},"Object.keys shim")}(),$objectKeys=exports.Object.keys,exports.Array.proto.stableSort=function(){function a(a,b){var c,d,e,f=$call(pHasOwn,a,0),g=$call(pHasOwn,b,0);return f||g?f?g?(c=$isUndefined(a[0]),d=$isUndefined(b[0]),c&&d?e=0:c?e=1:d&&(e=-1)):e=-1:e=1:e=0,
e}function b(b,c,d){var e,f=[],g=0;for(f.length=$toLength($toLength(b.length)+$toLength(c.length));$toLength(b.length)&&$toLength(c.length);)e=a(b,c),"number"!=typeof e?d(b[0],c[0])<=0?($call(pHasOwn,b,0)&&(f[g]=b[0]),$shift(b)):($call(pHasOwn,c,0)&&(f[g]=c[0]),$shift(c)):0>=e?($call(pHasOwn,b,0)&&(f[g]=b[0]),$shift(b)):($call(pHasOwn,c,0)&&(f[g]=c[0]),$shift(c)),g+=1;for(;$toLength(b.length);)$call(pHasOwn,b,0)&&(f[g]=b[0]),$shift(b),g+=1;for(;$toLength(c.length);)$call(pHasOwn,c,0)&&(f[g]=c[0]),$shift(c),g+=1;return f}function c(a,d){var e,f,g,h,i=$toLength(a.length);return 2>i?h=$slice(a):(e=$ceil(i/2),f=$slice(a,0,e),g=$slice(a,e),h=b(c(f,d),c(g,d),d)),h}return function(a){var b,d,e=$toObject(this),f=$toLength(e.length);if($isUndefined(a)&&(a=$ascending),$throwIfNotFunction(a),f>1)for(d=c(e,a),$isArray(e)||$isArguments(e)?e.length=0:$splice(e,0,$toLength(e.length)),e.length=$toLength(d.length),b=0;f>b;b+=1)$call(pHasOwn,d,b)&&(e[b]=d[b]);return e}}(),exports.Array.stableSort=$toMethod(exports.Array.proto.stableSort),exports.Array.proto.sort=function(){return $decide(function(){$affirmBasic(base.Array.sort)();var a,b=[];b.length=9,b[0]="f",b[1]="e",b[2]="d",b[4]=null,b[5]=Undefined,b[6]="a",b[7]="c",b[8]="b",$call(base.Array.sort,b),$affirm.strictEqual(b.length,9,"test1"),$affirm.strictEqual(b[0],"a","test2"),$affirm.strictEqual(b[1],"b","test3"),$affirm.strictEqual(b[2],"c","test4"),$affirm.strictEqual(b[3],"d","test5"),$affirm.strictEqual(b[4],"e","test6"),$affirm.strictEqual(b[5],"f","test7"),$affirm.strictEqual(b[6],null,"test8"),$affirm.strictEqual(b[7],Undefined,"test9"),$affirm.strictEqual(b[8],Undefined,"test110"),$affirm.ok($call(pHasOwn,b,7),"test11"),$affirm.ok(!$call(pHasOwn,b,8),"test12"),b.length=9,b[0]="f",b[1]="e",b[2]="d",b[3]=Undefined,b[4]=null,b[5]="a",b[6]="c",b[7]="b",$call(base.Array.sort,b,$descending),$affirm.strictEqual(b.length,9,"test13"),$affirm.strictEqual(b[0],null,"test14"),$affirm.strictEqual(b[1],"f","test15"),$affirm.strictEqual(b[2],"e","test16"),$affirm.strictEqual(b[3],"d","test17"),$affirm.strictEqual(b[4],"c","test18"),$affirm.strictEqual(b[5],"b","test19"),$affirm.strictEqual(b[6],"a","test20"),$affirm.strictEqual(b[7],Undefined,"test21"),$affirm.strictEqual(b[8],Undefined,"test22"),$affirm.ok($call(pHasOwn,b,7),"test23"),$affirm.ok(!$call(pHasOwn,b,8),"test24"),a={0:5,1:2,2:4,4:null,6:1,7:3,length:8},$call(base.Array.sort,a,$descending),$affirm.strictEqual(a.length,8,"test25"),$affirm.strictEqual(a[0],null,"test26"),$affirm.strictEqual(a[1],5,"test27"),$affirm.strictEqual(a[2],4,"test28"),$affirm.strictEqual(a[3],3,"test29"),$affirm.strictEqual(a[4],2,"test30"),$affirm.strictEqual(a[5],1,"test31"),$affirm.strictEqual(a[6],Undefined,"test32"),$affirm.strictEqual(a[7],Undefined,"test33"),$affirm.ok(!$call(pHasOwn,a,6),"test34"),$affirm.ok(!$call(pHasOwn,a,7),"test35")},function(){return $decide(function(){$affirm.doesNotThrow(function(){$call(base.Array.sort,[])},"no compare argument"),$affirm.doesNotThrow(function(){$call(base.Array.sort,[],Undefined)},"undefined compare argument"),$affirm["throws"](function(){$call(base.Array.sort,[],null)},CTypeError,"null compare argument"),$affirm["throws"](function(){$call(base.Array.sort,[],1)},CTypeError,"number compare argument"),$affirm["throws"](function(){$call(base.Array.sort,[],!0)},CTypeError,"boolean compare argument"),$affirm["throws"](function(){$call(base.Array.sort,[],"a")},CTypeError,"string compare argument"),$affirm["throws"](function(){$call(base.Array.sort,[],{})},CTypeError,"object compare argument"),$affirm["throws"](function(){$call(base.Array.sort,[],[])},CTypeError,"array compare argument")},function(){return base.Array.sort},function(){var a=base.Array.sort;return function(b){return $isUndefined(b)&&(b=$ascending),$call(a,$requireObjectCoercible(this),$throwIfNotFunction(b))}},"Array.sort patch")},function(){return exports.Array.proto.stableSort},"Array.sort shim")}(),exports.Array.sort=$toMethod(exports.Array.proto.sort),$sort=exports.Array.sort,exports.Array.proto.indexOf=$decide(function(){$affirmBasic(base.Array.indexOf)();var a;$affirm.doesNotThrow(function(){a=$call(base.Array.indexOf,[0,1],1,2)},"test1"),$affirm.strictEqual(a,-1,"item not found")},function(){return base.Array.indexOf},function(){return function(a,b){var c,d=$toObject(this),e=$toLength(d.length),f=$isString(d),g=-1;if(e&&(b=arguments.length>1?$toInteger(b):0,e>b))for(0>b&&(b=e-$abs(b),0>b&&(b=0)),c=b;e>c;c+=1)if($hasItem(d,c,f)&&a===$getItem(d,c,f)){g=c;break}return g}},"Array.indexOf shim"),exports.Array.indexOf=$toMethod(exports.Array.proto.indexOf),$indexOf=exports.Array.indexOf,exports.Array.proto.contains=function(a){return function(){return-1!==$apply(a,this,arguments)}}(exports.Array.proto.indexOf),exports.Array.contains=$toMethod(exports.Array.proto.contains),exports.Object.deepEqual=function(){var a=function(b,c,d){if(b===c)return!0;var e,f,g,h,i,j,k,l,m,n,o,p=$toStringTag(b),q=$toStringTag(c);if(p===stringTagDate&&q===stringTagDate)return $toPrimitive(b,hintString)===$toPrimitive(c,hintString);if($isRegExp(b)&&$isRegExp(c))return b.source===c.source&&b.global===c.global&&b.multiline===c.multiline&&b.lastIndex===c.lastIndex&&b.ignoreCase===c.ignoreCase&&b.sticky===c.sticky;if(g=$isPrimitive(b),h=$isPrimitive(c),(g||$isFunction(b))&&(h||$isFunction(c)))return b==c;if(g||h)return b===c;if(b.prototype!==c.prototype)return!1;if(-1===$indexOf(d.a,b)?$push(d.a,b):i=!0,-1===$indexOf(d.b,c)?$push(d.b,c):j=!0,i&&j?d.cnt+=1:d.cnt=0,d.cnt>200)throw new CRangeError("Circular reference limit exceeded");if(e=$isArguments(b),f=$isArguments(c),e&&!f||!e&&f)return!1;if(e)return a($slice(b),$slice(c),d);if(k=$objectKeys(b),l=$objectKeys(c),m=$toLength(k.length),m!==$toLength(l.length)){if(!$isArray(b)||!$isArray(c))return!1;if(b.length!==c.length)return!1}else for($sort(k),$sort(l),n=0;m>n;n+=1)if(k[n]!==l[n])return!1;for(n=0;m>n;n+=1)if(o=k[n],!a($getItem(b,o,p),$getItem(c,o,q),d))return!1;return p=typeof b,q=typeof c,p===q};return function(b,c){return a(b,c,{a:[],b:[],cnt:0})}}(),$deepEqual=exports.Object.deepEqual,$affirm.deepEqual=function(a,b,c,d){$throwIfNotEnoughArgs(arguments,2);var e;$deepEqual(a,b)||(e=$optArgs(3,c,d,$affirm.deepEqual),$affirm.fail(a,b,e.message,"deepEqual",e.stackStartFunction))},exports.Object.deepStrictEqual=function(){var a=function(b,c,d){if(b===c)return!0;var e,f,g,h,i,j,k,l,m,n,o,p=$toStringTag(b),q=$toStringTag(c);if(p===stringTagDate&&q===stringTagDate)return $toPrimitive(b,hintString)===$toPrimitive(c,hintString);if($isRegExp(b)&&$isRegExp(c))return b.source===c.source&&b.global===c.global&&b.multiline===c.multiline&&b.lastIndex===c.lastIndex&&b.ignoreCase===c.ignoreCase&&b.sticky===c.sticky;if(g=$isPrimitive(b),h=$isPrimitive(c),(g||$isFunction(b))&&($isPrimitive(c)||$isFunction(c)))return b===c;if(g||h)return b===c;if($getPrototypeOf(b)!==$getPrototypeOf(c))return!1;if(-1===$indexOf(d.a,b)?$push(d.a,b):i=!0,-1===$indexOf(d.b,c)?$push(d.b,c):j=!0,i&&j?d.cnt+=1:d.cnt=0,d.cnt>200)throw new CRangeError("Circular reference limit exceeded");if(e=$isArguments(b),f=$isArguments(c),e&&!f||!e&&f)return!1;if(e)return a($slice(b),$slice(c),d);if(k=$objectKeys(b),l=$objectKeys(c),m=$toLength(k.length),m!==$toLength(l.length)){if(!$isArray(b)||!$isArray(c))return!1;if(b.length!==c.length)return!1}else for($sort(k),$sort(l),n=0;m>n;n+=1)if(k[n]!==l[n])return!1;for(n=0;m>n;n+=1)if(o=k[n],!a($getItem(b,o,p),$getItem(c,o,q),d))return!1;return p=typeof b,q=typeof c,p===q};return function(b,c){return a(b,c,{a:[],b:[],cnt:0})}}(),$deepStrictEqual=exports.Object.deepStrictEqual,function(){function a(a){if(!$isRegExp(a))throw new CTypeError("Type RegExp expected: "+$toString(a));return a}function b(a,b){var d;return $isPlainObject(b)||(b={}),d=$onlyCoercibleToString($call(pExec,h,$toString(a))[1]),b.add&&(d=$call(pReplace,d+b.add,c,"")),b.remove&&(d=$call(pReplace,d,new CRegExp("["+b.remove+"]+","g"),"")),new CRegExp(a.source,d)}var c=new CRegExp("([\\s\\S])(?=[\\s\\S]*\\1)","g"),d=typeof $call(pExec,new CRegExp("()??"),"")[1],e=new CRegExp("[\\[\\](){}?*+\\^$\\\\.|]","g"),f="undefined"===d,g=new CRegExp("\\$(?:\\{(\\$+)\\}|(\\d\\d?|[\\s\\S]))","g"),h=new CRegExp("\\/([a-z]*)$","i"),i="test"===$join($call(pSplit,"test",/(?:)/,-1),"")&&"a"===$join($call(pSplit,"a b c d",/ /,-(UWORD32-1)),"")&&"a"===$join($call(pSplit,"a b c d",/ /,UWORD32+1),"")&&""===$join($call(pSplit,"a b c d",/ /,INFINITY),"");exports.String.proto.escapeRegex=function(){return $call(pReplace,$onlyCoercibleToString(this),e,"\\$&")},exports.String.escapeRegex=$toMethod(exports.String.proto.escapeRegex),exports.String.clipDuplicates=function(a){return $call(pReplace,$onlyCoercibleToString(a),c,"")},exports.RegExp.proto.exec=$decide(function(){$affirmBasic(pExec)(),$affirm["throws"](function(){$call(pExec)},CTypeError,"should throw if no arguments"),$affirm["throws"](function(){$call(pExec,Undefined)},CTypeError,"should throw if argument is undefined"),$affirm["throws"](function(){$call(pExec,null)},CTypeError,"should throw if argument is null"),$affirm.doesNotThrow(function(){$call(pExec,/x/)},"should not throw if no string argument"),$affirm.doesNotThrow(function(){$call(pExec,/x/,Undefined)},"should not throw if string argument is undefined"),$affirm.doesNotThrow(function(){$call(pExec,/x/,null)},"should not throw if string argument is null");var a,b=/x/;b.lastIndex=4,$affirm.deepEqual($slice($call(pExec,b,"123x5")),["x"],"should ignore lastIndex and set the search start position at 0 for a nonglobal regex"),b=/x/g,b.lastIndex=4,$affirm.strictEqual($call(pExec,b,"123x5"),null,"should use lastIndex to set the search start position for a global regex"),b.lastIndex=2,$affirm.deepEqual($slice($call(pExec,b,"123x5")),["x"],"should use lastIndex to set the search start position for a global regex"),b=/x/g,b.lastIndex="3",$affirm.deepEqual($slice($call(pExec,b,"123x5")),["x"],"should type convert lastIndex when setting the search start position"),b.lastIndex="4",$affirm.strictEqual($call(pExec,b,"123x5"),null,"should type convert lastIndex when setting the search start position"),b=/\b/g,a=$call(pExec,b,"1,2"),$affirm.deepEqual(a[0].length,0,"should not increment index on zero length mathces"),$affirm.deepEqual(b.lastIndex,a.index,"should not increment index on zero length mathces"),b=/x/,$call(pExec,b,"123x5"),$affirm.strictEqual(b.lastIndex,0,"should not increment lastIndex non global")},function(){return pExec},function(){return function(c){var d,e,g,h=$toNumber(a(this).lastIndex),i=$apply(pExec,this,arguments);if($isArray(i)){if(e=$toLength(i.length),!f&&e>1){for(g=0;e>g;g+=1)if(""===i[g]){d=!0;break}d&&$call(pReplace,$sSlice($toString(c),$toNumber(i.index)),b(this,{remove:"g"}),function(){var a,b,c=$toLength(arguments.length)-2;for(a=1;c>a;a+=1)b=arguments[a],$isUndefined(b)&&(i[a]=b)})}this.global&&!$toLength(i[0].length)&&$toNumber(this.lastIndex)>$toNumber(i.index)&&(this.lastIndex=$toNumber(i.index))}return this.global||(this.lastIndex=h),i}},"RegExp.exec patch"),exports.RegExp.exec=$toMethod(exports.RegExp.proto.exec),$exec=exports.RegExp.exec,exports.RegExp.proto.test=$decide(function(){$affirmBasic(pTest)(),$affirm.strictEqual(exports.RegExp.proto.exec,pExec,"RegExp.exec was patched"),$affirm["throws"](function(){$call(pTest)},CTypeError,"should throw if no arguments"),$affirm["throws"](function(){$call(pTest,Undefined)},CTypeError,"should throw if argument is undefined"),$affirm["throws"](function(){$call(pTest,null)},CTypeError,"should throw if argument is null"),$affirm.doesNotThrow(function(){$call(pTest,/x/)},"should not throw if no string argument"),$affirm.doesNotThrow(function(){$call(pTest,/x/,Undefined)},"should not throw if string argument is undefined"),$affirm.doesNotThrow(function(){$call(pTest,/x/,null)},"should not throw if string argument is null");var a=/x/;a.lastIndex=4,$affirm.ok($call(pTest,a,"123x5"),"should ignore lastIndex and set the search start position at 0 for a nonglobal regex"),a=/x/g,a.lastIndex=4,$affirm.ok(!$call(pTest,a,"123x5"),"should use lastIndex to set the search start position for a global regex"),a.lastIndex=2,$affirm.ok($call(pTest,a,"123x5"),"should use lastIndex to set the search start position for a global regex"),a=/x/g,a.lastIndex="3",$affirm.ok($call(pTest,a,"123x5"),"should type convert lastIndex when setting the search start position"),a.lastIndex="4",$affirm.ok(!$call(pTest,a,"123x5"),"should type convert lastIndex when setting the search start position"),a=/x/g,$affirm.ok(!$call(pTest,a),"should type no argument to string"),$affirm.ok(!$call(pTest,a,void 0),"should type undefined to string"),$affirm.ok(!$call(pTest,a,null),"should type null to string"),$affirm.ok(!$call(pTest,a,1),"should type 1 to string"),$affirm.ok(!$call(pTest,a,!0),"should type true to string"),$affirm.ok(!$call(pTest,a,{}),"should type {} to string"),$affirm.ok(!$call(pTest,a,[]),"should type [] to string")},function(){return pTest},function(){return function(a){return!!$exec(this,a)}},"RegExp.test shim"),exports.RegExp.test=$toMethod(exports.RegExp.proto.test),$test=exports.RegExp.test,exports.String.proto.isBytestring=function(){return $test(/^[\x00-\xFF]*$/,$onlyCoercibleToString(this))},exports.String.isBytestring=$toMethod(exports.String.proto.isBytestring),exports.String.proto.split=$decide(function(){$affirmBasic(pSplit)(),$affirm["throws"](function(){$call(pSplit)},CTypeError,"should throw if no arguments"),$affirm["throws"](function(){$call(pSplit,Undefined)},CTypeError,"should throw if argument is undefined"),$affirm["throws"](function(){$call(pSplit,null)},CTypeError,"should throw if argument is null"),$affirm.deepEqual($call(pSplit,"abcdef",""),["a","b","c","d","e","f"],"should not throw on basic tests"),$affirm.deepEqual($call(pSplit,"abcdefabcdefabcdef","c"),["ab","defab","defab","def"],"should not throw on basic tests"),$affirm.deepEqual($call(pSplit,"abcdefabcdefabcdef",new CRegExp("c")),["ab","defab","defab","def"],"should not throw on basic tests"),$affirm.deepEqual($call(pSplit,"ab"),["ab"],'If "separator" is undefined must return Array with one String - "this" string'),$affirm.deepEqual($call(pSplit,"ab",Undefined),["ab"],'If "separator" is undefined must return Array with one String - "this" string'),$affirm.deepEqual($call(pSplit,""),[""],"('') results in ['']"),$affirm.deepEqual($call(pSplit,"",new CRegExp(".")),[""],"('', /./) results in ['']"),$affirm.deepEqual($call(pSplit,"",new CRegExp(".?")),[],"('', /.?/) results in []"),$affirm.deepEqual($call(pSplit,"",new CRegExp(".??")),[],"('', /.??/) results in []"),$affirm.deepEqual($call(pSplit,"ab",/a*/),["","b"],"('ab', /a*/) results in ['', 'b']"),$affirm.deepEqual($call(pSplit,"ab",/a*?/),["a","b"],"('ab', /a*?/) results in ['a', 'b']"),$affirm.deepEqual($call(pSplit,"ab",/(?:ab)/),["",""],"('ab', /(?:ab)/) results in ['', '']"),$affirm.deepEqual($call(pSplit,"ab",/(?:ab)*/),["",""],"('ab', /(?:ab)*/) results in ['', '']"),$affirm.deepEqual($call(pSplit,"ab",/(?:ab)*?/),["a","b"],"('ab', /(?:ab)*?/) results in ['a', 'b']"),$affirm.deepEqual($call(pSplit,"test",""),["t","e","s","t"],"('test', '') results in ['t', 'e', 's', 't']"),$affirm.deepEqual($call(pSplit,"test"),["test"],"('test', ) results in ['test']"),$affirm.deepEqual($call(pSplit,"111",1),["","","",""],"('111', 1) results in ['', '', '', '']"),$affirm.deepEqual($call(pSplit,"test",/(?:)/,2),["t","e"],"('test', /(?:)/, 2) results in ['t', 'e']"),$affirm.deepEqual($call(pSplit,"test",/(?:)/,-1),[],"('test', /(?:)/, -1) results in []"),$affirm.deepEqual($call(pSplit,"test",/(?:)/,Undefined),["t","e","s","t"],"('test', /(?:)/, undefined) results in ['t', 'e', 's', 't']"),$affirm.deepEqual($call(pSplit,"test",/(?:)/,null),[],"('test', /(?:)/, null) results in []"),$affirm.deepEqual($call(pSplit,"test",/(?:)/,0/0),[],"('test', /(?:)/, NaN) results in []"),$affirm.deepEqual($call(pSplit,"test",/(?:)/,!0),["t"],"('test', /(?:)/, true) results in ['t']"),$affirm.deepEqual($call(pSplit,"test",/(?:)/,"2"),["t","e"],"('test', /(?:)/, '2') results in ['t', 'e']"),$affirm.deepEqual($call(pSplit,"test",/(?:)/,"two"),[],"('test', /(?:)/, 'two') results in []"),$affirm.deepEqual($call(pSplit,"a",/-/),["a"],"('a', /-/) results in ['a']"),$affirm.deepEqual($call(pSplit,"a",/-?/),["a"],"('a', /-?/) results in ['a']"),$affirm.deepEqual($call(pSplit,"a",/-??/),["a"],"('a', /-??/) results in ['a']"),$affirm.deepEqual($call(pSplit,"a",/a/),["",""],"('a', /a/) results in ['', '']"),$affirm.deepEqual($call(pSplit,"a",/a?/),["",""],"('a', /a?/) results in ['', '']"),$affirm.deepEqual($call(pSplit,"a",/a??/),["a"],"('a', /a??/) results in ['a']"),$affirm.deepEqual($call(pSplit,"ab",/-/),["ab"],"('ab', /-/) results in ['ab']"),$affirm.deepEqual($call(pSplit,"ab",/-?/),["a","b"],"('ab', /-?/) results in ['a', 'b']"),$affirm.deepEqual($call(pSplit,"ab",/-??/),["a","b"],"('ab', /-??/) results in ['a', 'b']"),$affirm.deepEqual($call(pSplit,"a-b",/-/),["a","b"],"('a-b', /-/) results in ['a', 'b']"),$affirm.deepEqual($call(pSplit,"a-b",/-?/),["a","b"],"('a-b', /-?/) results in ['a', 'b']"),$affirm.deepEqual($call(pSplit,"a-b",/-??/),["a","-","b"],"('a-b', /-??/) results in ['a', '-', 'b']"),$affirm.deepEqual($call(pSplit,"a--b",/-/),["a","","b"],"('a--b', /-/) results in ['a', '', 'b']"),$affirm.deepEqual($call(pSplit,"a--b",/-?/),["a","","b"],"('a--b', /-?/) results in ['a', '', 'b']"),$affirm.deepEqual($call(pSplit,"a--b",/-??/),["a","-","-","b"],"('a--b', /-??/) results in ['a', '-', '-', 'b']"),$affirm.deepEqual($call(pSplit,"",/()()/),[],"('', /()()/) results in []"),$affirm.deepEqual($call(pSplit,".",/()()/),["."],"('.', /()()/) results in ['.']"),$affirm.deepEqual($call(pSplit,".",new CRegExp("(.?)(.?)")),["",".","",""],"('.', /(.?)(.?)/) results in ['', '.', '', '']"),$affirm.deepEqual($call(pSplit,".",new CRegExp("(.??)(.??)")),["."],"('.', /(.??)(.??)/) results in ['.']");var a=[];a.length=4,a[0]="",a[1]=".",a[2]=Undefined,a[3]="",$affirm.deepEqual($call(pSplit,".",new CRegExp("(.)?(.)?")),a,"('.', /(.)?(.)?/) results in ['', '.', undefined, '']"),a=[],a.length=13,a[0]="A",a[1]=Undefined,a[2]="B",a[3]="bold",a[4]="/",a[5]="B",a[6]="and",a[7]=Undefined,a[8]="CODE",a[9]="coded",a[10]="/",a[11]="CODE",a[12]="",$affirm.deepEqual($call(pSplit,"A<B>bold</B>and<CODE>coded</CODE>"),a,"('A<B>bold</B>and<CODE>coded</CODE>', /<(\\/)?([^<>]+)>/) results in ['A', undefined, 'B', 'bold', '/', 'B', 'and', undefined, 'CODE', 'coded', '/', 'CODE', '']"),a=[],a.length=5,a[0]="t",a[1]=Undefined,a[2]="e",a[3]="s",a[4]="e",$affirm.deepEqual($call(pSplit,"tesst",/(s)*/),a,"('test', /(s)*/) results in ['t', undefined, 'e', 's', 't']"),a=[],a.length=7,a[0]="t",a[1]=Undefined,a[2]="e",a[3]=Undefined,a[4]="s",a[5]=Undefined,a[6]="e",$affirm.deepEqual($call(pSplit,"tesst",/(s)*?/),a,"('test', /(s)*?/) results in ['t', undefined, 'e', undefined, 's', undefined, 's', undefined, 't']"),$affirm.deepEqual($call(pSplit,"tesst",/(s*)/),["t","","e","ss","t"],"('test', /(s*)/) results in ['t', '', 'e', 'ss', 't']"),$affirm.deepEqual($call(pSplit,"tesst",/(s*?)/),["t","","e","","s","","s","","t"],"('test', /(s*?)/) results in ['t', '', 'e', '', 's', '', 's', '', 't']"),$affirm.deepEqual($call(pSplit,"tesst",/(?:s)*/),["t","e","t"],"('test', /(?:s)*/) results in ['t', 'e', 't']"),$affirm.deepEqual($call(pSplit,"tesst",/(?=s+)/),["te","s","st"],"('test', /(?=s+)/) results in ['te', 's', 'st']"),$affirm.deepEqual($call(pSplit,"test","t"),["","es",""],"('test', 't') results in ['', 'es', '']"),$affirm.deepEqual($call(pSplit,"test","es"),["t","t"],"('test', 'es') results in ['t', 't']"),$affirm.deepEqual($call(pSplit,"test",/t/),["","es",""]),$affirm.deepEqual($call(pSplit,"test",/es/),["t","t"],"('test', /es/) results in ['t', 't']"),$affirm.deepEqual($call(pSplit,"test",/(t)/),["","t","es","t",""],"('test', /(t)/) results in ['', 't', 'es', 't', '']"),$affirm.deepEqual($call(pSplit,"test",/(es)/),["t","es","t"],"('test', /(es)/) results in ['t', 'es', 't']"),$affirm.deepEqual($call(pSplit,"test",/(t)(e)(s)(t)/),["","t","e","s","t",""],"('test', /(t)(e)(s)(t)/) results in ['', 't', 'e', 's', 't', '']"),$affirm.deepEqual($call(pSplit,".",new CRegExp("(((.((.??)))))")),["",".",".",".","","",""],"('.', /(((.((.??)))))/) results in ['', '.', '.', '.', '', '', '']"),$affirm.deepEqual($call(pSplit,".",new CRegExp("(((((.??)))))")),["."],"('.', /(((((.??)))))/) results in ['.']"),$affirm.deepEqual($call(pSplit,"a b c d",/ /,-($pow(2,32)-1)),[],"('a b c d', / /, -(Math.pow(2, 32) - 1)) results in []"),$affirm.deepEqual($call(pSplit,"a b c d",/ /,$pow(2,32)+1),["a","b","c","d"],"('a b c d', / /, Math.pow(2, 32) + 1) results in []"),$affirm.deepEqual($call(pSplit,"a b c d",/ /,INFINITY),["a","b","c","d"],"('a b c d', / /, INFINITY) results in []")},function(){return $decide(function(){$affirm.deepEqual($call(pSplit,"ab",Undefined,0),[],'If "separator" is undefined and "limit" set to 0 must return Array[]')},function(){return pSplit},function(){return function(a,b){var c,d;return $isUndefined(a)&&0===b?d=[]:(c=$isUndefined(b),b=i?c?MAX_UINT32:$min($toLength(b),MAX_UINT32):c?MAX_SAFE_INTEGER:$toLength(b),d=$call(pSplit,$onlyCoercibleToString(this),a,b)),d}},"String.split patch 2")},function(){function a(a,c,d){var e,f=b(c,{add:"g",remove:"y"});return f.lastIndex=d,e=$exec(f,a),c.global&&(c.lastIndex=e?$toNumber(f.lastIndex):0),e}return function(b,c){var d,e,f,g,h,j,k,l,m,n=$onlyCoercibleToString(this);if($isUndefined(b)&&0===c)e=[];else if(d=$isUndefined(c),c=i?d?MAX_UINT32:$min($toLength(c),MAX_UINT32):d?MAX_SAFE_INTEGER:$toLength(c),$isRegExp(b)){for(e=[],f=$toNumber(b.lastIndex),g=0,k=$toLength(n.length),j=a(n,b,0);j;)l=$toNumber(j.index),m=$toLength(j[0].length),l+m>g&&($push(e,$sSlice(n,g,l)),$toLength(j.length)>1&&k>l&&(e=$concat(e,$slice(j,1))),h=m,g=l+h),j=a(n,b,l+(m||1));g===k?(!$test(b,"")||h)&&$push(e,""):$push(e,$sSlice(n,g)),b.lastIndex=f,$toLength(e.length)>c&&(e=$slice(e,0,c))}else e=$call(pSplit,n,b,c);return e}},"String.split patch 1"),exports.String.split=$toMethod(exports.String.proto.split),$split=exports.String.split,exports.String.proto.replace=$decide(function(){$affirmBasic(pReplace)(),$affirm["throws"](function(){$call(pReplace)},CTypeError,"should throw if no arguments"),$affirm["throws"](function(){$call(pReplace,Undefined)},CTypeError,"should throw if argument is undefined"),$affirm["throws"](function(){$call(pReplace,null)},CTypeError,"should throw if argument is null"),$affirm.strictEqual($call(pReplace,"aaa",/a/,"b"),"baa","should replace the first match only when given a nonglobal regex"),$affirm.strictEqual($call(pReplace,"aaa",/a/g,"b"),"bbb","should replace all matches when given a global regex"),$affirm.strictEqual($call(pReplace,"aaa","a","b"),"baa","should replace the first match only when given a string as the search pattern"),$affirm.strictEqual($call(pReplace,"aaa","a(a)","b"),"aaa","should not type convert a string search pattern to a regex"),$affirm.strictEqual($call(pReplace,"a(a)a","a(a)","b"),"ba","should not type convert a string search pattern to a regex"),$affirm.strictEqual($call(pReplace,"aaa",/a(a)/,"$1b","should handle single-digit backreference $1 in the replacement string"),"aba"),$affirm.strictEqual($call(pReplace,"test",/t|(e)/g,"$1"),"es","should handle single-digit backreference $1 in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa",/a(a)/,"$01b"),"aba","should handle double-digit backreferences $01, $10, and $99 in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa",new CRegExp("a"+$repeat("()",9)+"(a)"),"$10b"),"aba","should handle double-digit backreferences $01, $10, and $99 in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa",new CRegExp("a"+$repeat("()",98)+"(a)"),"$99b"),"aba","should handle double-digit backreferences $01, $10, and $99 in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa",new CRegExp("a"+$repeat("()",99)+"(a)"),"$100b"),"0ba","should end backreferences in the replacement string after two digits"),$affirm.strictEqual($call(pReplace,"aaa",/aa/,"$&b"),"aaba","should handle backreference $& in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa","aa","$&b"),"aaba","should handle backreference $& in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa",/aa/,"$'b"),"aba","should handle right context token $' in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa","aa","$'b"),"aba","should handle right context token $' in the replacement string"),$affirm.strictEqual($call(pReplace,"xaaa",/aa/,"$`b"),"xxba","should handle left context token $` in the replacement string"),$affirm.strictEqual($call(pReplace,"xaaa","aa","$`b"),"xxba","should handle left context token $` in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa",/aa/,"$$b"),"$ba","should handle token $$ in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa","aa","$$b"),"$ba","should handle token $$ in the replacement string"),$affirm.strictEqual($call(pReplace,"aaa",/a/,function(){return"b"}),"baa","should allow a function to generate the replacement"),$affirm.strictEqual($call(pReplace,"aaa",/a/g,function(){return"b"}),"bbb","should allow a function to generate the replacement"),$affirm.strictEqual($call(pReplace,"aaa","a",function(){return"b"}),"baa","should allow a function to generate the replacement"),$affirm.strictEqual($call(pReplace,"aaa",/aa/,function(a){return a+"b"}),"aaba","should allow using backreferences with replacement functions"),$affirm.strictEqual($call(pReplace,"aaa",/a(a)/,function(a,b){return b+"b"}),"aba","should allow using backreferences with replacement functions"),$affirm.strictEqual($call(pReplace,"aaa","aa",function(a){return a+"b"}),"aaba","should allow using backreferences with replacement functions"),$affirm.strictEqual($call(pReplace,"aaa",/a(a)/,function(a,b){return"$1"}),"$1a","should not substitute tokens returned by replacement functions"),$affirm.strictEqual($call(pReplace,"aaa",/a/,function(){return"$&"}),"$&aa","should not substitute tokens returned by replacement functions"),$affirm.strictEqual($call(pReplace,"xaaa",/a/,function(a,b){return $toString(b)}),"x1aa","should allow using the match position within replacement functions"),$affirm.strictEqual($call(pReplace,"xaaa",/a/g,function(a,b){return $toString(b)}),"x123","should allow using the match position within replacement functions"),$affirm.strictEqual($call(pReplace,"xaaa",/(a)/g,function(a,b,c){return $toString(c)}),"x123","should allow using the match position within replacement functions"),$affirm.strictEqual($call(pReplace,"xaaa","a",function(a,b){return $toString(b)}),"x1aa","should allow using the match position within replacement functions"),$affirm.strictEqual($call(pReplace,"xaaa",/a/,function(a,b,c){return c}),"xxaaaaa","should allow using the source string within replacement functions"),$affirm.strictEqual($call(pReplace,"xaaa",/(a)/,function(a,b,c,d){return d}),"xxaaaaa","should allow using the source string within replacement functions"),$affirm.strictEqual($call(pReplace,"xaaa","a",function(a,b,c){return c}),"xxaaaaa","should allow using the source string within replacement functions"),$affirm.strictEqual($call(pReplace,"100",/0/,function(a,b,c){return typeof c}),"1string0","should return string as the typeof the last argument in replacement functions"),$affirm.strictEqual($call(pReplace,new CString("100"),/0/,function(a,b,c){return typeof c}),"1string0","should return string as the typeof the last argument in replacement functions"),$affirm.strictEqual($call(pReplace,100,/0/,function(a,b,c){return typeof c}),"1string0","should return string as the typeof the last argument in replacement functions"),$affirm.strictEqual($call(pReplace,0,/^/,"$`"),"0","should handle nonstring context when using a replacement text token that references the subject text");var a,b,c,d,e,f=/x/;for($call(pReplace,"123x567",f,"_"),$affirm.strictEqual(f.lastIndex,0,"should not modify the lastIndex of a nonglobal regex"),f.lastIndex=1,$call(pReplace,"123x567",f,"_"),$affirm.strictEqual(f.lastIndex,1,"should not modify the lastIndex of a nonglobal regex"),$call(pReplace,"nomatch",f,"_"),$affirm.strictEqual(f.lastIndex,1,"should not modify the lastIndex of a nonglobal regex"),f=/x/g,f.lastIndex=1,$call(pReplace,"123x567",f,"_"),$affirm.strictEqual(f.lastIndex,0,"should reset the lastIndex of a global regex to 0"),f.lastIndex=1,$call(pReplace,"nomatch",f,"_"),$affirm.strictEqual(f.lastIndex,0,"should reset the lastIndex of a global regex to 0"),f=/x/,f.lastIndex=5,$affirm.strictEqual($call(pReplace,"123x567",f,"_"),"123_567","should ignore lastIndex when setting the search start position"),f=/x/g,f.lastIndex=5,$affirm.strictEqual($call(pReplace,"123x567",f,"_"),"123_567","should ignore lastIndex when setting the search start position"),f=/x/g,a=0,$call(pReplace,"1x2",f,function(){a=f.lastIndex}),$affirm.strictEqual(a,2,"should update lastIndex during replacement iterations"),b=[{target:"10x10",search:10,replacement:"x",expected:"xx10"},{target:"xaaa,ba,b",search:["a","b"],replacement:"x",expected:"xaaxa,b"},{target:"undefined",search:void 0,replacement:"x",expected:"x"}],d=$toLength(b.length),e=0;d>e;e+=1)c=b[e],$affirm.strictEqual($call(pReplace,c.target,c.search,c.replacement),c.expected,"should convert any provided nonstring search to a string");for($affirm.strictEqual($call(pReplace,"undefined"),"undefined","should convert any provided nonstring search to a string"),b=[{target:"xaaa",search:/a/g,replacement:1.1,expected:"x1.11.11.1"},{target:"xaaa",search:/a/g,replacement:["a","b"],expected:"xa,ba,ba,b"},{target:"x",search:/x/,replacement:/x/,expected:"/x/"},{target:"xaaa",search:/a/,replacement:void 0,expected:"xundefinedaa"}],d=$toLength(b.length),e=0;d>e;e+=1)c=b[e],$affirm.strictEqual($call(pReplace,c.target,c.search,c.replacement),c.expected,"should convert any provided nonstring/nonfunction replacement to a string");for($affirm.strictEqual($call(pReplace,"xaaa",/a/),"xundefinedaa","should convert any provided nonstring/nonfunction replacement to a string"),b=[100,{},!0,!1,0/0,["a"]],d=$toLength(b.length),e=0;d>e;e+=1)c=b[e],$affirm.strictEqual($call(pReplace,c,/^/,"x"),"x"+c,"should convert any nonstring context to a string (except null and undefined)")},function(){return pReplace},function(){return function(a,b){var c,d,e=$onlyCoercibleToString(this),f=$isRegExp(a);return f?c=$toNumber(a.lastIndex):a=$toString(a),d=$isFunction(b)?$call(pReplace,e,a,function(){var c=$argSlice(arguments);return c[2]=$toString(c[2]),f&&a.global&&(a.lastIndex=c[$toLength(c.length)-2]+$getArgItem(c,0).length),$apply(b,Undefined,c)}):$call(pReplace,e,a,function(){var a=arguments,c=$toLength(arguments.length);return $call(pReplace,$toString(b),g,function(){var b=$toString($getArgItem(arguments,2));if("$"===b)return"$";if("&"===b||0===$toNumber(b))return a[0];if("`"===b)return $sSlice(a[2],0,$toNumber(a[1]));if("'"===b)return $sSlice(a[2],$toNumber(a[1])+$toLength(a[0].length));if(b=$toNumber(b),$strictEqual(b,b)){if(b>c-3)throw new CSyntaxError("Backreference to undefined group "+$toString($getArgItem(arguments,0)));return a[b]||""}throw new CSyntaxError("Invalid token "+$toString($getArgItem(arguments,0)))})}),f&&(a.lastIndex=a.global?0:c),d}},"String.replace patch"),exports.String.replace=$toMethod(exports.String.proto.replace),$replace=exports.String.replace,exports.String.proto.replaceAll=function(a,c){return $isString(a)?a=new CRegExp($replace($onlyCoercibleToString(a),e,"\\$&"),"g"):$isRegExp(a)&&(a=b(a,{add:"g"})),c=$isString(c)||$isNumber(c)?$toString(c):"",$replace($onlyCoercibleToString(this),a,c)},exports.String.replaceAll=$toMethod(exports.String.proto.replaceAll),exports.String.proto.match=$decide(function(){$affirmBasic(pMatch)(),$affirm["throws"](function(){$call(pMatch)},CTypeError,"should throw if no arguments"),$affirm["throws"](function(){$call(pMatch,Undefined)},CTypeError,"should throw if argument is undefined"),
$affirm["throws"](function(){$call(pMatch,null)},CTypeError,"should throw if argument is null"),$affirm.deepEqual($slice($call(pMatch,"4",/(?=(?:...)*$)/)),[""],'"4".match(/(?=(?:...)*$)/) == [""]'),$affirm.deepEqual($slice($call(pMatch,"a bc",/(\w)/g)),["a","b","c"],"should return an array with all matches"),$affirm.strictEqual($call(pMatch,"a bc",/x/g),null,"should return null if no match is found");var a,b,c,d,e=/x/g;for(e.lastIndex=1,$call(pMatch,"123x5",e),$affirm.strictEqual(e.lastIndex,0,"should reset lastIndex to 0 when a match is found"),e=/x/g,e.lastIndex=1,$call(pMatch,"123",e),$affirm.strictEqual(e.lastIndex,0,"should reset lastIndex to 0 when no match is found"),e=/x/g,e.lastIndex=4,$affirm.ok($call(pMatch,"123x5",e),"should start the search at the beginning of the string, ignoring lastIndex"),$affirm.deepEqual($slice($call(pMatch,11,/1/g)),["1","1"],"should convert any nonstring context to a string (except null and undefined)"),a=[{str:"12",regex:"^(1)",result:["1","1"]},{str:"",regex:"\\1",result:[""]},{str:"[obj]",regex:{},result:["o"]},{str:"null",regex:null,result:["null"]}],b=$toLength(a.length),c=0;b>c;c+=1)d=a[c],$affirm.deepEqual($slice($call(pMatch,d.str,d.regex)),d.result,"should convert any provided non RegExp object to a RegExp")},function(){return pMatch},function(){return function(a){var b,c=$onlyCoercibleToString(this);if($isRegExp(a)){if(a.global)return b=$apply(pMatch,c,arguments),a.lastIndex=0,b}else a=new CRegExp(a);return $exec(a,c)}},"String.match patch"),exports.String.match=$toMethod(exports.String.proto.match)}(),exports.String.proto.first=function(){return $getItem($onlyCoercibleToString(this),0,stringTagString)},exports.String.first=$toMethod(exports.String.proto.first),exports.String.proto.last=function(){var a=$onlyCoercibleToString(this);return $getItem(a,a.length-1,stringTagString)},exports.String.last=$toMethod(exports.String.proto.last),exports.String.proto.countCharacter=function(a){var b,c=$onlyCoercibleToString(this),d=$getItem($onlyCoercibleToString(a),0,stringTagString);return $conlog("first",d),b=""===d?INFINITY:$min($max($split(c,d).length-1,0),INFINITY)},exports.String.countCharacter=$toMethod(exports.String.proto.countCharacter),exports.String.proto.padLeadingChar=function(a,b){var c=$onlyCoercibleToString(this),d=$getItem($onlyCoercibleToString(a),0,stringTagString),e=$toInteger(b)-c.length;return(0>e||e===INFINITY)&&(e=0),exports.String.repeat(d,e)+c},exports.String.padLeadingChar=$toMethod(exports.String.proto.padLeadingChar),exports.String.proto.startsWith=$decide($affirmBasic(base.String.startsWith),function(){return base.String.startsWith},function(){return function(a,b){var c=$onlyCoercibleToString(this),d=$toString(a),e=$min($max($toInteger(b),0),c.length);return $sSlice(c,e,e+d.length)===d}},"String.startsWith shim"),exports.String.startsWith=$toMethod(exports.String.proto.startsWith),exports.String.proto.endsWith=$decide($affirmBasic(base.String.endsWith),function(){return base.String.endsWith},function(){return function(a,b){var c,d,e=$onlyCoercibleToString(this),f=$toString(a),g=e.length;return b=$isUndefined(b)?g:$toInteger(b),c=$min($max(b,0),g),d=c-f.length,d>=0&&$sSlice(e,d,c)===f}},"String.endsWith shim"),exports.String.endsWith=$toMethod(exports.String.proto.endsWith),exports.String.proto.contains=$decide($affirmBasic(base.String.contains),function(){return base.String.contains},function(){return function(a,b){var c=$onlyCoercibleToString(this),d=$toString(a),e=c.length;return b=$isUndefined(b)?0:$toInteger(b),-1!==$call(pSIndexOf,c,d,$min($max(b,0),e))}},"String.contains shim"),exports.String.contains=$toMethod(exports.String.proto.contains),$stringContains=exports.String.contains,exports.Array.isEmpty=function(a){return!$specialToObject(a).length},exports.Array.proto.first=function(){var a=$specialToObject(this);return $getItem(a,0,$isString(a))},exports.Array.first=$toMethod(exports.Array.proto.first),exports.Array.proto.firstIn=function(){var a,b=$specialToObject(this),c=$toLength(b.length),d=-1;if($isString(b))d=c-1;else for(a=0;c>a;a+=1)if($hasProperty(b,a)){d=a;break}return d},exports.Array.firstIn=$toMethod(exports.Array.proto.firstIn),exports.Array.proto.last=function(){var a=$specialToObject(this);return $getItem(a,a.length-1,$isString(a))},exports.Array.last=$toMethod(exports.Array.proto.last),exports.Array.proto.lastIn=function(){var a,b=$specialToObject(this),c=$toLength(b.length)-1,d=-1;if($isString(b))d=c;else for(a=c;a>=0;a-=1)if($hasProperty(b,a)){d=a;break}return d},exports.Array.lastIn=$toMethod(exports.Array.proto.lastIn),exports.Array.proto.unique=function(){return function(a,b){var c,d,e,f,g,h,i,j=$toObject(this);for($isUndefined(a)&&(a=$strictEqual),$throwIfNotFunction(a),f=[],d=$toLength(j.length),c=$isString(j),e=0;d>e;e+=1)if($hasItem(j,e,c)){for(i=$getItem(j,e,c),h=!0,g=0;d>g;g+=1)if(e>g&&$hasItem(j,g,c)&&$call(a,b,i,$getItem(j,g,c))){h=!1;break}h&&$push(f,i)}return f}}(),exports.Array.unique=$toMethod(exports.Array.proto.unique),exports.Object.getOwnPropertyDescriptor=function(){return $decide(function(){$affirmBasic(base.Object.getOwnPropertyDescriptor)();var a={sentinel:null},b=[10,20,30];b[4]=Undefined,$affirm.strictEqual(base.Object.getOwnPropertyDescriptor(a,"sentinel").value,null,"test1"),$affirm.strictEqual(base.Object.getOwnPropertyDescriptor(b,2).value,30,"test2"),$affirm.strictEqual(base.Object.getOwnPropertyDescriptor(b,"2").value,30,"test3"),$affirm.ok($call(pHasOwn,base.Object.getOwnPropertyDescriptor(b,4),"value"),"test4"),$affirm.strictEqual(base.Object.getOwnPropertyDescriptor(b,4).value,Undefined,"test5"),$affirm.strictEqual(base.Object.getOwnPropertyDescriptor(b,5),Undefined,"test6")},function(){return hasWorkingGOPD=!0,$decide(function(){try{if(base.Object.getOwnPropertyDescriptor(protoFunction,"length").writable&&(base.Object.defineProperty(protoFunction,"length",propConstant),base.Object.getOwnPropertyDescriptor(protoFunction,"length").writable))throw new CError("Still writable")}catch(a){$conlog("Failed to patch Function.prototype.length",a)}$affirm.ok(!base.Object.getOwnPropertyDescriptor(function(){},"length").writable,"Function.length should be read only.")},function(){return $decide(function(){$affirm["throws"](function(){base.Object.getOwnPropertyDescriptor(Undefined,"name")},CTypeError,"undefined"),$affirm["throws"](function(){base.Object.getOwnPropertyDescriptor(null,"name")},CTypeError,"null"),$affirm.doesNotThrow(function(){base.Object.getOwnPropertyDescriptor(42,"name")},"number"),$affirm.doesNotThrow(function(){base.Object.getOwnPropertyDescriptor(!0,"name")},"boolean"),$affirm.doesNotThrow(function(){base.Object.getOwnPropertyDescriptor("a","name")},"string")},function(){return base.Object.getOwnPropertyDescriptor},function(){var a=base.Object.getOwnPropertyDescriptor;return function(b,c){return a($toObject(b),c)}},"Object.getOwnPropertyDescriptor throws patch")},function(){var a=base.Object.getOwnPropertyDescriptor;return function(b,c){var d=$toObject(b),e=a(d,c);return"length"===c&&e.writable&&$isFunction(d)&&(e.writable=!1),e}},"Object.getOwnPropertyDescriptor read only patch")},function(){var a=base.Object.lookupSetter,b=base.Object.lookupSetter;return function(c,d){var e,f,g,h,i=$toObject(c);return $hasOwn(i,d)&&(e={},e.configurable=!0,e.enumerable=!0,hasGetSet&&(f=i[stringProto],i[stringProto]=protoObject,g=$call(a,i,d),h=$call(b,i,d),$isUndefined(f)?$deleteProperty(i,stringProto):i[stringProto]=f,($isNative(g)||$isNative(h))&&($isNative(g)&&(e.get=g),$isNative(h)&&(e.set=h))),e.value=i[d],e.writable=!0),e}},"Object.getOwnPropertyDescriptor sham")}(),exports.Array.proto.splice=function(){function a(a){var c=$toStringTag(a);if(b[c]||hasWorkingGOPD&&$call(pHasOwn,a,"length")&&!exports.Object.getOwnPropertyDescriptor(a,"length").writable)throw new CTypeError("Cannot assign to read only property 'length' of "+c);return a}var b={};return b[stringTagFunction]=!0,b[stringTagString]=!0,b[stringTagArrayBuffer]=!0,b[stringTagFloat32Array]=!0,b[stringTagFloat64Array]=!0,b[stringTagInt8Array]=!0,b[stringTagInt16Array]=!0,b[stringTagInt32Array]=!0,b[stringTagUint8Array]=!0,b[stringTagUint8ClampedArray]=!0,b[stringTagUint16Array]=!0,b[stringTagUint32Array]=!0,b[stringTagHTMLCollection]=!0,b[stringTagNodeList]=!0,$decide(function(){$affirmBasic(base.Array.splice)(),$affirm.strictEqual($call(base.Array.splice,[1,2],0).length,2,"correct length")},function(){return $decide(function(){$affirm.strictEqual($call(base.Array.splice,[1,2]).length,0,"is zero"),$affirm["throws"](function(){$call(base.Array.splice,"abc")},CTypeError,"string should throw"),$affirm["throws"](function(){$call(base.Array.splice,function(){})},CTypeError,"function should throw")},function(){return base.Array.splice},function(){var b=base.Array.splice;return function(){var c,d=a($toObject(this));return c=$toLength(arguments.length)<1?[]:$apply(b,d,arguments)}},"Array.splice patch")},function(){return function(b,c){var d,e,f,g,h,i=a($toObject(this)),j=$toLength(i.length),k=[],l=$toInteger(b),m=$isString(i),n=0,o=$toLength(arguments.length),p=2,q=$max(o-p,0);if(1>o)return k;for(d=0>l?$max(j+l,0):$min(l,j),2>o&&(c=j-d),e=$min($max($toLength(c),0),j-d);e>n;)f=d+n,$hasItem(i,f,m)&&$push(k,$getItem(i,f,m)),n+=1;if(e>q){for(n=d,h=j-e;h>n;)f=n+e,g=n+q,$hasItem(i,f,m)?i[g]=$getItem(i,f,m):$deleteProperty(i,g),n+=1;for(n=j,h=j-e+q;n>h;)$deleteProperty(i,n-1),n-=1}else if(q>e)for(n=j-e;n>d;)f=n+e-1,g=n+q-1,$hasItem(i,f,m)?i[g]=$getItem(i,f,m):$deleteProperty(i,g),n-=1;for(n=d;o>p;)i[n]=$getArgItem(arguments,p),n+=1,p+=1;return i.length=$toLength(j-e+q),k}},"Array.splice shim")}(),exports.Array.splice=$toMethod(exports.Array.proto.splice),$splice=exports.Array.splice,exports.Array.proto.forEach=$decide($affirmArrayMethodTestsObject(base.Array.forEach),function(){return base.Array.forEach},function(){return function(a,b){var c,d,e,f=$toObject(this);for($throwIfNotFunction(a),d=$toLength(f.length),c=$isString(f),e=0;d>e;e+=1)$hasItem(f,e,c)&&$call(a,b,$getItem(f,e,c),e,f)}},"Array.forEach shim"),exports.Array.forEach=$toMethod(exports.Array.proto.forEach),$forEach=exports.Array.forEach,exports.Array.proto.forAll=function(a,b){var c,d,e,f,g=$toObject(this);for($throwIfNotFunction(a),d=$toLength(g.length),c=$isString(g),f=!1,e=0;d>e&&!(f=!!$call(a,b,$getItem(g,e,c),e,g));e+=1);return f},exports.Array.forAll=$toMethod(exports.Array.proto.forAll),exports.Array.proto.some=$decide($affirmArrayMethodTestsObject(base.Array.some),function(){return base.Array.some},function(){return function(a,b){var c,d,e,f,g=$toObject(this);for($throwIfNotFunction(a),e=$toLength(g.length),c=$isString(g),d=!1,f=0;e>f&&(!$hasItem(g,f,c)||!(d=!!$call(a,b,$getItem(g,f,c),f,g)));f+=1);return d}},"Array.some shim"),exports.Array.some=$toMethod(exports.Array.proto.some),exports.Array.proto.find=$decide(function(){$affirmArrayMethodTestsBasic(base.Array.find)();var a,b={0:1,1:2,2:3,length:-3};$affirm.doesNotThrow(function(){a=$call(base.Array.find,b,function(){throw new CError("should not reach here")})},"should not iterate object with negative length"),$affirm.strictEqual(a,-1,"object with negative length")},function(){return base.Array.find},function(){return function(a,b){var c,d,e,f,g,h=$toObject(this);for($throwIfNotFunction(a),d=$toLength(h.length),c=$isString(h),e=0;d>e;e+=1)if(g=$getItem(h,e,c),$call(a,b,g,e,h)){f=g;break}return f}},"Array.find shim"),exports.Array.find=$toMethod(exports.Array.proto.find),exports.Array.proto.findIndex=$decide(function(){$affirmArrayMethodTestsBasic(base.Array.findIndex)();var a,b={0:1,1:2,2:3,length:-3};$affirm.doesNotThrow(function(){a=$call(base.Array.findIndex,b,function(){throw new CError("should not reach here")})},"should not iterate object with negative length"),$affirm.strictEqual(a,-1,"object with negative length")},function(){return base.Array.findIndex},function(){return function(a,b){var c,d,e,f,g=$toObject(this);for($throwIfNotFunction(a),e=$toLength(g.length),c=$isString(g),d=-1,f=0;e>f;f+=1)if($call(a,b,$getItem(g,f,c),f,g)){d=f;break}return d}},"Array.findIndex"),exports.Array.findIndex=$toMethod(exports.Array.proto.findIndex),exports.Array.from=$decide($affirmBasic(base.Array.from),function(){return base.Array.from},function(){return function(a,b,c){var d,e,f,g,h,i,j=$toObject(a);for($isUndefined(b)||(g=!!$throwIfNotFunction(b)),e=$toLength(j.length),f=$isFunction(this)?new this(e):[],f.length=e,d=$isString(j),h=0;e>h;h+=1)i=$getItem(j,h,d),g&&(i=$call(b,c,i,h)),f[h]=i;return f}},"Array.from shim"),exports.Array.proto.every=$decide($affirmArrayMethodTestsObject(base.Array.every),function(){return base.Array.every},function(){return function(a,b){var c,d,e,f,g=$toObject(this);for($throwIfNotFunction(a),d=$toLength(g.length),c=$isString(g),e=!0,f=0;d>f&&(!$hasItem(g,f,c)||(e=!!$call(a,b,$getItem(g,f,c),f,g),e));f+=1);return e}},"Array.every shim"),exports.Array.every=$toMethod(exports.Array.proto.every),exports.Array.proto.map=$decide($affirmArrayMethodTestsObject(base.Array.map),function(){return base.Array.map},function(){return function(a,b){var c,d,e,f,g=$toObject(this);for($throwIfNotFunction(a),e=[],e.length=d=$toLength(g.length),c=$isString(g),f=0;d>f;f+=1)$hasItem(g,f,c)&&(e[f]=$call(a,b,$getItem(g,f,c),f,g));return e}},"Array.map shim"),exports.Array.map=$toMethod(exports.Array.proto.map),exports.Array.of=$decide($affirmBasic(base.Array.of),function(){return base.Array.of},function(){return function(){return $argSlice(arguments)}},"Array.of shim"),exports.Array.proto.filter=$decide($affirmArrayMethodTestsObject(base.Array.filter),function(){return base.Array.filter},function(){return function(a,b){var c,d,e,f,g,h=$toObject(this);for($throwIfNotFunction(a),d=$toLength(h.length),c=$isString(h),e=[],f=0;d>f;f+=1)$hasItem(h,f,c)&&(g=$getItem(h,f,c),$call(a,b,g,f,h)&&$push(e,g));return e}},"Array.filter shim"),exports.Array.filter=$toMethod(exports.Array.proto.filter),exports.Array.proto.reduce=$decide($affirmArrayMethodTestsObject(base.Array.reduce),function(){return base.Array.reduce},function(){var a="reduce of empty array with no initial value";return function(b,c){var d,e,f,g,h,i=$toObject(this);if($throwIfNotFunction(b),f=$toLength(i.length),!f&&1===$toLength(arguments.length))throw new CTypeError(a);if(h=0,d=$isString(i),$toLength(arguments.length)>1)e=c;else{for(g=!1;!g&&f>h;)g=$hasItem(i,h,d),g&&(e=$getItem(i,h,d),h+=1);if(!g)throw new CTypeError(a)}for(;f>h;)$hasItem(i,h,d)&&(e=$call(b,Undefined,e,$getItem(i,h,d),h,i)),h+=1;return e}},"Array.reduce shim"),exports.Array.reduce=$toMethod(exports.Array.proto.reduce),exports.Array.proto.reduceRight=$decide($affirmArrayMethodTestsObject(base.Array.reduceRight),function(){return base.Array.reduceRight},function(){var a="reduceRight of empty array with no initial value";return function(b,c){var d,e,f,g,h,i=$toObject(this);if($throwIfNotFunction(b),f=$toLength(i.length),!f&&1===$toLength(arguments.length))throw new CTypeError(a);if(d=$isString(i),h=f-1,$toLength(arguments.length)>1)e=c;else{for(g=!1;!g&&h>=0;)g=$hasItem(i,h,d),g&&(e=$getItem(i,h,d),h-=1);if(!g)throw new CTypeError(a)}for(;h>=0;)$hasItem(i,h,d)&&(e=$call(b,Undefined,e,$getItem(i,h,d),h,i)),h-=1;return e}},"Array.reduceRight shim"),exports.Array.reduceRight=$toMethod(exports.Array.proto.reduceRight),exports.Number.randomInt=function(a,b){if(1===$toLength(arguments.length)&&(b=a,a=0),a=clampSafeInt(a),b=clampSafeInt(b),a===b)return a;var c,d=b-a+1;return d>MAX_SAFE_INTEGER?(d=new BigNum(b).minus(a).plus(1),c=$floor(d.times($random()))+a):c=$floor($random()*d+a),c},$randomInt=exports.Number.randomInt,wspaceStrings=function(){var a,b,c=[9,10,11,12,13,32,160,5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288,65279],d=$toLength(c.length),e="",f="";for(a=0;d>a;a+=1)b=$call(base.Number.toString,c[a],16),e+="\\u"+$sSlice("0000",0,-$toLength(b.length))+b,f+=base.String.fromCharCode(c[a]);return{wsStr:e,trimString:f}}(),exports.String.proto.trim=$decide(function(){$affirmBasic(base.String.trim)();var a;$affirm.doesNotThrow(function(){a=$call(base.String.trim,wspaceStrings.trimString)},"test1"),$affirm.strictEqual(a.length,0,"not all whitespace trimmed"),$affirm.doesNotThrow(function(){a=$call(base.String.trim,base.String.fromCharCode(8203))},"test2"),$affirm.strictEqual(a.length,1,"trimmed 0x200b bug"),$affirm.doesNotThrow(function(){a=$call(base.String.trim,base.String.fromCharCode(133))},"test3"),$affirm.strictEqual(a.length,1,"trimmed 0x0085 bug")},function(){return base.String.trim},function(){var a=new CRegExp("^["+wspaceStrings.wsStr+"]+|["+wspaceStrings.wsStr+"]+$","g");return function(){return $replace($onlyCoercibleToString(this),a,"")}},"String.trim shim"),exports.String.trim=$toMethod(exports.String.proto.trim),$trim=exports.String.trim,exports.parseInt=$decide(function(){$affirm.ok(!testShims,"testing shim");var a;$affirm.doesNotThrow(function(){a=base.parseInt(wspaceStrings.trimString+"08"+wspaceStrings.trimString)},"test1"),$affirm.strictEqual(a,8,"test2"),$affirm.doesNotThrow(function(){a=base.parseInt(wspaceStrings.trimString+"0x16"+wspaceStrings.trimString)},"test3"),$affirm.strictEqual(a,22,"test4"),$affirm.doesNotThrow(function(){a=base.parseInt(wspaceStrings.trimString+"0x16"+wspaceStrings.trimString,10)},"test5"),$affirm.strictEqual(a,0,"test6")},function(){return base.parseInt},function(){var a=base.parseInt,b=new CRegExp("^0[xX]");return function(c,d){return c=$trim(c),($isUndefined(d)||!toInt32(d))&&(d=$test(b,c)?16:10),10===d&&$test(b,c)?0:a(c,d)}},"parseInt patch"),$parseInt=exports.parseInt,exports.Number.parseInt=$decide(function(){$affirmBasic(base.Number.parseInt)();var a;$affirm.doesNotThrow(function(){a=base.Number.parseInt(wspaceStrings.trimString+"08"+wspaceStrings.trimString)},"test1"),$affirm.strictEqual(a,8,"test2"),$affirm.doesNotThrow(function(){a=base.Number.parseInt(wspaceStrings.trimString+"0x16"+wspaceStrings.trimString)},"test3"),$affirm.strictEqual(a,22,"test4"),$affirm.doesNotThrow(function(){a=base.Number.parseInt(wspaceStrings.trimString+"0x16"+wspaceStrings.trimString,10)},"test5"),$affirm.strictEqual(a,0,"test6")},function(){return base.Number.parseInt},function(){return function(){return $apply($parseInt,null,arguments)}},"Number.parseInt shim"),exports.parseFloat=$decide(function(){$affirm.ok(!testShims,"testing shim");var a;$affirm.doesNotThrow(function(){a=base.parseFloat(wspaceStrings.trimString+"123.45678"+wspaceStrings.trimString)},"test1"),$affirm.strictEqual(a,123.45678,"test2"),$affirm.doesNotThrow(function(){a=base.parseFloat(wspaceStrings.trimString+"0123.45678"+wspaceStrings.trimString)},"test3"),$affirm.strictEqual(a,123.45678,"test4"),$affirm.doesNotThrow(function(){a=base.parseFloat(wspaceStrings.trimString+"123.456780"+wspaceStrings.trimString)},"test5"),$affirm.strictEqual(a,123.45678,"test6")},function(){return base.parseFloat},function(){var a=base.parseFloat;return function(b){return a($trim(b))}},"parseFloat patch"),$parseFloat=exports.parseFloat,exports.Number.parseFloat=$decide(function(){$affirmBasic(base.parseFloat)();var a;$affirm.doesNotThrow(function(){a=base.parseFloat(wspaceStrings.trimString+"123.45678"+wspaceStrings.trimString)},"test1"),$affirm.strictEqual(a,123.45678,"test2"),$affirm.doesNotThrow(function(){a=base.parseFloat(wspaceStrings.trimString+"0123.45678"+wspaceStrings.trimString)},"test3"),$affirm.strictEqual(a,123.45678,"test4"),$affirm.doesNotThrow(function(){a=base.parseFloat(wspaceStrings.trimString+"123.456780"+wspaceStrings.trimString)},"test5"),$affirm.strictEqual(a,123.45678,"test6")},function(){return base.parseFloat},function(){return $parseFloat},"Number.parseFloat shim"),exports.Number.proto.toFixed=$decide(function(){$affirmBasic(base.Number.toFixed)();var a;$affirm.doesNotThrow(function(){a=$call(base.Number.toFixed,8e-5,3)},"test1"),$affirm.strictEqual(a,"0.000","test2"),$affirm.doesNotThrow(function(){a=$call(base.Number.toFixed,.9,0)},"test3"),$affirm.strictEqual(a,"1","test4"),$affirm.doesNotThrow(function(){a=$call(base.Number.toFixed,1.255,2)},"test5"),$affirm.strictEqual(a,"1.25","test6"),$affirm.doesNotThrow(function(){a=$call(base.Number.toFixed,0xde0b6b3a7640080,0)},"test7"),$affirm.strictEqual(a,"1000000000000000128","test8")},function(){return base.Number.toFixed},function(){function a(a,b){var c;for(c=0;h>c;c+=1)b+=a*g[c],g[c]=b%f,b=$floor(b/f)}function b(a){var b,c=0;for(b=i;b>=0;b-=1)c+=g[b],g[b]=$floor(c/a),c=c%a*f}function c(){var a,b,c="";for(a=i;a>=0;a-=1)b=g[a],(c||!a||b)&&(b=$toString(b),c?c+=$sSlice("0000000",0,7-b.length)+b:c=b);return c}function d(a,b,c){return b&&(c=b%2?d(a,b-1,c*a):d(a*a,b/2,c)),c}function e(a){for(var b=0;a>=4096;)b+=12,a/=4096;for(;a>=2;)b+=1,a/=2;return b}var f=1e7,g=[0,0,0,0,0,0],h=$toLength(g.length),i=h-1;return function(f){var g,h,i,j,k,l,m,n;if(g=$toNumber(f),g=$strictEqual(g,g)?$floor(g):0,0>g||g>20)throw new CRangeError("Number.toFixed called with invalid number of decimals");if(h=$toNumber(this),!$strictEqual(h,h)||-1e21>=h||h>=1e21)return $toString(h);if(i="",0>h&&(i="-",h=-h),j="0",h>1e-21)if(k=e(h*d(2,69,1))-69,l=0>k?h*d(2,-k,1):h/d(2,k,1),l*=4503599627370496,k=52-k,k>0){for(a(0,l),m=g;m>=7;)a(1e7,0),m-=7;for(a(d(10,m,1),0),m=k-1;m>=23;)b(1<<23),m-=23;b(1<<m),a(1,1),b(2),j=c()}else a(0,l),a(1<<-k,0),j=c()+$sSlice("0.00000000000000000000",2,2+g);return g>0?(n=j.length,j=g>=n?i+$sSlice("0.0000000000000000000",0,g-n+2)+j:i+$sSlice(j,0,n-g)+"."+$sSlice(j,n-g)):j=i+j,j}},"Number.toFixed shim"),exports.Number.toFixed=$toMethod(exports.Number.proto.toFixed,$firstArg),exports.Array.proto.lastIndexOf=$decide(function(){$affirmBasic(base.Array.lastIndexOf)();var a;$affirm.doesNotThrow(function(){a=$call(base.Array.lastIndexOf,[0,1],0,-3)},"test1"),$affirm.strictEqual(a,-1,"item not found")},function(){return base.Array.lastIndexOf},function(){return function(a,b){var c,d=$toObject(this),e=$toLength(d.length),f=$isString(d),g=-1;if(e)for(b=arguments.length>1?$toInteger(b):e-1,b=b>=0?$min(b,e-1):e-$abs(b),c=b;c>=0;c-=1)if($hasItem(d,c,f)&&a===$getItem(d,c,f)){g=c;break}return g}},"Array.lastIndexOf shim"),exports.Array.lastIndexOf=$toMethod(exports.Array.proto.lastIndexOf),exports.Array.proto.fill=$decide($affirmBasic(base.Array.fill),function(){return base.Array.fill},function(){return function(a,b,c){var d,e,f,g=$toObject(this),h=$toLength(g.length),i=$toInteger(b);for(i=0>b?$max(h+i,0):$min(i,h),d=$isUndefined(c)?h:$toInteger(c),e=0>d?$max(h+d,0):$min(d,h),f=i;e>f;f+=1)g[f]=a;return g}},"Array.fill shim"),exports.Array.fill=$toMethod(exports.Array.proto.fill),exports.Array.proto.copyWithin=$decide($affirmBasic(base.Array.copyWithin),function(){return base.Array.copyWithin},function(){return function(a,b,c){var d,e,f,g,h,i,j,k=$toObject(this),l=$toLength(k.length),m=$toInteger(a),n=$toInteger(b);for(e=0>m?$max(l+m,0):$min(m,l),f=0>n?$max(l+n,0):$min(n,l),d=$isUndefined(c)?l:$toInteger(c),g=0>d?$max(l+d,0):$min(d,l),h=$min(g-f,l-e),e>f&&f+h>e?(i=-1,f+=h-1,e+=h-1):i=1,j=h;j>=1;j-=1)$call(pHasOwn,k,f)?k[e]=k[f]:$deleteProperty(k,e),f+=i,e+=i;return k}},"Array.copyWithin shim"),exports.Array.copyWithin=$toMethod(exports.Array.proto.copyWithin),exports.Object.proto.forKeys=function(a,b){var c,d,e,f,g,h,i,j=$toObject(this);for($throwIfNotFunction(a),d=$objectKeys(j),e=$toLength(d.length),c=$isString(j),f=!1,g=0;e>g&&(h=d[g],i=c&&$toString($toInteger(h))===h&&h>=0&&MAX_SAFE_INTEGER>=h?$getItem(j,h,!0):j[h],!(f=!!$call(a,b,i,h,j)));g+=1);return f},exports.Object.forKeys=$toMethod(exports.Object.proto.forKeys),$forKeys=exports.Object.forKeys,$isCircular=function(){var a,b;return b=function(b){return!$isPrimitive(b)&&(-1!==$indexOf(this,b)||a(b,this))},a=function(a,c){return $isPrimitive(a)?!1:($push(c,a),$forKeys(a,b,c))},function(b){return a(b,[])}}(),exports.Object.isCircular=$isCircular,exports.Object.isEmpty=function(a){return!$objectKeys(a).length},exports.String.proto.isDigits=function(){var a=new CRegExp("^\\d+$");return function(){return $test(a,$onlyCoercibleToString(this))}}(),exports.String.isDigits=$toMethod(exports.String.proto.isDigits),$isDigits=exports.String.isDigits,hasAccessorSupport=$call(pHasOwn,protoObject,stringDefineGetter),$defProp=function(a,b,c,d){return function(e,f,g){$throwIfIsPrimitive(e),g=$assign({},$throwIfIsPrimitive(g));var h,i,j=$call(pHasOwn,g,"value"),k=$call(pHasOwn,g,"get"),l=$call(pHasOwn,g,"set");if(j){if(k||l)throw new CTypeError("Invalid property. A property cannot have accessors and a value")}else $call(pHasOwn,e,f)?g.value=e[f]:k||l||(g.value=Undefined);if($call(pHasOwn,g,"value"))($isArray(e)||$isArguments(e))&&(f=$toString(f),$isDigits(f)&&"0"!==$getItem(f,0,stringTagString)&&$isIndex($toNumber(f),MAX_UINT32-1)&&(f=$toNumber(f),i=!0)),!i&&hasAccessorSupport&&($call(a,e,f)||$call(b,e,f))?(h=e[stringProto],e[stringProto]=protoObject,$deleteProperty(e,f),e[f]=g.value,e[stringProto]=h):(i&&f>=$toLength(e.length)&&(e.length=f+1),e[f]=g.value);else{if(!hasAccessorSupport)throw new CTypeError("getters & setters can not be defined on this javascript engine");k&&$call(c,e,f,g.get),l&&$call(d,e,f,g.set)}return e}}(base.Object.lookupGetter,base.Object.lookupSetter,base.Object.defineGetter,base.Object.defineSetter),exports.Object.defineProperty=function(){return $decide(function(){$affirmBasic(base.Object.defineProperty)(),$affirm.strictEqual(base.Object.defineProperty({},"sentinel",{value:null}).sentinel,null,"test1")},function(){return $decide(function(){var a,b=[];$affirm.doesNotThrow(function(){a=base.Object.defineProperty([],"1.",{value:null})},"should not throw an error definining elements on arrays using trailing point numbers strings"),$affirm.strictEqual(a.length,0,"test1"),$affirm.strictEqual(a[1],Undefined,"test2"),$affirm.strictEqual(a["1."],null,"test3"),$affirm.doesNotThrow(function(){a=base.Object.defineProperty([],"1",{value:Undefined})},"should not throw an error definining elements on arrays using integer strings"),$affirm.strictEqual(a.length,2,"test4"),$affirm.strictEqual(a[1],Undefined,"test5"),$affirm.doesNotThrow(function(){a=base.Object.defineProperty([],"1",{value:null})},"should not throw an error definining elements on arrays using integer strings"),$affirm.strictEqual(a.length,2,"test6"),$affirm.strictEqual(a[1],null,"test7"),$affirm.doesNotThrow(function(){a=base.Object.defineProperty([],"1",{})},"should not throw an error definining elements on arrays using integer strings"),$affirm.strictEqual(a.length,2,"test8"),$affirm.strictEqual(a[1],Undefined,"test9"),$affirm.doesNotThrow(function(){a=base.Object.defineProperty([],"1",{value:null})},"should not throw an error definining elements on arrays using integer strings"),$affirm.strictEqual(a.length,2,"test10"),$affirm.strictEqual(a[1],null,"test11"),$affirm.doesNotThrow(function(){a=base.Object.defineProperty([10,20],"1",{})},"Test overwrite array properties when no value defined, no value change"),$affirm.strictEqual(a.length,2,"test12"),$affirm.strictEqual(a[1],20,"test13"),$affirm.doesNotThrow(function(){a=base.Object.defineProperty([10],"0",{enumerable:!0,writable:!0,configurable:!0})},"should not throw an error redefinining elements on arrays"),$affirm.strictEqual(a.length,1,"length after re-define"),$affirm.strictEqual(a[0],10,"value after re-define"),b=[],$affirm.doesNotThrow(function(){base.Object.defineProperty(b,"0",{value:10,enumerable:!0,writable:!0,configurable:!0})},"should not throw an error definining elements on arrays"),$affirm.doesNotThrow(function(){base.Object.defineProperty(b,"1",{value:!0,enumerable:!0,writable:!0,configurable:!0})},"should not throw an error definining elements on arrays"),$affirm.doesNotThrow(function(){base.Object.defineProperty(b,"2",{value:"x",enumerable:!0,writable:!0,configurable:!0})},"should not throw an error definining elements on arrays"),$affirm.doesNotThrow(function(){base.Object.defineProperty(b,"foo",{value:noop,enumerable:!0,writable:!0,configurable:!0})},"should not throw an error definining properties on arrays"),$affirm.strictEqual(b.length,3,"length after define"),$affirm.strictEqual(b[0],10,"first value"),$affirm.strictEqual(b[1],!0,"second value"),$affirm.strictEqual(b[2],"x","third value"),$affirm.strictEqual(b.foo,noop,"fourth value"),a=base.Object.defineProperty([],1.1,{enumerable:!0,writable:!0,configurable:!0}),$affirm.ok($call(pHasOwn,a,1.1),"have own property"),$affirm.strictEqual(a.length,0,"be zero length"),$affirm.strictEqual(a[1.1],Undefined,"value should be undefined")},function(){return base.Object.defineProperty},function(){var a=base.Object.defineProperty;return function(b,c,d){return($isArray(b)||$isArguments(b))&&(c=$toString(c),$isDigits(c)&&"0"!==$getItem(c,0,stringTagString)&&$isIndex($toNumber(c),MAX_UINT32-1)||$isNumeric(c))?$defProp(b,c,d):a(b,c,d)}},"Object.defineProperty patch")},function(){return $defProp},"Object.defineProperty sham")}(),$defineProperty=exports.Object.defineProperty,exports.Object.defineProperties=function(){function a(a){if($isString(a))throw new CTypeError("Property description must be an object: "+$toString(a));return a}var b=base.Object.defineProperties;return $decide(function(){$affirmBasic(b)(),$affirm.strictEqual($defineProperty,base.Object.defineProperty,"defineProperty was patched or shimmed")},function(){return $decide(function(){$affirm["throws"](function(){b({})},CTypeError,"no properties argument"),$affirm["throws"](function(){b({},Undefined)},CTypeError,"properties undefined"),$affirm["throws"](function(){b({},null)},CTypeError,"properties null"),$affirm.doesNotThrow(function(){b({},!0)},"boolean"),$affirm.doesNotThrow(function(){b({},1)},"properties number"),$affirm["throws"](function(){b({},"a")},CTypeError,"properties string")},function(){return b},function(){return function(c,d){return b($throwIfIsPrimitive(c),a($toObject(d)))}},"Object.defineProperties patch")},function(){return function(b,c){$throwIfIsPrimitive(b),c=a($toObject(c));var d,e,f=$objectKeys(c),g=$toLength(f.length);for(e=0;g>e;e+=1)d=f[e],$defineProperty(b,d,c[d]);return b}},"Object.defineProperties using Object.defineProperty")}(),$defineProperties=exports.Object.defineProperties,exports.Object.freeze=$decide($affirmBasic(base.Object.freeze),function(){return base.Object.freeze},function(){return function(a){return $throwIfIsPrimitive(a)}},"Object.freeze sham"),exports.Object.freeze=$decide(function(){$affirm.doesNotThrow(function(){exports.Object.freeze({noop:noop})},"does not throw an error in Rhino")},function(){return exports.Object.freeze},function(){var a=exports.Object.freeze;return function(b){var c;return c=$isFunction(b)?b:a(b)}},"Object.freeze Rhino bug patch"),exports.Object.isFrozen=$decide($affirmBasic(base.Object.isFrozen),function(){return base.Object.isFrozen},function(){return function(a){return $throwIfIsPrimitive(a),!1}},"Object.isFrozen sham"),exports.Object.deepFreeze=function(a){var b,c;exports.Object.freeze(a);for(b in a)c=$getItem(a,b,$isString(a)),$isPrimitive(c)||exports.Object.isFrozen(c)||exports.Object.deepFreeze(c);return a},exports.Object.assign=$decide($affirmBasic(base.Object.assign),function(){return base.Object.assign},function(){return function(a){var b,c,d,e,f,g,h,i,j=$toObject(a),k=$toLength(arguments.length);if(k>=2)for(d=1;k>d;d+=1)if(i=arguments[d],null!==i&&!$isUndefined(i))for(c=$toObject(i),e=$objectKeys(c),f=$toLength(e.length),g=0;f>g;g+=1)h=e[g],b=$isString(c),$hasItem(c,h,b)&&(j[h]=$getItem(c,h,b));return j}},"Object.assign shim"),$assign=exports.Object.assign,exports.Object.create=$decide(function(){function a(){}$affirmBasic(base.Object.create)();var b=base.Object.create(a.prototype,{constructor:$assign({value:a},propNotEnumerable),foo:$assign({value:"test"},propNotEnumerable)});$affirm.strictEqual(b.foo,"test","test1")},function(){return base.Object.create},function(){function a(){}return function(b,c){a.prototype=$throwIfIsPrimitive(b);var d=new a;return $defineProperty(d,stringProto,$assign({value:b},propNotEnumerable)),$isPlainObject(c)&&$defineProperties(d,c),
d}},"Object.create shim"),$create=exports.Object.create,exports.Date.proto.isValid=function(a){return function(){if(!$isDate(this))throw new CTypeError("this is not a Date object.");var b=$call(a,this);return $strictEqual(b,b)}}(base.Date.getTime),exports.Date.isValid=$toMethod(exports.Date.proto.isValid),exports.Date.now=$decide($affirmBasic(base.Date.now),function(){return base.Date.now},function(){var a=base.Date.getTime;return function(){return $call(a,new CDate)}},"Date.now shim"),exports.String.proto.wrapInChars=function(a){return a=$isString(a)||$isNumber(a)?$toString(a):"",a+$onlyCoercibleToString(this)+a},exports.String.wrapInChars=$toMethod(exports.String.proto.wrapInChars),exports.String.proto.truncate=function(a){var b=$onlyCoercibleToString(this);return a=$toNumber(a),$strictEqual(a,a)&&a>=0&&b.length>a&&(b=$sSlice(b,0,a)),b},exports.String.truncate=$toMethod(exports.String.proto.truncate),$truncate=exports.String.truncate,exports.Function.proto.inherits=function(a){$throwIfNotFunction(this),$throwIfNotFunction(a),$defineProperty(this,"superCtor",$assign({value:a},propConstant)),this.prototype=$create(a.prototype),$defineProperty(this.prototype,"constructor",$assign({value:this},propNotEnumerable))},exports.Function.inherits=$toMethod(exports.Function.proto.inherits),$inherits=exports.Function.inherits,exports.Error.isErrorTypeConstructor=function(a){var b;switch(a){case CError:case CTypeError:case CSyntaxError:case CRangeError:case CEvalError:case CReferenceError:case CURIError:b=!0;break;default:b=!1}return b},$isErrorTypeConstructor=exports.Error.isErrorTypeConstructor,exports.customErrorReplacer=function(){var a,b=$getArgItem(arguments,1),c=typeof b;return a="string"===c?b:"undefined"===c||b===INFINITY||b===NEGATIVE_INFINITY||exports.Number.isNaN(b)||$isFunction(b)||$isRegExp(b)?$toString(b):b},function(){var a,b=!1;exports.normaliseErrorIEToStringOn=function(){var c="Should we patch IE6&7?";try{throw new CError(c)}catch(d){d.message===c&&d.toString()===stringTagError&&(a=protoError.toString,$defineProperties(protoError,{toString:$assign({value:function(){return this.name+": "+this.message}},propNotEnumerable)}),b=!0)}return b},exports.normaliseErrorIEToStringOff=function(){return b&&($defineProperties(protoError,{toString:$assign({value:a},propNotEnumerable)}),a=null,b=!1),b},exports.normaliseErrorIEToStringState=function(){return b}}(),exports.customError=function(){function a(a,b,c){var e;if("string"!=typeof a||""===a)throw new CTypeError('"name" was not a valid string: '+$toString(a));if(!$isErrorTypeConstructor(b))throw new CTypeError('"ErrorConstructor" was not an Error type');return c=+c,(!$strictEqual(c,c)||64>c)&&(c=128),e=function(a,d){var f;"string"!=typeof a&&(a=$truncate($stringify(a,exports.customErrorReplacer),c)),$defineProperty(this,"message",$assign({value:a},propNotEnumerable)),$isFunction(d)||(d=e),this.stackStartFunction=d,$isFunction(b.captureStackTrace)?b.captureStackTrace(this,this.stackStartFunction):(f=$call(b,this),"string"==typeof f.stack?$defineProperty(this,"stack",$assign({value:f.stack},propNotEnumerable)):"string"==typeof f.stacktrace&&$defineProperty(this,"stack",$assign({value:f.stacktrace},propNotEnumerable)))},$inherits(e,b),$defineProperties(e.prototype,{name:$assign({value:a},propNotEnumerable),toString:$assign({value:function(){var a,b,c,e=$split(this.message,d),f=this.name+": ",g=$toLength(e.length);if(g>1){for(a=[],c=0;g>c;c+=1)b=e[c],$stringContains(b,"opera:config#UserPrefs|Exceptions Have Stacktrace")||$push(a,b);f+=$join(a,"\n")}else f+=this.message;return f}},propNotEnumerable)}),e}var b,c,d=new CRegExp("\\r\\n|\\n");try{c=a("CustomSyntaxError",CSyntaxError),b=$instanceOf(new c("test"),CSyntaxError)}catch(e){b=!1}return function(c,d,e){if("string"!=typeof c)throw new CTypeError('"name" was not a string: '+$toString(c));if(""===c)throw new CSyntaxError('"name" was an empty string');if($isUndefined(e)){var f=typeof d;("number"===f||"string"===f)&&(e=d,d=CError)}return b&&$isErrorTypeConstructor(d)||(d=CError),a(c,d,e)}}(),exports.Object.swapItems=function(a,b,c){$throwIfIsPrimitive(a),b=$toString(b),c=$toString(c);var d,e,f,g,h,i,j;return b!==c&&(d=exports.Object.getOwnPropertyDescriptor(a,b)||{},e=exports.Object.getOwnPropertyDescriptor(a,c)||{},f=$toLength(c),g=$hasOwnValidLength(a)&&!$isFunction(a)&&$toString(f)===c,$isPlainObject(d)&&$call(pHasOwn,d,"value")?(g&&(i=$toLength(a.length),f===i&&(a.length=i+1)),$defineProperty(a,c,d)):(g&&(i=$toLength(a.length)-1,f===i&&(a.length=i)),$deleteProperty(a,c)),f=$toLength(b),h=$hasOwnValidLength(a)&&!$isFunction(a)&&$toString(f)===b,$isPlainObject(e)&&$call(pHasOwn,e,"value")?($defineProperty(a,b,e),h&&(j=$toLength(a.length),f===j&&(a.length=j+1)),$defineProperty(a,b,e)):(h&&(j=$toLength(a.length)-1,f===j&&(a.length=j)),$deleteProperty(a,b))),a},exports.Array.proto.shuffle=function(a){var b,c,d,e,f,g,h,i,j=$toObject(this);if($hasOwnValidLength(j)&&!$isFunction(j)){if(c=$toLength(j.length),b=$isString(j)){for(h={},e=0;c>e;e+=1)h[e]=$getItem(j,e,!0);j=h}if(j.length=c,c>1)for(d=$min($max($toInteger(a),1),MAX_SAFE_INTEGER),f=0;d>f;f+=1)for(e=0;c>e;e+=1)g=$randomInt(e),i=$call(pHasOwn,j,e),h=j[e],$call(pHasOwn,j,g)?j[e]=j[g]:$deleteProperty(j,e),i?j[g]=h:$deleteProperty(j,g);if(b){for(h="",e=0;c>e;e+=1)h+=j[e];j=$toObject(h)}}return j},exports.Array.shuffle=$toMethod(exports.Array.proto.shuffle),exports.Date.proto.toISOString=$decide(function(){$affirmBasic(base.Date.toISOString)(),$affirm["throws"](function(){$call(base.Date.toISOString,null)},CTypeError,"Throws if not date object"),$affirm["throws"](function(){$call(base.Date.toISOString,new CDate(MAX_VALUE))},CRangeError,"Throws on invalid date");var a;$affirm.doesNotThrow(function(){a=$call(base.Date.toISOString,new CDate(-864e13))},"test1"),$affirm.strictEqual(a,"-271821-04-20T00:00:00.000Z","test2"),$affirm.doesNotThrow(function(){a=$call(base.Date.toISOString,new CDate(864e13))},"test3"),$affirm.strictEqual(a,"+275760-09-13T00:00:00.000Z","test4"),$affirm.doesNotThrow(function(){a=$call(base.Date.toISOString,new CDate(-621987552e5))},"test5"),$affirm.strictEqual(a,"-000001-01-01T00:00:00.000Z","test6"),$affirm.doesNotThrow(function(){a=$call(base.Date.toISOString,new CDate(-1))},"test7"),$affirm.strictEqual(a,"1969-12-31T23:59:59.999Z","test8")},function(){return base.Date.toISOString},function(){var a=base.Date.proto.getUTCFullYear,b=base.Date.proto.getUTCMonth,c=base.Date.proto.getUTCDate,d=base.Date.proto.getUTCHours,e=base.Date.proto.getUTCMinutes,f=base.Date.proto.getUTCSeconds,g=base.Date.proto.getUTCMilliseconds;return function(){if(!exports.Date.isDate(this))throw new CTypeError("this is not a Date object.");if(!exports.Date.isValid(this))throw new CRangeError("Invalid time value");var h,i,j,k,l,m,n,o,p;for(l=$call(a,this),m=$call(b,this),l+=$floor(m/12),m=(m%12+12)%12,h=[m+1,$call(c,this),$call(d,this),$call(e,this),$call(f,this)],p=0>l?"-":l>9999?"+":"",j=l>=0&&9999>=l?-4:-6,l=p+$sSlice("00000"+$abs(l),j),j=$toLength(h.length),i=0;j>i;i+=1)k=h[i],10>k&&(h[i]="0"+k);return n=l+"-"+$join($slice(h,0,2),"-"),o=$join($slice(h,2),":")+"."+$sSlice("000"+$call(g,this),-3),n+"T"+o+"Z"}},"Date.toISOString shim"),exports.Date.toISOString=$toMethod(exports.Date.proto.toISOString),exports.Date.proto.toJSON=$decide(function(){$affirmBasic(base.Date.toJSON)();var a,b=0;$affirm["throws"](function(){a=$call(base.Date.toJSON,$makeDate(-864e13)),a.toISOString=null},CTypeError,"Throw if toISOString is not a function"),$affirm.doesNotThrow(function(){a=$call(base.Date.toJSON,$makeDate(-864e13))},"test1"),$affirm.strictEqual(a,"-271821-04-20T00:00:00.000Z","test2"),$affirm.doesNotThrow(function(){a=$call(base.Date.toJSON,$makeDate(864e13))},"test3"),$affirm.strictEqual(a,"+275760-09-13T00:00:00.000Z","test4"),$affirm.doesNotThrow(function(){a=$call(base.Date.toJSON,$makeDate(-621987552e5))},"test5"),$affirm.strictEqual(a,"-000001-01-01T00:00:00.000Z","test6"),$affirm.doesNotThrow(function(){a=$call(base.Date.toJSON,$makeDate(-1))},"test7"),$affirm.strictEqual(a,"1969-12-31T23:59:59.999Z","test8"),$affirm.doesNotThrow(function(){a=$call(base.Date.toJSON,0/0)},"test9"),$affirm.strictEqual(a,null,"test10"),$affirm.doesNotThrow(function(){a=$call(base.Date.toJSON,INFINITY)},"test11"),$affirm.strictEqual(a,null,"test12"),$affirm.doesNotThrow(function(){a=$call(base.Date.toJSON,1/-b)},"test13"),$affirm.strictEqual(a,null,"test14"),$affirm.doesNotThrow(function(){a=$call(base.Date.toJSON,$makeDate(MAX_VALUE))},"test15"),$affirm.strictEqual(a,null,"test16")},function(){return base.Date.toJSON},function(){return function(){var a,b=$toObject(this),c=$toPrimitive(b,hintNumber);return a="number"!=typeof c||$isFinite(c)?$throwIfNotFunction(b.toISOString).call(b):null}},"Date.toJSON shim"),exports.Date.toJSON=$toMethod(exports.Date.proto.toJSON),exports.JSON.stringify=function(a){return $decide(function(){function b(){return 1}$affirmBasic(a)(),b.toJSON=b,$affirm.strictEqual(a(CNumber(1)),"1","test1"),$affirm.strictEqual(a(CBoolean(!0)),"true","test2"),$affirm.strictEqual(a(CString("abc")),'"abc"',"test3"),$affirm.strictEqual(a(0),"0","test4"),$affirm.strictEqual(a(new CNumber),"0","test5"),$affirm.strictEqual(a(new CString),'""',"test6"),$affirm.doesNotThrow(function(){a(noop)},"should not throw"),$affirm.ok($isUndefined(a(noop)),"test7"),$affirm.ok($isUndefined(a(Undefined)),"test8"),$affirm.doesNotThrow(function(){a()},"test9"),$affirm.ok($isUndefined(a()),"test10"),$affirm.doesNotThrow(function(){a(b),a([b])},"test11"),$affirm.strictEqual(a(b),"1","test12"),$affirm.strictEqual(a([b]),"[1]","test13"),$affirm.strictEqual(a([Undefined]),"[null]","test14"),$affirm.strictEqual(a(null),"null","test15"),$affirm.strictEqual(a([Undefined,noop,null]),"[null,null,null]","test16"),$affirm.doesNotThrow(function(){a({A:[b,!0,!1,null,"\b\n\f\r	"]})},"test17"),$affirm.strictEqual(a({A:[b,!0,!1,null,"\b\n\f\r	"]}),'{"A":[1,true,false,null,"\\b\\n\\f\\r\\t"]}',"test18"),$affirm.strictEqual(a([1,2],null,1),"[\n 1,\n 2\n]","test19");var c=$makeDate(-864e13);$affirm.strictEqual(a(c),'"-271821-04-20T00:00:00.000Z"',"test20"),c=$makeDate(864e13),$affirm.strictEqual(a(c),'"+275760-09-13T00:00:00.000Z"',"test21"),c=$makeDate(-621987552e5),$affirm.strictEqual(a(c),'"-000001-01-01T00:00:00.000Z"',"test22"),c=$makeDate(-1),$affirm.strictEqual(a(c),'"1969-12-31T23:59:59.999Z"',"test22"),c.toJSON=void 0,$affirm.strictEqual(a(c),"{}","test23")},function(){return a},function(){function a(a){var b,c='"';return f.lastIndex=0,c+=$test(f,a)?$replace(a,f,function(a){var c,d=g[a];return"string"==typeof d?c=d:(b=$toString($call(pCharCodeAt,a,0),16),c="\\u"+$sSlice("0000",0,-b.length)+b),c}):a,c+'"'}function b(f,g,h){$isArray(h)||(h=[]);var i,j,k,l,m,n,o,p,q=d,r=g[f];switch(null!==r&&!$isUndefined(r)&&$isFunction(r.toJSON)&&(r=r.toJSON(f)),$isFunction(e)&&(r=$call(e,g,f,r)),!$isPrimitive(r)&&($isString(r)||$isNumber(r)||$isBoolean(r))&&(r=$toPrimitive(r,hintNumber)),$typeOf(r)){case"string":return a(r);case"number":return r!==INFINITY&&r!==NEGATIVE_INFINITY?$toString(r):"null";case"boolean":case"null":return $toString(r);case"object":if(null===r)return $toString(r);for(m=$toLength(h.length),n=0;m>n;n+=1)if(r===h[n])throw new CTypeError("Converting circular structure to JSON");if(h.length=m+1,h[m]=r,d+=c,j=[],$isArray(r)){for(m=$toLength(r.length),n=0;m>n;n+=1)$push(j,b(n,r,h)||"null");return i=$toLength(j.length)?"string"==typeof d&&""!==d?"[\n"+d+$join(j,",\n"+d)+"\n"+q+"]":"["+$join(j,",")+"]":"[]",d=q,i}if(l="string"==typeof d&&""!==d?": ":":",$isArray(e))for(m=$toLength(e.length),n=0;m>n;n+=1)k=e[n],"string"==typeof k&&(p=b(k,r,h),$isUndefined(p)||$push(j,a(k)+l+p));else for(o=$objectKeys(r),m=$toLength(o.length),n=0;m>n;n+=1)k=o[n],p=b(k,r,h),$isUndefined(p)||$push(j,a(k)+l+p);return i=$toLength(j.length)?"string"==typeof d&&""!==d?"{\n"+d+$join(j,",\n"+d)+"\n"+q+"}":"{"+$join(j,",")+"}":"{}",d=q,i}return Undefined}var c,d,e,f=new CRegExp('[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]',"g"),g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(a,f,g){d="";var h=typeof g;if(c="number"===h?$repeat(" ",g):"string"===h?g:"",e=f,null!==f&&!$isUndefined(f)&&!$isFunction(f)&&!$isArray(f))throw new CError("JSON.stringify");return b("",{"":a})}},"JSON.stringify shim")}(base.JSON.stringify),exports.JSON.parse=function(mParse){return $decide(function(){$affirmBasic(mParse)(),$affirm.strictEqual(mParse("0"),0,"test1"),$affirm.strictEqual(mParse(!1),!1,"test2");var a;$affirm.doesNotThrow(function(){a=mParse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}')},"test3"),$affirm.strictEqual(a.A.length,5,"test4"),$affirm.strictEqual(a.A[0],1,"test5"),$affirm["throws"](function(){mParse('"	"')},CSyntaxError,"test6"),$affirm["throws"](function(){mParse("01")},CSyntaxError,"test7")},function(){return $decide(function(){$affirm["throws"](function(){mParse()},CSyntaxError,"test8")},function(){return mParse},function(){return function(a,b){if($isUndefined(a))throw new CSyntaxError("JSON.parse");return mParse(a,b)}},"JSON.parse patch")},function(){function walk(a,b,c){var d,e,f,g,h,i=a[b];if(!$isPrimitive(i)&&"object"===$typeOf(i))for(d=$objectKeys(i),e=$toLength(d.length),f=0;e>f;f+=1)g=d[f],h=walk(i,g),$isUndefined(h)?$deleteProperty(i,g):i[g]=h;return $call(c,a,b,i)}var parseProtect1=new CRegExp("^[\\],:{}\\s]*$"),parseProtect2=new CRegExp('\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),parseProtect3=new CRegExp('"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),parseProtect4=new CRegExp("(?:^|:|,)(?:\\s*\\[)+","g"),parseCharacterTest=new CRegExp("[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g");return function(text,reviver){var j;if(text=$toString(text),parseCharacterTest.lastIndex=0,$test(parseCharacterTest,text)&&(text=$replace(text,parseCharacterTest,function(a){var b=$toString($call(pCharCodeAt,a,0),16);return"\\u"+$sSlice("0000",0,-b.length)+b})),$test(parseProtect1,$replace($replace($replace(text,parseProtect2,"@"),parseProtect3,"]"),parseProtect4,"")))return j=eval("("+text+")"),$isFunction(reviver)?walk({"":j},"",reviver):j;throw new CSyntaxError("JSON.parse")}},"JSON.parse shim")}(base.JSON.parse),$stringify=exports.JSON.stringify,exports.String.proto.substr=function(){return $decide(function(){$affirmBasic(base.String.substr)(),$affirm.strictEqual($call(base.String.substr,"0b",-1),"b","negative substr bug"),$affirm.strictEqual($call(base.String.substr,"abcdef",1,Undefined),"bcdef","stop is undefined bug")},function(){return base.String.substr},function(){var a=exports.String.proto.slice;return function(b,c){var d,e=$onlyCoercibleToString(this),f=$toLength(e.length),g=$toInteger(b);return 0>g&&(g=$max(f+g,0)),d=$isUndefined(c)?INFINITY:$toInteger(c),$call(a,e,g,g+$min($max(d,0),f-g))}},"String.substr shim")}(),exports.String.substr=$toMethod(exports.String.proto.substr),$substr=exports.String.substr,exports.Array.proto.powerSet=function(){var a=function(){var b,c,d,e,f,g,h=$toObject(this),i=[];if($hasOwnValidLength(h)&&!$isFunction(h))if(e=$toLength(h.length),1>e)$push(i,[]);else for($isString(h)?(c=$getItem(h,e-1,!0),b=$sSlice(h,0,-1)):(b=$slice(h),c=$pop(b)),d=$call(a,b),e=d.length,f=0;e>f;f+=1)g=d[f],$push(i,g),d[f]=g=$slice(g),$push(g,c),$push(i,g);else $push(i,[]);return i.length=$toLength(i.length),i};return a}(),exports.Array.powerSet=$toMethod(exports.Array.proto.powerSet),exports.Array.proto.toObject=function(){var a,b,c,d=$toObject(this),e={};if($hasOwnValidLength(d)&&!$isFunction(d))for(a=$isString(d),e.length=b=$toLength(d.length),c=0;b>c;c+=1)$hasItem(d,c,a)&&(e[c]=$getItem(d,c,a));else e.length=0;return e},exports.Array.toObject=$toMethod(exports.Array.proto.toObject),function(){function a(a){var b,c=!1;return a&&(b=typeof a,"object"!==b||$isFunction(a)||a.constructor.prototype===protoObject||null!==a.s&&1!==a.s&&-1!==a.s||null!==a.c&&!$isArray(a.c)||null!==a.e&&"number"!=typeof a.e||!$isFunction(a.plus)||!$isFunction(a.minus)||(c=!0)),c}function b(a,b,c){if(!$isInteger(b))throw new CTypeError("min is not an integer: "+$toString($toPrimitive(b,hintString)));if(!$isInteger(c))throw new CTypeError("max is not an integer: "+$toString($toPrimitive(c,hintString)));return $isInteger(a)&&$inRange(a,b,c)}function c(a,b,c){var d=$toLength(a.length),e=0;do c=$call(b,c,a[e]),e+=1;while(d>e);return c}function d(a,b,c){var d=this.c,e=this.e+a+1;if(1===b)c=d[e]>=5;else if(2===b)c=d[e]>5||5===d[e]&&(c||0>e||!$isUndefined(d[e+1])||1&d[e-1]);else if(3===b)c=c||!$isUndefined(d[e])||0>e;else if(c=!1,0!==b)throw new u("!Big.RM!");if(1>e||!d[0])c?(this.e=-a,this.c=[1]):(this.e=0,this.c=[0]);else{if(d.length=e,e-=1,c)for(d[e]+=1;d[e]>9;d[e]+=1)d[e]=0,e||(this.e+=1,$unshift(d,1)),e-=1;for(e=$toLength(d.length)-1;!d[e];e-=1)$pop(d)}return this}function e(a,b){var c,d=this.e,e=$join(this.c,""),f=e.length;if(!b&&(s>=d||d>=t))c=$getItem(e,0,stringTagString),f>1&&(c+="."+$sSlice(e,1)),c+=0>d?"e":"e+",c+=d;else if(0>d){for(c=e,d+=1;d;d+=1)c="0"+c;c="0."+c}else if(d>0)if(c=e,d+=1,d>f)for(d-=f;d;d-=1)c+="0";else f>d&&(c=$sSlice(e,0,d)+"."+$sSlice(e,d));else c=f>1?$getItem(e,0,stringTagString)+"."+$sSlice(e,1):e;return a===!0?this.s<0&&(c="-"+c):this.s<0&&this.c[0]&&(c="-"+c),c}function f(a,b,c){var f,g=new this.constructor(this),h=a-g.e,i=g.c;for(a+=1,$toLength(i.length)>a&&$call(d,g,h,this.constructor.RM),i[0]?b?h=a:(i=g.c,h=g.e+h+1):h+=1;$toLength(i.length)<h;)$push(i,0);return h=g.e,!c&&(1===b||b&&(h>=a||s>=h))?(f="",g.s<0&&i[0]&&(f+="-"),f+=i[0],i.length>1&&(f+="."+$sSlice($join(i,""),1)),f+="e",h>=0&&(f+="+"),f+=h):f=$call(e,g,!1,c),f}function g(a){var b,c,d;if(a=0===a&&1/a===NEGATIVE_INFINITY?"-0":$toString(a),!$test(w,a))throw new u(0/0);for("-"===$getItem(a,0,stringTagString)?(a=$sSlice(a,1),this.s=-1):this.s=1,b=$call(pSIndexOf,a,"."),b>-1&&(a=$call(pReplace,a,".","")),c=$call(pSearch,a,/e/i),c>0?(0>b&&(b=c),b+=$toNumber($sSlice(a,c+1)),a=$substr(a,0,c)):0>b&&(b=$toLength(a.length)),c=0;"0"===$getItem(a,c,stringTagString);)c+=1;if(d=$toLength(a.length),c===d)this.e=0,this.c=[0];else{for(d-=1;"0"===$getItem(a,d,stringTagString);)d-=1;for(this.e=b-c-1,this.c=[],b=0;d>=c;c+=1,b+=1)this.c[b]=$toNumber($getItem(a,c,stringTagString))}}function h(a,c,e){var f,g,h,i,j,k,l,m,n,o,p,r,s,t,v,w,x=this.c,y=$toLength(arguments.length);if(2>y&&(c=this.constructor.DP),!b(c,0,q))throw new u("!Big.DP!");if(3>y&&(e=this.constructor.RM),a=new this.constructor(a),f=a.c,g=this.s===a.s?1:-1,!x[0]||!f[0]){if(x[0]===f[0])throw new u(0/0);if(!f[0])throw new u(g/POSITIVE_ZERO);return new this.constructor(g*POSITIVE_ZERO)}for(l=$slice(f),m=$toLength(f.length),n=m,o=$toLength(x.length),p=x.slice(0,m),r=$toLength(p.length),s=a,v=0,t=s.c=[],s.e=this.e-a.e,w=c+s.e+1,s.s=g,g=0>w?1:w+1,$unshift(l,0);m>r;)$push(p,0),r+=1;do{for(i=0;10>i;i+=1){if(r=$toLength(p.length),m!==r)j=m>r?1:-1;else for(j=0,k=0;m>k;k+=1)if(f[k]!==p[k]){j=f[k]>p[k]?1:-1;break}if(!(0>j))break;for(h=r===m?f:l;r;){if(r-=1,p[r]<h[r]){for(k=r-1;k>=0&&!p[k];k-=1)p[k]=9;p[k]-=1,p[r]+=10}p[r]-=h[r]}for(;!p[0];)$shift(p)}j||(i+=1),t[v]=i,v+=1,p[0]&&j?p[r]=x[n]||0:p=[x[n]],n+=1,g-=1}while((o>n||!$isUndefined(p[0]))&&g);return t[0]||1===v||($shift(t),s.e-=1),v>w&&$call(d,s,c,e,!$isUndefined(p[0])),s}function i(a){a=new this.constructor(a);var b,c,d,e,f,g=this.c,h=a.c;if(a.s=this.s===a.s?1:-1,!g[0]||!h[0])return c=-1===a.s?-0:0,new this.constructor(c);for(c=$toLength(g.length),d=$toLength(h.length),e=this.e,f=a.e,a.e=e+f,d>c&&(b=g,g=h,h=b,f=c,c=d,d=f),b=[],b.length=f=c+d;f;b[f]=0)f-=1;for(e=d;e;){for(e-=1,d=0,f=c+e;f>e;)d=b[f]+h[e]*g[f-e-1]+d,b[f]=d%10,f-=1,d=d/10|0;b[f]=(b[f]+d)%10}for(d&&(a.e+=1),b[0]||$shift(b),e=$toLength(b.length)-1;!b[e];e-=1)$pop(b);return a.c=b,a}function j(a){a=new this.constructor(a);var b,c,d,e=this.c,f=a.c,g=this.s,h=a.s,i=this.e,j=a.e;if(!e[0]||!f[0])return d=e[0]?g:f[0]?-h:0;if(g!==h)return g;if(b=0>g,i!==j)return c=i>j^b,d=c?1:-1;for(i=$toLength(e.length),j=$toLength(f.length),h=j>i?i:j,g=0;h>g;g+=1)if(e[g]!==f[g])return c=e[g]>f[g]^b,d=c?1:-1;return i===j?d=0:(c=i>j^b,d=c?1:-1),d}function k(a){a=new this.constructor(a);var b,c,d,e=this.s,f=a.s;if(!a.c[0])throw new u(0/0);return this.s=a.s=1,b=1===$call(j,a,this),this.s=e,a.s=f,b?d=new this.constructor(this):(c=$call(h,this,a,0,0),d=$call(n,this,$call(i,c,a))),d}function l(){function s(b){var c;if($isInstance(this,s))$defineProperty(this,"s",{writable:!0,configurable:!0,enumerable:!1}),$defineProperty(this,"e",{writable:!0,configurable:!0,enumerable:!1}),$defineProperty(this,"c",{writable:!0,configurable:!0,enumerable:!1}),$isInstance(b,s)||a(b)?(this.s=b.s,this.e=b.e,this.c=null===b.c?b.c:b.c.slice()):$call(g,this,b);else{if(0===$toLength(arguments.length))return l();c=new s(b)}return c}return $defineProperty(s.prototype,"abs",{value:function(){var a=new this.constructor(this);return a.s=1,a},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"cmp",{value:function(a){return $call(j,this,a)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"div",{value:function(){return c(arguments,h,this)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"eq",{value:function(a){return!$call(j,this,a)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"gt",{value:function(a){return $call(j,this,a)>0},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"gte",{value:function(a){return $call(j,this,a)>-1},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"lt",{value:function(a){return $call(j,this,a)<0},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"lte",{value:function(a){return $call(j,this,a)<1},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"minus",{value:function(){return c(arguments,n,this)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"sub",{value:function(){return $apply(s.prototype.minus,this,arguments)},writable:!1,configurable:!1,enumerable:!1}),$defineProperty(s.prototype,"mod",{value:function(){return c(arguments,k,this)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"plus",{value:function(){return c(arguments,m,this)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"add",{value:function(){return $apply(s.prototype.plus,this,arguments)},writable:!1,configurable:!1,enumerable:!1}),$defineProperty(s.prototype,"pow",{value:function(a){var c,d=this,e=new this.constructor(1),f=e,g=0>a;if(!b(a,-r,r))throw new u("!pow!");g&&(a=-a);do c=1&a,c&&(f=$call(i,f,d)),a>>=1,a&&(d=$call(i,d,d));while(a);return g?$call(h,e,f):f},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"round",{value:function(a,c){var e=$toLength(arguments.length);if(0===e||null===a)a=0;else if(!b(a,0,q))throw new u("!round!");return 2>e&&(c=this.constructor.RM),$call(d,new this.constructor(this),a,c)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"sqrt",{value:function(){var a,b,c,f,g,j,k,l,n=this.c;if(!n[0])return new this.constructor(this);if(f=this.s,0>f)throw new u(0/0);f=$sqrt($call(e,this)),0===f||f===INFINITY?(a=$join(n,""),k=a.length+g&1,k||(a+="0"),b=new this.constructor($toString($sqrt(a))),g=this.e,b.e=((g+1)/2|0)-(0>g||1&g)):b=new this.constructor($toString(f)),l=this.constructor.DP+4,f=b.e+l,j=new this.constructor("0.5");do c=b,b=$call(i,j,$call(m,c,$call(h,this,c,l)));while($join($slice(c.c,0,f),"")!==$join($slice(b.c,0,f),""));return $call(d,b,this.constructor.DP,this.constructor.RM)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"times",{value:function(){return c(arguments,i,this)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"mul",{value:function(){return $apply(s.prototype.times,this,arguments)},writable:!1,configurable:!1,enumerable:!1}),$defineProperty(s.prototype,"toString",{value:function(){return $call(e,this)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"valueOf",{value:function(){return $call(e,this,!0)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"toJSON",{value:function(){return $call(e,this,!0)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"toExponential",{value:function(a){if(0===$toLength(arguments.length))a=$toLength(this.c.length)-1;else if(!b(a,0,q))throw new u("!toExp!");return $call(f,this,a,1)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"toFixed",{value:function(a){var c,d=!0;if(0===$toLength(arguments.length)?c=$call(e,this,!1,d):b(a,0,q)&&(c=$call(f,this,this.e+a,null,d),this.s<0&&this.c[0]&&$call(pSIndexOf,c,"-")<0&&(c="-"+c)),!c)throw new u("!toFix!");return c},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"toPrecision",{value:function(a){if(0===$toLength(arguments.length))return $call(e,this);if(!b(a,1,q))throw new u("!toPre!");return $call(f,this,a-1,2)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s.prototype,"classId",{value:v,writable:!1,configurable:!1,enumerable:!1}),$defineProperty(s,"DP",{value:o,writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s,"RM",{value:p,writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s,"version",{value:"0.2.0",writable:!1,configurable:!1,enumerable:!1}),$defineProperty(s.prototype,"version",{value:"0.2.0",writable:!1,configurable:!1,enumerable:!1}),$defineProperty(s,"isBig",{value:function(a){return $isInstance(a,s)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s,"isBigSibling",{value:function(b){return!$isInstance(b,s)&&a(b)},writable:!0,configurable:!0,enumerable:!1}),$defineProperty(s,"BigError",{value:u,writable:!1,configurable:!1,enumerable:!1}),s}var m,n,o=20,p=1,q=1e6,r=1e6,s=-7,t=21,u=exports.customError("BigError",CError),v="[object Big]",w=/^-?(\d+(\.\d*)?|\.\d+)(e[+\-]?\d+)?$/i;$defineProperty(u,"version",$assign({value:"0.2.0"},propConstant)),$defineProperties(u.prototype,{classId:$assign({value:"[object BigError]"},propConstant),version:$assign({value:"0.2.0"},propConstant)}),n=function(a){a=new this.constructor(a);var b,c,d,e,f,g,h,i,j,k,l,n=this.s,o=a.s;if(n!==o)return a.s=-o,$call(m,this,a);if(f=$slice(this.c),g=this.e,j=a.c,k=a.e,!f[0]||!j[0])return j[0]?(a.s=-o,l=a):l=new this.constructor(f[0]?this:0),l;if(n=g-k){for(e=0>n,e?(n=-n,d=f):(k=g,d=j),$reverse(d),o=n;o;o-=1)$push(d,0);$reverse(d)}else for(h=$toLength(f.length),i=$toLength(j.length),e=i>h,c=e?h:i,n=o=0;c>o;o+=1)if(f[o]!==j[o]){e=f[o]<j[o];break}if(e&&(d=f,f=j,j=d,a.s=-a.s),b=$toLength(f.length),c=$toLength(j.length),o=c-b,o>0)for(;o;)f[b]=0,b+=1,o-=1;for(o=b-1;c>n;){if(c-=1,f[c]<j[c]){for(b=c-1;b&&!f[b];b-=1)f[b]=9;f[b]-=1,f[c]+=10}f[c]-=j[c]}for(;0===f[o];)$pop(f),o-=1;for(;0===f[0];)$shift(f),k-=1;return f[0]||(a.s=1,k=0,f=[0]),a.c=f,a.e=k,a},m=function(a){a=new this.constructor(a);var b,c,d,e,f,g,h=this.s,i=a.s;if(h!==i)return a.s=-i,$call(n,this,a);if(d=this.c,f=a.c,!d[0]||!f[0])return g=f[0]?a:new this.constructor(d[0]?this:h*POSITIVE_ZERO);if(d=$slice(d),c=this.e,e=a.e,h=c-e){for(h>0?(e=c,b=f):(h=-h,b=d),$reverse(b);h;)$push(b,0),h-=1;$reverse(b)}for($toLength(d.length)-$toLength(f.length)<0&&(b=f,f=d,d=b),h=$toLength(f.length),i=0;h;)h-=1,d[h]=d[h]+f[h]+i,i=d[h]/10|0,d[h]%=10;for(i&&($unshift(d,i),e+=1),h=$toLength(d.length)-1;0===d[h];h-=1)$pop(d);return a.c=d,a.e=e,a},BigNum=l()}(),function(){function a(b){var c;return $isInstance(this,a)?($isPlainObject(b)||(b={}),"string"!=typeof b.message&&(b.message=""),"string"!=typeof b.operator&&(b.operator=""),$isFunction(b.stackStartFunction)||(b.stackStartFunction=a),$call(g,this,b.message,b.stackStartFunction),$defineProperties(this,{actual:$assign({value:b.actual},propNotEnumerable),expected:$assign({value:b.expected},propNotEnumerable),operator:$assign({value:b.operator},propNotEnumerable)})):c=new a(b),c}function b(a,b){var c,d;return null===a||$isUndefined(a)?!1:null===b||$isUndefined(b)?!1:$isRegExp(b)&&$instanceOf(a,CError)?(c=exports.normaliseErrorIEToStringState(),c===!1&&exports.normaliseErrorIEToStringOn(),d=$toString(a),c===!1&&exports.normaliseErrorIEToStringOff(),$test(b,d)):$instanceOf(a,b)?!0:$isFunction(b)&&(c=exports.normaliseErrorIEToStringState(),c===!1&&exports.normaliseErrorIEToStringOn(),d=$call(b,{},a),c===!1&&exports.normaliseErrorIEToStringOff(),d===!0)?!0:!1}function c(b,d,e,f,g){throw $isFunction(g)||(g=c),new a({message:e,actual:b,expected:d,operator:f,stackStartFunction:g})}function d(a,e,f,g,h){var i,j;$isFunction(h)||($isFunction(g)?(h=g,g=Undefined):h=d),"string"==typeof g&&g.length||"string"!=typeof f||(g=f,f=null);try{e()}catch(k){j=k}if(i=b(j,f),g=g?" "+$toString(g):".",g=f&&"string"==typeof f.name&&!f.name.length?" ("+f.name+")."+g:"."+g,a!==!0||j||c(j,f,"Missing expected exception"+g,Undefined,h),a===!1&&i===!0&&c(j,f,"Got unwanted exception"+g,Undefined,h),a===!0&&j&&f&&i===!1||a===!1&&j)throw j}function e(){var b={};return $defineProperties(b,{AssertionError:$assign({value:a},propConstant),factory:$assign({value:e},propConstant),fail:$assign({value:function(a,b,d,e){c(a,b,d,"fail",e)}},propNotEnumerable),ok:$assign({value:function(a,b,d){var e=!!a;e||c(e,!0,b,"ok",d)}},propNotEnumerable),notOk:$assign({value:function(a,b,d){var e=!!a;e&&c(e,!0,b,"notOk",d)}},propNotEnumerable),equal:$assign({value:function(a,b,d,e){a!=b&&c(a,b,d,"==",e)}},propNotEnumerable),notEqual:$assign({value:function(a,b,d,e){a==b&&c(a,b,d,"!=",e)}},propNotEnumerable),strictEqual:$assign({value:function(a,b,d,e){a!==b&&c(a,b,d,"===",e)}},propNotEnumerable),notStrictEqual:$assign({value:function(a,b,d,e){a===b&&c(a,b,d,"!==",e)}},propNotEnumerable),"throws":$assign({value:function(a,b,c,e){d(!0,a,b,c,e)}},propNotEnumerable),doesNotThrow:$assign({value:function(a,b,c){d(!1,a,b,c)}},propNotEnumerable),ifError:$assign({value:function(a){if(a)throw a}},propNotEnumerable),deepEqual:$assign({value:function(a,b,d,e){$deepEqual(a,b)||c(a,b,d,"deeptEqual",e)}},propNotEnumerable),notDeepEqual:$assign({value:function(a,b,d,e){$deepEqual(a,b)&&c(a,b,d,"notDeepEqual",e)}},propNotEnumerable),deepStrictEqual:$assign({value:function(a,b,d,e){$deepStrictEqual(a,b)||c(a,b,d,"deepStrictEqual",e)}},propNotEnumerable),notDeepStrictEqual:$assign({value:function(a,b,d,e){$deepStrictEqual(a,b)&&c(a,b,d,"notDeepStrictEqual",e)}},propNotEnumerable)}),b}var f=128,g=exports.customError("AssertionError",f),h="[object AssertionError]";$defineProperties(a,{version:$assign({value:"0.2.0"},propConstant)}),$inherits(a,g),$defineProperties(a.prototype,{classId:$assign({value:h},propConstant),version:$assign({value:"0.2.0"},propConstant),toString:$assign({value:function(){var b;return"string"==typeof this.message&&this.message.length?b=this.name+": "+$truncate(this.message,f):$isInstance(this,a)&&(b=this.name+": ",b+=$truncate($stringify(this.actual,exports.customErrorReplacer),f)+" ",b+=this.operator+" ",b+=exports.String.truncate($stringify(this.expected,exports.customErrorReplacer),f)),b}},propNotEnumerable)}),exports.assert=e()}(),exports.goNative=function(){var a=exports.factory();$forEach($objectKeys(exports),function(b){"Big"!==b&&"assert"!==b&&$isPlainObject(a[b])&&$forEach($objectKeys(exports[b]),function(c){$isPlainObject(exports[b][c])||exports[b][c]!==base[b][c]&&(exports.Number.isNaN(a[b][c])&&exports.Number.isNaN(base[b][c])||($conlog(b+"."+c),$defineProperty(global[b],c,$assign({value:a[b][c]},propNotEnumerable)))),$isPlainObject(exports[b][c])&&$forEach($objectKeys(exports[b][c]),function(d){$isPlainObject(exports[b][c][d])||exports[b][c][d]===base[b][c][d]||("proto"===c?($conlog(b,b+".prototype."+d),$defineProperty(global[b].prototype,d,$assign({value:a[b][c][d]},propNotEnumerable))):($conlog(b,b+"."+c+"."+d),$defineProperty(global[b][c],d,$assign({value:a[b][c][d]
},propNotEnumerable))))})})}),$defineProperty(global,"Big",$assign({value:BigNum()},propNotEnumerable)),$defineProperty(global,"assert",$assign({value:exports.assert.factory()},propNotEnumerable))},exports.factory=function(){var a={};return $forEach($objectKeys(exports),function(b){"Big"!==b&&"assert"!==b&&(addMethodsList(a),defineItem(a,b,exports[b]),$isPlainObject(exports[b])?(addMethodsList(a[b]),$forEach($objectKeys(exports[b]),function(c){defineItem(a[b],c,exports[b][c]),$isPlainObject(exports[b][c])?(addMethodsList(a[b][c]),$forEach($objectKeys(exports[b][c]),function(d){defineItem(a[b][c],d,exports[b][c][d]),$push(a[b][c].methods,d)})):$push(a[b].methods,c)})):$push(a.methods,b))}),$defineProperty(a,"Big",$assign({value:BigNum()},propNotEnumerable)),$defineProperty(a,"assert",$assign({value:exports.assert.factory()},propNotEnumerable)),$defineProperty(a,"version",propConstant),$defineProperties(a.Number,{POSITIVE_ZERO:propConstant,NEGATIVE_ZERO:propConstant,UNSAFE_INTEGER:propConstant,WORD8:propConstant,UWORD8:propConstant,WORD16:propConstant,UWORD16:propConstant,WORD32:propConstant,UWORD32:propConstant,MAX_UINT32:propConstant,MAX_INT32:propConstant,MIN_INT32:propConstant,MAX_UINT16:propConstant,MAX_INT16:propConstant,MIN_INT16:propConstant,MAX_UINT8:propConstant,MAX_INT8:propConstant,MIN_INT8:propConstant,MAX_SAFE_INTEGER:propConstant,MIN_SAFE_INTEGER:propConstant,MAX_VALUE:propConstant,MIN_VALUE:propConstant,EPSILON:propConstant,NaN:propConstant,POSITIVE_INFINITY:propConstant,NEGATIVE_INFINITY:propConstant}),a},"object"!==$typeOf(global))throw new CTypeError("Invalid global context");module&&module.exports?module.exports=exports.factory():define&&define.amd?define(function(){return exports.factory()}):$defineProperty(global,"utilx",$assign({value:exports.factory()},propNotEnumerable))}(("function"==typeof window||"object"==typeof window)&&window||"object"==typeof self&&self||"object"==typeof global&&global||"object"==typeof this&&this||{},"object"==typeof module&&module,("function"==typeof define||!1)&&define);
/**
 * @file {@link http://xotic750.github.io/util-x/ util-x}. A Javascript utility library..
 * @version 0.0.70
 * @author Graham Fairweather <xotic750@gmail.com>
 * @copyright Copyright (c) 2013 Graham Fairweather
 * @license {@link <http://www.gnu.org/licenses/gpl-3.0.html> GPL3}
 * @module util-x
 * @requires stacktrace-js
 */
!function(globalThis){"use strict";function factory(printStackTrace){function stringSplitReplacer(a,b,c){var d,e=c.length-2;utilx.arrayFirst(b).replace(a,function(){for(d=1;utilx.lt(d,e);d+=1)utilx.isUndefined(arguments[d])&&utilx.arrayAssign(b,d,utilx.privateUndefined)})}function buildTestString(a,b){return a+String.fromCharCode(b)}function ObjectCreateFunc(){}var utilx={},WORD8=128,UWORD8=256,WORD16=32768,UWORD16=65536,WORD32=2147483648,UWORD32=4294967296,MAX_UINT32=4294967295,MAX_INT32=2147483647,MIN_INT32=-2147483648,MAX_UINT16=65535,MAX_INT16=32767,MIN_INT16=-32768,MAX_UINT8=255,MAX_INT8=127,MIN_INT8=-128,MAX_INTEGER=9007199254740991,MIN_INTEGER=-9007199254740991,POSITIVE_INFINITY=Number.POSITIVE_INFINITY,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_VALUE=1.7976931348623157e308,MIN_VALUE=5e-324,NAN=0/0,EPSILON=2.220446049250313e-16,baseObject={},baseArray=[],baseString="",baseNumber=0,baseBoolean=!0,CtrObject=baseObject.constructor,noNewCtrObject=CtrObject,CtrBoolean=baseBoolean.constructor,CtrNumber=baseNumber.constructor,CtrString=baseString.constructor,protoName="__proto__",rxSplitNewLine=new RegExp("\\r\\n|\\n"),defaultProperties=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],objectGetOwnPropertyDescriptor,tempSafariNFE;utilx.WORD8=WORD8,utilx.UWORD8=UWORD8,utilx.WORD16=WORD16,utilx.UWORD16=UWORD16,utilx.WORD32=WORD32,utilx.UWORD32=UWORD32,utilx.MAX_UINT32=MAX_UINT32,utilx.MAX_INT32=MAX_INT32,utilx.MIN_INT32=MIN_INT32,utilx.MAX_UINT16=MAX_UINT16,utilx.MAX_INT16=MAX_INT16,utilx.MIN_INT16=MIN_INT16,utilx.MAX_UINT8=MAX_UINT8,utilx.MAX_INT8=MAX_INT8,utilx.MIN_INT8=MIN_INT8,utilx.MAX_INTEGER=MAX_INTEGER,utilx.MIN_INTEGER=MIN_INTEGER,utilx.POSITIVE_INFINITY=POSITIVE_INFINITY,utilx.NEGATIVE_INFINITY=NEGATIVE_INFINITY,utilx.MAX_VALUE=MAX_VALUE,utilx.MIN_VALUE=MIN_VALUE,utilx.NAN=NAN,utilx.EPSILON=EPSILON,utilx.noop=function(){},utilx.privateUndefined=function(){return utilx.noop()}(),utilx.returnArgs=function(){return arguments},utilx.toNumber=function(a){return+a},utilx.equal=function(a,b){return a==b},utilx.notEqual=function(a,b){return a!=b},utilx.strictEqual=function(a,b){return a===b},utilx.notStrictEqual=function(a,b){return a!==b},utilx.lt=function(a,b){return b>a},utilx.lte=function(a,b){return b>=a},utilx.gt=function(a,b){return a>b},utilx.gte=function(a,b){return a>=b},utilx.mod=function(a,b){return a%b},utilx.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)},utilx.inRange=function(a,b,c){return utilx.gte(a,b)&&utilx.lte(a,c)},utilx.isUndefined=function(a){return utilx.strictEqual(typeof a,"undefined")},utilx.isNull=function(a){return utilx.strictEqual(a,null)},utilx.isUndefinedOrNull=function(a){return utilx.isUndefined(a)||utilx.isNull(a)},utilx.isTrue=function(a){return utilx.strictEqual(a,!0)},utilx.isFalse=function(a){return utilx.strictEqual(a,!1)},utilx.isBoolean=function(a){return utilx.isTrue(a)||utilx.isFalse(a)},utilx.toBoolean=function(a){return!!a},utilx.isNumber=function(a){return utilx.strictEqual(typeof a,"number")},utilx.isZero=function(a){return utilx.strictEqual(a,0)},utilx.isPositiveZero=function(a){return utilx.isZero(a)&&utilx.strictEqual(1/a,1/0)},utilx.isNegativeZero=function(a){return utilx.isZero(a)&&utilx.strictEqual(1/a,-1/0)},utilx.isString=function(a){return utilx.strictEqual(typeof a,"string")},utilx.isPrimitive=function(a){return utilx.isUndefinedOrNull(a)||utilx.isString(a)||utilx.isNumber(a)||utilx.isBoolean(a)},utilx.isTypeOfObject=function(){var a,b=new RegExp("test"),c="object",d=utilx.strictEqual(typeof b,c);return tempSafariNFE=utilx.isTrue(d)?function(a){return utilx.strictEqual(typeof a,c)}:function(a){return utilx.strictEqual(typeof a,c)||utilx.isRegExp(a)},a=null,tempSafariNFE}(),utilx.isTypeObject=function(a){return!utilx.isNull(a)&&utilx.isTypeOfObject(a)},utilx.isEmptyString=function(a){return utilx.strictEqual(a,"")},utilx.isNumeric=function(){var a=new RegExp("^[+\\-]?");return function(b){var c,d=!1;return(utilx.isNumber(b)||utilx.isString(b))&&(c=b.toString().replace(a,""),!isNaN(parseFloat(c))&&isFinite(c)&&(d=!0)),d}}(),utilx.checkObjectCoercible=function(a){if(utilx.isUndefinedOrNull(a))throw new TypeError('Cannot convert "'+a+'" to object');return a},utilx.argToObject=function(a){var b=utilx.checkObjectCoercible(a);return utilx.isBoolean(b)?b=new CtrBoolean(b):utilx.isNumber(b)?b=new CtrNumber(b):utilx.isString(b)&&(b=new CtrString(b)),b},utilx.anyToString=function(a){var b;return b=utilx.isString(a)?a:utilx.isUndefined(a)?"undefined":String(a)},utilx.hasProperty=function(a,b){return b in a},utilx.isArguments=function(){var a,b,c=baseObject.toString,d=baseObject.hasOwnProperty,e=baseObject.propertyIsEnumerable,f="[object Arguments]",g="[object Function]",h="[object Object]",i="callee",j="length";return tempSafariNFE=null,utilx.strictEqual(c.call(utilx.returnArgs()),f)?tempSafariNFE=function(a){return utilx.strictEqual(c.call(a),f)}:utilx.strictEqual(c.call(d),g)&&(a=function(a){return utilx.isTypeObject(a)&&utilx.strictEqual(c.call(a),h)&&d.call(a,i)&&d.call(a,j)&&utilx.isNumber(a.length)},tempSafariNFE=utilx.strictEqual(c.call(e),g)?function(b){return a(b)&&!e.call(b,i)&&!e.call(b,j)}:a),utilx.isNull(tempSafariNFE)&&(tempSafariNFE=function(a){return utilx.isTypeObject(a)&&utilx.strictEqual(c.call(a),h)&&utilx.hasProperty(a,i)&&utilx.hasProperty(a,j)&&utilx.isNumber(a.length)}),b=null,tempSafariNFE}(),utilx.toObjectString=function(){var a,b=baseObject.toString,c="[object Undefined]",d="[object Null]",e="[object Arguments]";try{tempSafariNFE=null,utilx.strictEqual(b.call(),c)&&utilx.strictEqual(b.call(null),d)&&utilx.strictEqual(b.call(utilx.returnArgs()),e)&&(tempSafariNFE=function(a){return b.call(a)})}catch(f){tempSafariNFE=null}return utilx.isNull(tempSafariNFE)&&(tempSafariNFE=function(a){var f;return f=utilx.isUndefined(a)?c:utilx.isNull(a)?d:utilx.isArguments(a)?e:b.call(a)}),a=null,tempSafariNFE}(),utilx.isError=function(a){return utilx.strictEqual(utilx.toObjectString(a),"[object Error]")||utilx.isTypeObject(a)&&utilx.objectInstanceOf(a,Error)},utilx.isRegExp=function(a){return utilx.strictEqual(utilx.toObjectString(a),"[object RegExp]")&&utilx.isString(a.source)&&utilx.isBoolean(a.global)},utilx.isObject=function(a){return utilx.strictEqual(utilx.toObjectString(a),"[object Object]")},utilx.isFunction=function(a){return utilx.strictEqual(utilx.toObjectString(a),"[object Function]")||utilx.strictEqual(typeof a,"function")&&utilx.strictEqual(typeof a.call,"function")&&utilx.strictEqual(typeof a.apply,"function")},utilx.arrayIsArray=function(){var a,b=baseArray.isArray;return tempSafariNFE=utilx.isFunction(b)?b:function(a){return utilx.strictEqual(utilx.toObjectString(a),"[object Array]")&&utilx.isNumber(a.length)},a=null,tempSafariNFE}(),utilx.arrayJoin=function(a,b){return utilx.checkObjectCoercible(a),utilx.isUndefined(b)&&(b=","),baseArray.join.call(a,b)},utilx.isDate=function(a){return utilx.strictEqual(utilx.toObjectString(a),"[object Date]")},utilx.objectIs=function(){var a,b=CtrObject.is;return tempSafariNFE=utilx.isFunction(b)?b:function(a,b){var c;return c=utilx.strictEqual(a,b)?utilx.isZero(a)?utilx.strictEqual(1/a,1/b):!0:utilx.notStrictEqual(a,a)&&utilx.notStrictEqual(b,b)},a=null,tempSafariNFE}(),utilx.numberIsNaN=function(){var a,b=CtrNumber.isNaN;return tempSafariNFE=utilx.isFunction(b)?b:function(a){return utilx.objectIs(a,0/0)},a=null,tempSafariNFE}(),utilx.numberIsFinite=function(){var a,b=CtrNumber.isFinite;return tempSafariNFE=utilx.isFunction(b)?b:function(a){return utilx.isNumber(a)&&isFinite(a)},a=null,tempSafariNFE}(),utilx.mathSign=function(){var a,b=Math.sign;return tempSafariNFE=utilx.isFunction(b)?b:function(a){var b,c=utilx.toNumber(a);return b=utilx.isZero(c)||utilx.numberIsNaN(c)?c:utilx.lt(c,0)?-1:1},a=null,tempSafariNFE}(),utilx.numberToInteger=function(){var a,b=CtrNumber.toInteger;return tempSafariNFE=utilx.isFunction(b)?b:function(a){var b,c=utilx.toNumber(a);return b=utilx.numberIsNaN(c)?0:utilx.isZero(c)||!utilx.numberIsFinite(c)?c:utilx.mathSign(c)*Math.floor(Math.abs(c))},a=null,tempSafariNFE}(),utilx.numberIsInteger=function(){var a,b=CtrNumber.isInteger;try{if(utilx.numberIsInteger(UWORD32)||utilx.numberIsInteger(-UWORD32))throw new Error}catch(c){b=utilx.privateUndefined}return tempSafariNFE=utilx.isFunction(b)?b:function(a){return!utilx.numberIsNaN(a)&&utilx.numberIsFinite(a)&&utilx.inRange(a,MIN_INTEGER,MAX_INTEGER)&&utilx.strictEqual(utilx.numberToInteger(a),a)},a=null,tempSafariNFE}(),utilx.toInt32=function(a){var b,c=utilx.toNumber(a);return utilx.isZero(c)||!utilx.numberIsFinite(c)?b=0:(b=utilx.mod(utilx.mathSign(c)*Math.floor(Math.abs(c)),UWORD32),utilx.gt(b,MAX_INT32)?b-=UWORD32:utilx.lt(b,MIN_INT32)&&(b+=UWORD32)),b},utilx.isInt32=function(a){return utilx.numberIsInteger(a)&&utilx.inRange(a,MIN_INT32,MAX_INT32)},utilx.modulo=function(a,b){return a-b*Math.floor(a/b)},utilx.toUint32=function(a){var b,c=utilx.toNumber(a);return b=utilx.isZero(c)||!utilx.numberIsFinite(c)?0:utilx.modulo(utilx.numberToInteger(c),UWORD32)},utilx.isUint32=function(a){return utilx.numberIsInteger(a)&&utilx.inRange(a,0,MAX_UINT32)},utilx.toInt16=function(a){var b,c=utilx.toNumber(a);return utilx.isZero(c)||!utilx.numberIsFinite(c)?b=0:(b=utilx.mod(utilx.mathSign(c)*Math.floor(Math.abs(c)),UWORD16),utilx.gt(b,MAX_INT16)?b-=UWORD16:utilx.lt(b,MIN_INT16)&&(b+=UWORD16)),b},utilx.isInt16=function(a){return utilx.numberIsInteger(a)&&utilx.inRange(a,MIN_INT16,MAX_INT16)},utilx.toUint16=function(a){var b,c=utilx.toNumber(a);return b=utilx.isZero(c)||!utilx.numberIsFinite(c)?0:utilx.modulo(utilx.numberToInteger(c),UWORD16)},utilx.isUint16=function(a){return utilx.numberIsInteger(a)&&utilx.inRange(a,0,MAX_UINT16)},utilx.toInt8=function(a){var b,c=utilx.toNumber(a);return utilx.isZero(c)||!utilx.numberIsFinite(c)?b=0:(b=utilx.mod(utilx.mathSign(c)*Math.floor(Math.abs(c)),UWORD8),utilx.gt(b,MAX_INT8)?b-=UWORD8:utilx.lt(b,MIN_INT8)&&(b+=UWORD8)),b},utilx.isInt8=function(a){return utilx.numberIsInteger(a)&&utilx.inRange(a,MIN_INT8,MAX_INT8)},utilx.toUint8=function(a){var b,c=utilx.toNumber(a);return b=utilx.isZero(c)||!utilx.numberIsFinite(c)?0:utilx.modulo(utilx.numberToInteger(c),UWORD8)},utilx.isUint8=function(a){return utilx.numberIsInteger(a)&&utilx.inRange(a,0,MAX_UINT8)},utilx.arrayPush=function(a){return utilx.arrayForEach(utilx.arraySlice(arguments,1),function(b){baseArray.push.call(a,b)}),a.length},utilx.arrayUnshift=function(a){return utilx.arrayForEach(utilx.arraySlice(arguments,1),function(b){baseArray.unshift.call(a,b)}),a.length},utilx.stringSplit=function(){var a=baseString.split,b=utilx.isUndefined(new RegExp("()??").exec("")[1]);return function(c,d,e){var f,g,h,i,j,k,l,m,n=utilx.anyToString(utilx.checkObjectCoercible(c));if(utilx.isRegExp(d)){for(g="g",d.ignoreCase&&(g+="i"),d.multiline&&(g+="m"),d.extended&&(g+="x"),d.sticky&&(g+="y"),d=new RegExp(d.source,g),utilx.isFalse(b)&&(i=new RegExp("^"+d.source+"$(?!\\s)",g)),e=utilx.isUndefined(e)?MAX_UINT32:utilx.clamp(utilx.numberToInteger(e),0,MAX_UINT32),f=[],g="g",h=0,j=d.exec(n);j&&(k=j.index+utilx.arrayFirst(j).length,!utilx.gt(k,h)||(utilx.arrayPush(f,n.slice(h,j.index)),utilx.isFalse(b)&&utilx.gt(j.length,1)&&stringSplitReplacer(i,j,arguments),utilx.gt(j.length,1)&&utilx.lt(j.index,n.length)&&(f=f.concat(j.slice(1))),l=utilx.arrayFirst(j).length,h=k,!utilx.gte(f.length,e)));)utilx.strictEqual(d.lastIndex,j.index)&&(d.lastIndex+=1),j=d.exec(n);if(utilx.strictEqual(h,n.length)?(l||!d.test(""))&&utilx.arrayPush(f,""):utilx.arrayPush(f,n.slice(h)),utilx.gt(f.length,e))return f.slice(0,e);m=f}else m=a.call(c,d,e);return m}}(),utilx.firstChar=function(a){return utilx.anyToString(utilx.checkObjectCoercible(a)).charAt(0)},utilx.firstCharIs=function(a,b){return utilx.strictEqual(utilx.firstChar(a),utilx.firstChar(b))},utilx.lastChar=function(a){var b=utilx.anyToString(utilx.checkObjectCoercible(a));return b.charAt(b.length-1)},utilx.lastCharIs=function(a,b){return utilx.strictEqual(utilx.lastChar(a),utilx.firstChar(b))},utilx.countCharacter=function(a,b){var c,d=utilx.firstChar(b);return c=utilx.isEmptyString(d)?1/0:utilx.clamp(utilx.stringSplit(utilx.anyToString(utilx.checkObjectCoercible(a)),utilx.firstChar(b)).length-1,0,1/0)},utilx.padLeadingChar=function(a,b,c){var d=utilx.anyToString(utilx.checkObjectCoercible(a)),e=utilx.firstChar(b),f=utilx.numberToInteger(c)-d.length;return(utilx.lt(f,0)||utilx.strictEqual(f,1/0))&&(f=0),utilx.stringRepeat(e,f)+d},utilx.stringRepeat=function(){function a(b,c){var d,e;return utilx.lt(c,1)?e="":utilx.mod(c,2)?e=a(b,c-1)+b:(d=a(b,c/2),e=d+d),e}var b,c=CtrString.repeat;return tempSafariNFE=utilx.isFunction(c)?function(a,b){return c.call(a,b)}:function(b,c){var d=utilx.anyToString(utilx.checkObjectCoercible(b)),e=utilx.numberToInteger(c);if(utilx.lt(e,0)||utilx.strictEqual(e,1/0))throw new RangeError;return a(d,e)},b=null,tempSafariNFE}(),utilx.stringStartsWith=function(){var a,b=baseString.startsWith;return tempSafariNFE=utilx.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d=utilx.anyToString(utilx.checkObjectCoercible(a)),e=utilx.anyToString(b),f=utilx.clamp(utilx.numberToInteger(c),0,d.length);return utilx.strictEqual(d.slice(f,f+e.length),e)},a=null,tempSafariNFE}(),utilx.stringEndsWith=function(){var a,b=baseString.endsWith;return tempSafariNFE=utilx.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f=utilx.anyToString(utilx.checkObjectCoercible(a)),g=utilx.anyToString(b),h=f.length;return c=utilx.isUndefined(c)?h:utilx.numberToInteger(c),d=utilx.clamp(c,0,h),e=d-g.length,utilx.gte(e,0)&&utilx.strictEqual(f.slice(e,d),g)},a=null,tempSafariNFE}(),utilx.stringContains=function(){var a,b=baseString.contains;return tempSafariNFE=utilx.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d=utilx.anyToString(utilx.checkObjectCoercible(a)),e=utilx.anyToString(b),f=d.length;return c=utilx.isUndefined(c)?0:utilx.numberToInteger(c),utilx.notStrictEqual(baseString.indexOf.call(d,e,utilx.clamp(c,0,f)),-1)},a=null,tempSafariNFE}(),utilx.objectGetPrototypeOf=function(){var a,b,c=CtrObject.getPrototypeOf;return utilx.isFunction(c)?tempSafariNFE=function(a){if(utilx.isPrimitive(a))throw new TypeError("Object.getPrototypeOf called on non-object");return c(a)}:utilx.isNull(CtrObject.prototype[protoName])?tempSafariNFE=function(a){if(utilx.isPrimitive(a))throw new TypeError("Object.getPrototypeOf called on non-object");return a[protoName]}:(b=CtrObject.prototype,tempSafariNFE=function(a){if(utilx.isPrimitive(a))throw new TypeError("Object.getPrototypeOf called on non-object");if(utilx.strictEqual(a,b))return null;var c=a.constructor.prototype;return utilx.strictEqual(a,c)?b:c}),a=null,tempSafariNFE}(),utilx.arrayContains=function(a,b){return utilx.notStrictEqual(utilx.arrayIndexOf(a,b),-1)},utilx.objectHasOwnProperty=function(){function a(a,b){return e&&utilx.arrayContains(defaultProperties,b)&&utilx.hasProperty(a,b)&&utilx.notStrictEqual(a[b],utilx.objectGetPrototypeOf(a)[b])}var b,c=baseObject.hasOwnProperty,d=baseObject.propertyIsEnumerable,e=!0,f={toString:null};for(b in f)utilx.strictEqual(b,"toString")&&utilx.isNull(f[b])&&(e=!1);return tempSafariNFE=utilx.isFunction(c)?function(b,d){return c.call(b,d)||a(b,d)}:utilx.isFunction(d)?function(b,c){return d.call(b,c)||a(b,c)}:function(a,b){return utilx.hasProperty(a,b)&&utilx.isUndefined(utilx.objectGetPrototypeOf(a)[b])},b=null,tempSafariNFE}(),utilx.isEmptyArray=function(a){if(!utilx.arrayIsArray(a)&&!utilx.isArguments(a)){if(utilx.isPrimitive(a)||utilx.isFunction(a))throw new TypeError("called on a invalid object");if(!utilx.objectHasOwnProperty(a,"length")||!utilx.isNumber(a.length))throw new TypeError("invalid length property")}return utilx.isZero(a.length)},utilx.arrayFirst=function(a){if(!utilx.arrayIsArray(a)&&!utilx.isArguments(a)){if(utilx.isPrimitive(a)||utilx.isFunction(a))throw new TypeError("called on a invalid object");if(!utilx.objectHasOwnProperty(a,"length")||!utilx.isNumber(a.length))throw new TypeError("invalid length property")}return a[0]},utilx.arrayLast=function(a){if(!utilx.arrayIsArray(a)&&!utilx.isArguments(a)){if(utilx.isPrimitive(a)||utilx.isFunction(a))throw new TypeError("called on a invalid object");if(!utilx.objectHasOwnProperty(a,"length")||!utilx.isNumber(a.length))throw new TypeError("invalid length property")}return a[a.length-1]},utilx.arrayAssign=function(a,b,c){if(!utilx.arrayIsArray(a)&&!utilx.isArguments(a)){if(utilx.isPrimitive(a)||utilx.isFunction(a))throw new TypeError("called on a invalid object");if(!utilx.objectHasOwnProperty(a,"length")||!utilx.isNumber(a.length))throw new TypeError("invalid length property")}var d;return utilx.gte(arguments.length,3)&&(d=utilx.numberToInteger(b),utilx.inRange(d,0,MAX_UINT32-1)?(a[d]=c,d+=1,utilx.gt(d,a.length)&&(a.length=d)):a[utilx.anyToString(b)]=c),a.length},utilx.toObjectFixIndexedAccess=function(){var a,b=noNewCtrObject("a"),c=utilx.notStrictEqual(b[0],"a")||!utilx.hasProperty(b,0);return tempSafariNFE=function(a){var b;return b=c&&utilx.isString(a)?utilx.stringSplit(a,""):utilx.argToObject(a)},a=null,tempSafariNFE}(),utilx.arrayForEach=function(){var a,b=baseArray.forEach;return tempSafariNFE=utilx.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f=utilx.toObjectFixIndexedAccess(a);if(!utilx.isFunction(b))throw new TypeError(b+" is not a function");for(d=utilx.clamp(utilx.numberToInteger(f.length),0,MAX_UINT32),e=0;utilx.lt(e,d);e+=1)utilx.hasProperty(f,e)&&b.call(c,f[e],e,f)},a=null,tempSafariNFE}(),utilx.arraySome=function(){var a,b=baseArray.some;return tempSafariNFE=utilx.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g=utilx.toObjectFixIndexedAccess(a);if(!utilx.isFunction(b))throw new TypeError(b+" is not a function");for(d=utilx.clamp(utilx.numberToInteger(g.length),0,MAX_UINT32),f=!1,e=0;utilx.lt(e,d);e+=1)if(utilx.hasProperty(g,e)&&b.call(c,g[e],e,g)){f=!0;break}return f},a=null,tempSafariNFE}(),utilx.arrayMap=function(){var a,b=baseArray.map;return tempSafariNFE=utilx.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g=utilx.toObjectFixIndexedAccess(a);if(!utilx.isFunction(b))throw new TypeError(b+" is not a function");for(d=utilx.clamp(utilx.numberToInteger(g.length),0,MAX_UINT32),f=[],e=0;utilx.lt(e,d);e+=1)utilx.arrayAssign(f,e,b.call(c,g[e],e,g));return f},a=null,tempSafariNFE}(),utilx.arraySlice=function(){function a(){return utilx.returnArgs(utilx.privateUndefined,null,1,"a",2,"b",null,utilx.privateUndefined)}var b,c=baseArray.slice;try{utilx.strictEqual(c.call(a()).toString(),",,1,a,2,b,,")&&utilx.strictEqual(c.call(a(),utilx.privateUndefined,utilx.privateUndefined).toString(),",,1,a,2,b,,")&&utilx.strictEqual(c.call(a(),-1).length,1)&&utilx.strictEqual(c.call(a(),0).toString(),",,1,a,2,b,,")&&utilx.strictEqual(c.call(a(),3).toString(),"a,2,b,,")&&utilx.strictEqual(c.call(a(),-1,4).length,0)&&utilx.strictEqual(c.call(a(),0,4).toString(),",,1,a")&&utilx.strictEqual(c.call(a(),3,6).toString(),"a,2,b")||(c=utilx.privateUndefined)}catch(d){c=utilx.privateUndefined}return tempSafariNFE=utilx.isFunction(c)?function(a,b,d){return c.call(a,b,d)}:function(a,b,c){var d,e,f,g=utilx.toObjectFixIndexedAccess(a),h=utilx.numberToInteger(b),i=utilx.clamp(utilx.numberToInteger(g.length),0,MAX_UINT32),j=[],k=0;for(f=utilx.lt(utilx.mathSign(h),0)?Math.max(i+h,0):Math.min(h,i),d=utilx.isUndefined(c)?i:utilx.numberToInteger(c),e=utilx.lt(utilx.mathSign(d),0)?Math.max(i+d,0):Math.min(d,i),j.length=Math.max(e-f,0);e>f;)utilx.arrayAssign(j,k,g[f]),k+=1,f+=1;return j},b=null,tempSafariNFE}(),utilx.arrayFilter=function(){var a,b=baseArray.filter;return tempSafariNFE=utilx.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g,h=utilx.toObjectFixIndexedAccess(a),i=0;if(!utilx.isFunction(b))throw new TypeError(b+" is not a function");for(d=utilx.clamp(utilx.numberToInteger(h.length),0,MAX_UINT32),e=[],f=0;utilx.lt(f,d);f+=1)g=h[f],b.call(c,g,f,h)&&(utilx.arrayAssign(e,i,g),i+=1);return e},a=null,tempSafariNFE}(),utilx.arrayReduce=function(){var a,b=baseArray.reduce;return tempSafariNFE=utilx.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g=utilx.toObjectFixIndexedAccess(a),h=!1;if(!utilx.isFunction(b))throw new TypeError(b+" is not a function");for(utilx.gt(arguments.length,2)&&(d=c,h=!0),e=utilx.clamp(utilx.numberToInteger(g.length),0,MAX_UINT32),f=0;utilx.lt(f,e);f+=1)utilx.objectHasOwnProperty(g,f)&&(d=b(d,g[f],f,g),utilx.isFalse(h)&&(h=!0));if(utilx.isFalse(h))throw new TypeError("Reduce of empty array with no initial value");return d},a=null,tempSafariNFE}(),utilx.stringTrim=function(){var a,b,c,d,e=baseString.trim,f=[9,10,11,12,13,32,133,160,5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8232,8233,8239,8287,12288,65279];return a=utilx.arrayReduce(f,buildTestString,""),utilx.isFunction(e)&&utilx.isZero(e.call(a).length)?tempSafariNFE=function(a){return e.call(a)}:(b=utilx.arrayReduce(f,function(a,b){return a+"\\u"+utilx.padLeadingChar(b.toString(16),"0",4)},""),c=new RegExp("^["+b+"]+|["+b+"]+$","g"),tempSafariNFE=function(a){return utilx.anyToString(utilx.checkObjectCoercible(a)).replace(c,"")}),d=null,tempSafariNFE}(),utilx.arrayIndexOf=function(){var a,b=baseArray.indexOf;return tempSafariNFE=utilx.isFunction(b)&&utilx.strictEqual(b.call([0,1],1,2),1)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g=utilx.toObjectFixIndexedAccess(a),h=utilx.clamp(utilx.numberToInteger(g.length),0,MAX_UINT32);if(utilx.isZero(h))f=-1;else if(c=utilx.gt(arguments.length,2)?utilx.numberToInteger(c):0,utilx.gte(c,h))f=-1;else for(e=utilx.gte(c,0)?c:h-Math.abs(c),utilx.lt(e,0)&&(e=0),d=e,f=-1;utilx.lt(d,h);d+=1)if(utilx.hasProperty(g,d)&&utilx.strictEqual(b,g[d])){f=d;break}return f},a=null,tempSafariNFE}(),utilx.objectKeys=function(){var a,b,c=CtrObject.keys,d=!1,e=!0;if(a={toString:null,toLocaleString:null,valueOf:null,hasOwnProperty:null,isPrototypeOf:null,propertyIsEnumerable:null,constructor:null},utilx.isFunction(c))try{d=utilx.strictEqual(c(a).length,7)}catch(f){d=!1}if(utilx.isTrue(d))tempSafariNFE=c;else{for(b in a)utilx.strictEqual(b,"toString")&&utilx.isNull(a[b])&&(e=!1);tempSafariNFE=function(a){if(!utilx.isTypeObject(a)&&!utilx.isFunction(a))throw new TypeError("Object.keys called on a non-object");var b,c=[];for(b in a)utilx.objectHasOwnProperty(a,b)&&utilx.arrayPush(c,b);return utilx.isTrue(e)&&utilx.arrayForEach(defaultProperties,function(b){utilx.objectHasOwnProperty(a,b)&&utilx.arrayPush(c,b)}),c}}return b=null,tempSafariNFE}(),utilx.isDigits=function(){var a=new RegExp("^\\d+$");return function(b){return utilx.isString(b)&&a.test(b)}}(),utilx.objectDefineProperty=function(){var a,b,c,d,e,f=CtrObject.defineProperty,g="__defineGetter__",h="__defineSetter__";if(utilx.isFunction(f))try{if(c=f({},"sentinel",{value:null}),!utilx.isNull(c.sentinel))throw new Error("Fails sentinel check");try{if(tempSafariNFE=f([],"1.",{value:null}),utilx.notStrictEqual(tempSafariNFE[1],null))throw new Error("Fails integer check");d=f}catch(i){console.log("# FAILED INTEGER"),d=function(a,b,c){return(utilx.arrayIsArray(a)||utilx.isArguments(a))&&utilx.isString(b)&&!utilx.isEmptyString(b)&&!utilx.isDigits(b)&&utilx.numberIsInteger(utilx.toNumber(b))&&(console.log("# CONVERT TOINTEGER"),b=utilx.toNumber(b).toString()),f(a,b,c)}}try{if(tempSafariNFE=d([],"0",{value:null}),utilx.notStrictEqual(tempSafariNFE[0],null))throw new Error("Fails array check")}catch(i){console.log("# FAILED ARRAY"),f=d,d=function(a,b,c){return(utilx.arrayIsArray(a)||utilx.isArguments(a))&&(utilx.isNumber(b)&&utilx.numberIsInteger(b)||utilx.isString(b)&&utilx.isDigits(b)||utilx.isString(b)&&!utilx.isEmptyString(b)&&utilx.numberIsInteger(utilx.toNumber(b)))&&(console.log("# ASSIGN TO ARRAY"),utilx.arrayAssign(a,b,c.value),delete c.value),f(a,b,c)}}}catch(j){console.log("# FAILED SENTNEL")}return utilx.isFunction(d)?(console.log("# ASSIGN FUNCTION"),tempSafariNFE=d):(console.log("# USING SHIM"),a=baseObject[g],b=baseObject[h],tempSafariNFE=function(c,d,e){if(utilx.checkObjectCoercible(c),!utilx.isTypeObject(e)&&!utilx.isFunction(e))throw new TypeError("Property description must be an object: "+utilx.anyToString(e));if(utilx.objectHasOwnProperty(e,"value")&&(utilx.objectHasOwnProperty(e,"get")||utilx.objectHasOwnProperty(e,"set")))throw new TypeError("Invalid property. A property cannot have accessors and a value");var f;if(utilx.objectHasOwnProperty(e,"get")||utilx.objectHasOwnProperty(e,"set")){if(!utilx.isFunction(a)||!utilx.isFunction(b))throw new TypeError("getters & setters can not be defined on this javascript engine");utilx.isFunction(e.get)&&a.call(c,d,e.get),utilx.isFunction(e.set)&&b.call(c,d,e.set)}else(utilx.objectHasOwnProperty(e,"value")||!utilx.objectHasOwnProperty(c,d))&&(utilx.isNull(utilx.objectGetPrototypeOf(baseObject)[protoName])?(console.log("# USING __PROTO__"),f=c[protoName],c[protoName]=utilx.objectGetPrototypeOf(baseObject),delete c[d],(utilx.arrayIsArray(c)||utilx.isArguments(c))&&(utilx.isNumber(d)&&utilx.numberIsInteger(d)||utilx.isString(d)&&utilx.isDigits(d)||utilx.isString(d)&&!utilx.isEmptyString(d)&&utilx.numberIsInteger(utilx.toNumber(d)))?utilx.arrayAssign(c,d,e.value):c[d]=e.value,c[protoName]=f):(console.log("# USING STANDARD"),(utilx.arrayIsArray(c)||utilx.isArguments(c))&&(utilx.isNumber(d)&&utilx.numberIsInteger(d)||utilx.isString(d)&&utilx.isDigits(d)||utilx.isString(d)&&!utilx.isEmptyString(d)&&utilx.numberIsInteger(utilx.toNumber(d)))?utilx.arrayAssign(c,d,e.value):c[d]=e.value));return c}),e=null,tempSafariNFE}(),utilx.objectDefineProperties=function(){var a,b=CtrObject.defineProperties;return tempSafariNFE=utilx.isFunction(b)?b:function(a,b){if(!utilx.isTypeObject(a)&&!utilx.isFunction(a))throw new TypeError("Object.defineProperties called on non-object");if(!utilx.isTypeObject(b)&&!utilx.isFunction(b))throw new TypeError("Property description must be an object");return utilx.arrayForEach(utilx.objectKeys(b),function(c){utilx.objectDefineProperty(a,c,b[c])}),a},a=null,tempSafariNFE}(),objectGetOwnPropertyDescriptor=function(){var a,b,c,d,e=CtrObject.getOwnPropertyDescriptor,f="__lookupGetter__",g="__lookupSetter__";if(utilx.isFunction(e))try{c={sentinel:null},utilx.isNull(e(c,"sentinel").value)||(e=null)}catch(h){e=null}if(utilx.isFunction(e))try{if(utilx.isTrue(e(function(a){return a},"length").writable))throw new Error;tempSafariNFE=e}catch(i){tempSafariNFE=function(a,b){var c=e(a,b);return utilx.isFunction(a)&&utilx.strictEqual(b,"length")&&utilx.isTrue(c.writable)&&(c.writable=!1),c}}else a=baseObject[f],b=baseObject[g],tempSafariNFE=function(c,d){var e,f,g,h;if(!utilx.isTypeObject(c)&&!utilx.isFunction(c))throw new TypeError("getOwnPropertyDescriptor called on a non-object");if(utilx.objectHasOwnProperty(c,d)){e={},e.configurable=!0;try{e.enumerable=CtrObject.propertyIsEnumerable.call(c,d)}catch(i){e.enumerable=!0}if(utilx.isFunction(a)&&utilx.isFunction(b)&&(f=c[protoName],c[protoName]=utilx.objectGetPrototypeOf(baseObject),g=a.call(c,d),h=b.call(c,d),c[protoName]=f,(utilx.isFunction(g)||utilx.isFunction(h))&&(utilx.isFunction(g)&&(e.get=g),utilx.isFunction(h)&&(e.set=h))),e.value=c[d],utilx.isFunction(c)&&utilx.strictEqual(d,"length"))e.writable=!1,e.configurable=!1;else if((utilx.arrayIsArray(c)||utilx.isArguments(c))&&utilx.strictEqual(d,"length"))e.writable=!0,e.configurable=!1;else if(utilx.strictEqual(d,"prototype"))switch(c){case Object:case Array:case Function:case Boolean:case String:case Date:case RegExp:case Error:case TypeError:case SyntaxError:case RangeError:case EvalError:case ReferenceError:case URIError:e.writable=!1,e.configurable=!1;break;default:e.writable=!0,e.configurable=!1}else e.writable=!0}return e};return d=null,tempSafariNFE}(),utilx.objectFreeze=function(){var a,b=CtrObject.freeze;return tempSafariNFE=utilx.isFunction(b)?b:function(a){if(!utilx.isTypeObject(a)&&!utilx.isFunction(a))throw new TypeError("Object.freeze called on non-object");return a},a=null,tempSafariNFE}();try{utilx.objectFreeze(utilx.noop)}catch(exception){utilx.objectFreeze=function(a){var b;return tempSafariNFE=function(b){var c;return c=utilx.isFunction(b)?b:a(b)},b=null,tempSafariNFE}(utilx.objectFreeze)}return utilx.objectIsFrozen=function(){var a,b=CtrObject.isFrozen;return tempSafariNFE=utilx.isFunction(b)?b:function(a){if(!utilx.isTypeObject(a)&&!utilx.isFunction(a))throw new TypeError("Object.isFrozen called on non-object");return!1},a=null,tempSafariNFE}(),utilx.deepFreeze=function(a){return utilx.objectFreeze(a),utilx.arrayForEach(utilx.objectKeys(a),function(b){var c=a[b];!utilx.isTypeObject(c)&&!utilx.isFunction(c)||utilx.objectIsFrozen(c)||utilx.deepFreeze(c)}),a},utilx.deepDefineDescriptors=function(a,b){var c;return utilx.isPlainObject(b)&&(c={},c.enumerable=utilx.isBoolean(b.enumerable)?b.enumerable:!1,c.writable=utilx.isBoolean(b.writable)?b.writable:!1,c.configurable=utilx.isBoolean(b.configurable)?b.configurable:!1,utilx.arrayForEach(utilx.objectKeys(a),function(b){var d=a[b];utilx.objectDefineProperty(a,b,c),(utilx.isTypeObject(d)||utilx.isFunction(d))&&utilx.deepDefineDescriptors(d)})),a},utilx.objectInstanceOf=function(){var a,b=CtrObject.prototype.isPrototypeOf;return utilx.isFunction(b)?tempSafariNFE=function(a,c){if(!utilx.isFunction(c))throw new TypeError("Expecting a function in instanceOf check");return b.call(c.prototype,a)}:utilx.isFunction(utilx.objectGetPrototypeOf)&&(tempSafariNFE=function(a,b){if(!utilx.isFunction(b))throw new TypeError("Expecting a function in instanceOf check");for(var c=!1;a;){if(utilx.strictEqual(a,b.prototype)){c=!0;break}a=utilx.objectGetPrototypeOf(a)}return c}),a=null,tempSafariNFE}(),utilx.objectCreate=function(){var a,b,c,d;try{b=CtrObject.create,d=b(ObjectCreateFunc.prototype,{constructor:{value:ObjectCreateFunc,enumerable:!1,writable:!0,configurable:!0},foo:{value:"test",enumerable:!1,writable:!0,configurable:!0}}),utilx.strictEqual(d.foo,"test")?(tempSafariNFE=b,a=!0):a=!1}catch(e){a=!1}return utilx.isFalse(a)&&(tempSafariNFE=function(a,b){if(!utilx.isTypeObject(a)&&!utilx.isFunction(a))throw new TypeError("Object prototype may only be an Object, but not null.");var c;return ObjectCreateFunc.prototype=a,c=new ObjectCreateFunc,utilx.objectDefineProperty(c,protoName,{value:a,enumerable:!1,writable:!0,configurable:!0}),utilx.isPlainObject(b)&&utilx.objectDefineProperties(c,b),c}),c=null,tempSafariNFE}(),utilx.isPlainObject=function(){var a=utilx.objectGetPrototypeOf(baseObject);return function(b){return utilx.isObject(b)&&utilx.strictEqual(utilx.objectGetPrototypeOf(b),a)}}(),utilx.extend=function(a){if(!utilx.isTypeObject(a)&&!utilx.isFunction(a))throw new TypeError('utilx.extend "target" is a non-object');return utilx.arrayForEach(utilx.arraySlice(arguments,1),function(b){(utilx.isTypeObject(b)||utilx.isFunction(b))&&utilx.arrayForEach(utilx.objectKeys(b),function(c){utilx.objectDefineProperty(a,c,objectGetOwnPropertyDescriptor(b,c))})}),a},utilx.isDateValid=function(a){return utilx.isDate(a)&&!utilx.numberIsNaN(a.getTime())},utilx.escapeRegex=function(){var a=new RegExp("[\\[\\](){}?*+\\^$\\\\.|]","g");return function(b){return b.replace(a,"\\$&")}}(),utilx.wrapInChar=function(a,b){return b+a+b},utilx.replaceAll=function(a,b,c){return a.replace(new RegExp(utilx.escapeRegex(b),"g"),c)},utilx.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},utilx.deepEqual=function(a,b,c){if(utilx.isPlainObject(c)||(c={}),utilx.objectIs(a,b))return!0;if(utilx.isDate(a)&&utilx.isDate(b))return utilx.objectIs(a.getTime(),b.getTime());if(utilx.isRegExp(a)&&utilx.isRegExp(b))return utilx.objectIs(a.source,b.source)&&utilx.objectIs(a.global,b.global)&&utilx.objectIs(a.multiline,b.multiline)&&utilx.objectIs(a.lastIndex,b.lastIndex)&&utilx.objectIs(a.ignoreCase,b.ignoreCase)&&utilx.objectIs(a.sticky,b.sticky);if(!utilx.isTypeObject(a)&&!utilx.isTypeObject(b))return utilx.isTrue(c.strict)?utilx.objectIs(a,b):utilx.equal(a,b);
if(utilx.isTrue(c.strict)){if(!utilx.objectIs(utilx.objectGetPrototypeOf(utilx.toObjectFixIndexedAccess(a)),utilx.objectGetPrototypeOf(utilx.toObjectFixIndexedAccess(b))))return!1}else if(!utilx.objectIs(a.prototype,b.prototype))return!1;if(utilx.isArguments(a))return utilx.isArguments(b)?utilx.deepEqual(utilx.arraySlice(a),utilx.arraySlice(b),c):!1;var d,e,f;try{d=utilx.objectKeys(a),e=utilx.objectKeys(b)}catch(g){return!1}if(utilx.objectIs(d.length,e.length)){if(d.sort(),e.sort(),f=utilx.arraySome(d,function(a,b){return!utilx.objectIs(a,e[b])}),utilx.isTrue(f))return!1}else{if(!utilx.arrayIsArray(a)||!utilx.arrayIsArray(b))return!1;if(!utilx.objectIs(a.length,b.length))return!1}return f=utilx.arraySome(d,function(d){return!utilx.deepEqual(a[d],b[d],c)}),utilx.isTrue(f)?!1:!0},utilx.deepStrictEqual=function(a,b){return utilx.deepEqual(a,b,{strict:!0})},utilx.jsonStringify=function(){var a,b,c,d,e,f,g,h,i,j,k=!1;if("object"==typeof JSON&&!utilx.isNull(JSON)&&utilx.isFunction(JSON.stringify)){!function(){a=function(){return 1}}(),a.toJSON=a;try{k=utilx.strictEqual(JSON.stringify(0),"0")&&utilx.strictEqual(JSON.stringify(new CtrNumber),"0")&&utilx.strictEqual(JSON.stringify(new CtrString),'""')&&utilx.strictEqual(JSON.stringify(isNaN),utilx.privateUndefined)&&utilx.strictEqual(JSON.stringify(utilx.privateUndefined),utilx.privateUndefined)&&utilx.strictEqual(JSON.stringify(),utilx.privateUndefined)&&utilx.strictEqual(JSON.stringify(a),"1")&&utilx.strictEqual(JSON.stringify([a]),"[1]")&&utilx.strictEqual(JSON.stringify([utilx.privateUndefined]),"[null]")&&utilx.strictEqual(JSON.stringify(null),"null")&&utilx.strictEqual(JSON.stringify([utilx.privateUndefined,isNaN,null]),"[null,null,null]")&&utilx.strictEqual(JSON.stringify({A:[a,!0,!1,null,"\b\n\f\r	"]}),'{"A":[1,true,false,null,"\\b\\n\\f\\r\\t"]}')&&utilx.strictEqual(JSON.stringify([1,2],null,1),"[\n 1,\n 2\n]")&&utilx.strictEqual(JSON.stringify(new Date(-864e13)),'"-271821-04-20T00:00:00.000Z"')&&utilx.strictEqual(JSON.stringify(new Date(864e13)),'"+275760-09-13T00:00:00.000Z"')&&utilx.strictEqual(JSON.stringify(new Date(-621987552e5)),'"-000001-01-01T00:00:00.000Z"')&&utilx.strictEqual(JSON.stringify(new Date(-1)),'"1969-12-31T23:59:59.999Z"')}catch(l){k=!1}}return utilx.isTrue(k)?tempSafariNFE=JSON.stringify:(b='[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5',b+="\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]",c=new RegExp(b,"g"),f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h=function(a){var b='"';return c.lastIndex=0,b+=c.test(a)?a.replace(c,function(a){var b,c=f[a];return b=utilx.isString(c)?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}):a,b+'"'},i=function(a,b){var c,f,j,k,l=d,m=b[a];switch((utilx.isTypeObject(m)||utilx.isFunction(m))&&utilx.isFunction(m.toJSON)&&(m=m.toJSON(a)),utilx.isFunction(g)&&(m=g.call(b,a,m)),typeof m){case"string":return h(m);case"number":return utilx.numberIsFinite(m)?utilx.anyToString(m):"null";case"boolean":case"null":return utilx.anyToString(m);case"object":if(utilx.isNull(m))return utilx.anyToString(m);if(d+=e,k=[],utilx.arrayIsArray(m)){for(j=m.length,c=0;j>c;c+=1)utilx.arrayAssign(k,c,i(c,m)||"null");return f=utilx.isZero(k.length)?"[]":utilx.isString(d)&&!utilx.isEmptyString(d)?"[\n"+d+utilx.arrayJoin(k,",\n"+d)+"\n"+l+"]":"["+utilx.arrayJoin(k)+"]",d=l,f}return utilx.arrayIsArray(g)?utilx.arrayForEach(g,function(a){var b;utilx.isString(a)&&(b=i(a,m),utilx.isUndefined(b)||utilx.arrayPush(k,h(a)+(utilx.isString(d)&&!utilx.isEmptyString(d)?": ":":")+b))}):utilx.arrayForEach(utilx.objectKeys(m),function(a){var b=i(a,m);utilx.isUndefined(b)||utilx.arrayPush(k,h(a)+(utilx.isString(d)&&!utilx.isEmptyString(d)?": ":":")+b)}),f=utilx.isZero(k.length)?"{}":utilx.isString(d)&&!utilx.isEmptyString(d)?"{\n"+d+utilx.arrayJoin(k,",\n"+d)+"\n"+l+"}":"{"+utilx.arrayJoin(k)+"}",d=l,f}return utilx.privateUndefined},tempSafariNFE=function(a,b,c){if(d="",e=utilx.isNumber(c)?utilx.stringRepeat(" ",c):utilx.isString(c)?c:"",g=b,!utilx.isUndefinedOrNull(b)&&!utilx.isFunction(b)&&!utilx.arrayIsArray(b))throw new Error("JSON.stringify");return i("",{"":a})}),j=null,tempSafariNFE}(),utilx.jsonParse=function(){var supported=!1,parsedValue,throwsSyntaxError,rx1,rx2,rx3,rx4,cxStr,cx,nfeJSONParse;if("object"==typeof JSON&&!utilx.isNull(JSON)&&utilx.isFunction(JSON.parse))try{if(utilx.isZero(JSON.parse("0"))&&utilx.isFalse(JSON.parse(!1))&&(parsedValue=JSON.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),supported=utilx.strictEqual(parsedValue.A.length,5),supported=supported&&utilx.strictEqual(parsedValue.A[0],1))){try{supported=utilx.isString(JSON.parse('"	"'))}catch(ignore){}if(supported)try{supported=utilx.notStrictEqual(JSON.parse("01"),1)}catch(ignore){}}}catch(e){supported=!1}if(utilx.isTrue(supported)){try{JSON.parse()}catch(e){throwsSyntaxError=utilx.objectInstanceOf(e,SyntaxError)}tempSafariNFE=throwsSyntaxError?JSON.parse:function(a,b){if(utilx.isUndefined(a))throw new SyntaxError("JSON.parse");return JSON.parse(a,b)}}else rx1=new RegExp("^[\\],:{}\\s]*$"),rx2=new RegExp('\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),rx3=new RegExp('"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),rx4=new RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),cxStr="[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f",cxStr+="\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]",cx=new RegExp(cxStr,"g"),tempSafariNFE=function nfeJSONParse(text,reviver){function walk(a,b){var c=a[b];return utilx.isTypeObject(c)&&utilx.arrayForEach(utilx.objectKeys(c),function(a){var b=walk(c,a);utilx.isUndefined(b)?delete c[a]:c[a]=b}),reviver.call(a,b,c)}var j;if(text=utilx.anyToString(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx1.test(text.replace(rx2,"@").replace(rx3,"]").replace(rx4,"")))return j=eval("("+text+")"),utilx.isFunction(reviver)?walk({"":j},""):j;throw new SyntaxError("JSON.parse")};return nfeJSONParse=null,tempSafariNFE}(),utilx.stringTruncate=function(a,b){return utilx.isString(a)||(a=utilx.anyToString(a)),b=utilx.toNumber(b),!utilx.numberIsNaN(b)&&utilx.gte(b,0)&&utilx.gt(a.length,b)&&(a=a.slice(0,b)),a},utilx.inherits=function(a,b){if(!utilx.isFunction(a))throw new TypeError(a+" is not a function");if(!utilx.isFunction(b))throw new TypeError(b+" is not a function");a.super_=b,a.prototype=utilx.objectCreate(b.prototype),utilx.objectDefineProperty(a.prototype,"constructor",{value:a,enumerable:!1,writable:!0,configurable:!0})},utilx.isErrorTypeConstructor=function(a){var b;switch(a){case Error:case TypeError:case SyntaxError:case RangeError:case EvalError:case ReferenceError:case URIError:b=!0;break;default:b=!1}return b},utilx.customErrorReplacer=function(a,b){var c;return c=utilx.isString(b)?b:utilx.isUndefined(b)||utilx.isFunction(b)||utilx.isRegExp(b)||utilx.isNumber(b)&&!utilx.numberIsFinite(b)?utilx.anyToString(b):b},utilx.normaliseErrorIEToString=function(){var a,b=!1;return utilx.objectDefineProperties({},{on:{value:function(){var c="Should we patch IE6&7?";try{throw new Error(c)}catch(d){utilx.strictEqual(d.message,c)&&utilx.strictEqual(d.toString(),"[object Error]")&&(a=Error.prototype.toString,utilx.objectDefineProperties(Error.prototype,{toString:{value:function(){return this.name+": "+this.message},enumerable:!1,writable:!0,configurable:!0}}),b=!0)}return b},enumerable:!1,writable:!0,configurable:!0},off:{value:function(){return utilx.isTrue(b)&&(utilx.objectDefineProperties(Error.prototype,{toString:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b=!1),b},enumerable:!1,writable:!0,configurable:!0},state:{value:function(){return b},enumerable:!1,writable:!0,configurable:!0}})}(),utilx.customError=function(){function a(a,b,c){function d(a,e){var f;utilx.isString(a)||(a=utilx.stringTruncate(utilx.jsonStringify(a,utilx.customErrorReplacer),c)),this.message=a,utilx.isFunction(e)||(e=d),this.stackStartFunction=e,utilx.isFunction(b.captureStackTrace)?b.captureStackTrace(this,this.stackStartFunction):(f=b.call(this),utilx.isString(f.stack)?this.stack=f.stack:utilx.isString(f.stacktrace)?this.stack=f.stacktrace:utilx.isFunction(printStackTrace)&&(this.stack=utilx.arrayJoin(printStackTrace(),"\n")))}if(!utilx.isString(a)||utilx.isEmptyString(a))throw new TypeError('"name" was not a valid string');if(!utilx.isErrorTypeConstructor(b))throw new TypeError('"ErrorConstructor" was not an Error type');return c=utilx.toNumber(c),(utilx.numberIsNaN(c)||utilx.lt(c,64))&&(c=128),utilx.inherits(d,b),utilx.objectDefineProperties(d.prototype,{name:{value:a,enumerable:!1,writable:!0,configurable:!0},toString:{value:function(){var a=utilx.stringSplit(this.message,rxSplitNewLine),b=this.name+": ";return utilx.gt(a.length,1)?(a=utilx.arrayFilter(a,function(a){var b;return utilx.stringContains(a,"opera:config#UserPrefs|Exceptions Have Stacktrace")||(b=a),b}),b+=utilx.arrayJoin(a,"\n")):b+=this.message,b},enumerable:!1,writable:!0,configurable:!0}}),d}var b,c;try{c=a("CustomSyntaxError",SyntaxError),b=utilx.objectInstanceOf(new c("test"),SyntaxError)}catch(d){b=!1}return function(c,d,e){if(!utilx.isString(c))throw new TypeError('"name" was not a string');if(utilx.isEmptyString(c))throw new SyntaxError('"name" was an empty string');return utilx.isUndefined(e)&&(utilx.isNumber(d)||utilx.isString(d))&&(e=d,d=Error),b&&utilx.isErrorTypeConstructor(d)||(d=Error),a(c,d,e)}}(),utilx.printStackTrace=printStackTrace,tempSafariNFE=null,utilx}if("object"!=typeof globalThis||null===globalThis)throw new TypeError("Invalid global context");var publicUtil;"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?(publicUtil=factory(require("stacktrace-js")),publicUtil.objectDefineProperty(publicUtil,"factory",{value:function(){var a=factory(require("stacktrace-js"));return publicUtil.objectDefineProperty(a,"factory",{value:publicUtil.factory,enumerable:!1,writable:!0,configurable:!0}),a},enumerable:!1,writable:!0,configurable:!0}),publicUtil.objectDefineProperty(module,"exports",{value:publicUtil,enumerable:!1,writable:!0,configurable:!0})):"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?(require.config({paths:{stacktrace:"//raw.github.com/stacktracejs/stacktrace.js/master/stacktrace"}}),define(["stacktrace"],function(a){return publicUtil=factory(a),publicUtil.objectDefineProperty(publicUtil,"factory",{value:function(){var b=factory(a);return publicUtil.objectDefineProperty(b,"factory",{value:publicUtil.factory,enumerable:!1,writable:!0,configurable:!0}),b},enumerable:!1,writable:!0,configurable:!0}),publicUtil})):(publicUtil=factory(globalThis.printStackTrace),publicUtil.objectDefineProperty(publicUtil,"factory",{value:function(){var a=factory(globalThis.printStackTrace);return publicUtil.objectDefineProperty(a,"factory",{value:publicUtil.factory,enumerable:!1,writable:!0,configurable:!0}),a},enumerable:!1,writable:!0,configurable:!0}),publicUtil.objectDefineProperty(globalThis,"utilx",{value:publicUtil,enumerable:!1,writable:!0,configurable:!0}))}(this);
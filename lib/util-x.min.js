/**
 * @file {@link http://xotic750.github.io/util-x/ util-x}. A Javascript utility library..
 * @version 0.0.79
 * @author Graham Fairweather <xotic750@gmail.com>
 * @copyright Copyright (c) 2013 Graham Fairweather
 * @license {@link <http://www.gnu.org/licenses/gpl-3.0.html> GPL3}
 * @module util-x
 * @requires stacktrace-js
 */
!function(globalThis){"use strict";function throwIfNotAFunction(a){if(!$.isFunction(a))throw new TypeError(a+" is not a function");return a}function isTypeObjectOrIsFunction(a){return $.isTypeObject(a)||$.isFunction(a)}function throwIfIsNotTypeObjectOrIsNotFunction(a){if(!isTypeObjectOrIsFunction(a))throw new TypeError("called on non-object");return a}function inRange(a,b,c){if(!$.isNumber(a)&&!$.isString(a))throw new TypeError("arguments must be either numbers or strings");if($.strictEqual(b,c)||$.numberIsNaN(b)||$.numberIsNaN(c))throw new RangeError("min and max do not define a range");return $.gte(a,b)&&$.lte(a,c)}function isZeroOrNotFinite(a){return $.isZero(a)||!$.numberIsFinite(a)}function stringSplitReplacer(a,b,c){var d,e=c.length-2;$.arrayFirst(b).replace(a,function(){for(d=1;$.lt(d,e);d+=1)$.isUndefined(arguments[d])&&$.arrayAssign(b,d,$.privateUndefined)})}function onlyCoercibleToString(a){return $.anyToString($.checkObjectCoercible(a))}function clampInteger(a,b,c){return $.clamp($.numberToInteger(a),$.numberToInteger(b),$.numberToInteger(c))}function isLtZeroOrPositiveInfinity(a){return $.lt(a,0)||$.strictEqual(a,1/0)}function isNotTypeObjectOrIsFunction(a){return!$.isTypeObject(a)||$.isFunction(a)}function hasValidLength(a){return $.isTypeObject(a)&&$.objectHasOwnProperty(a,"length")&&$.isNumber(a.length)&&$.isUint32(a.length)}function throwIfIsNotTypeObjectOrIsFunction(a){if(isNotTypeObjectOrIsFunction(a))throw new TypeError("called on a invalid object");return a}function throwIfIsNotHasValidLength(a){if(!hasValidLength(a))throw new TypeError("invalid length property");return a}function isArrayOrArguments(a){return $.arrayIsArray(a)||$.isArguments(a)}function defaultComparison(a,b){var c,d=$.anyToString(a),e=$.anyToString(b);return c=$.strictEqual(d,e)?$.POSITIVE_ZERO:$.lt(d,e)?-1:1}function merge(a,b,c){for(var d=[];!$.isZero(a.length)&&!$.isZero(b.length);)$.lte(c(a[0],b[0]),0)?$.arrayPush(d,a.shift()):$.arrayPush(d,b.shift());for(;!$.isZero(a.length);)$.arrayPush(d,a.shift());for(;!$.isZero(b.length);)$.arrayPush(d,b.shift());return d}function mergeSort(a,b){var c,d,e=clampInteger(a.length,0,$.MAX_UINT32);return $.lt(e,2)?d=$.arraySlice(a):(c=Math.ceil(e/2),d=merge(mergeSort($.arraySlice(a,0,c),b),mergeSort($.arraySlice(a,c),b),b)),d}function ObjectCreateFunc(){}function factory(){var a=$.extend({},$);return $.arrayForEach($.objectKeys(a),function(b){$.objectDefineProperty(a,b,{enumerable:!1,writable:!0,configurable:!0})}),$.objectDefineProperties(a,{privateUndefined:{enumerable:!1,writable:!1,configurable:!1},POSITIVE_ZERO:{enumerable:!1,writable:!1,configurable:!1},NEGATIVE_ZERO:{enumerable:!1,writable:!1,configurable:!1},UNSAFE_INTEGER:{enumerable:!1,writable:!1,configurable:!1},WORD8:{enumerable:!1,writable:!1,configurable:!1},UWORD8:{enumerable:!1,writable:!1,configurable:!1},WORD16:{enumerable:!1,writable:!1,configurable:!1},UWORD16:{enumerable:!1,writable:!1,configurable:!1},WORD32:{enumerable:!1,writable:!1,configurable:!1},UWORD32:{enumerable:!1,writable:!1,configurable:!1},MAX_UINT32:{enumerable:!1,writable:!1,configurable:!1},MAX_INT32:{enumerable:!1,writable:!1,configurable:!1},MIN_INT32:{enumerable:!1,writable:!1,configurable:!1},MAX_UINT16:{enumerable:!1,writable:!1,configurable:!1},MAX_INT16:{enumerable:!1,writable:!1,configurable:!1},MIN_INT16:{enumerable:!1,writable:!1,configurable:!1},MAX_UINT8:{enumerable:!1,writable:!1,configurable:!1},MAX_INT8:{enumerable:!1,writable:!1,configurable:!1},MIN_INT8:{enumerable:!1,writable:!1,configurable:!1},MAX_INTEGER:{enumerable:!1,writable:!1,configurable:!1},MIN_INTEGER:{enumerable:!1,writable:!1,configurable:!1},POSITIVE_INFINITY:{enumerable:!1,writable:!1,configurable:!1},NEGATIVE_INFINITY:{enumerable:!1,writable:!1,configurable:!1},MAX_VALUE:{enumerable:!1,writable:!1,configurable:!1},MIN_VALUE:{enumerable:!1,writable:!1,configurable:!1},NAN:{enumerable:!1,writable:!1,configurable:!1},EPSILON:{enumerable:!1,writable:!1,configurable:!1}}),a}var baseObject={},baseArray=[],baseString="",baseNumber=0,baseBoolean=!0,CtrObject=baseObject.constructor,noNewCtrObject=CtrObject,CtrBoolean=baseBoolean.constructor,CtrNumber=baseNumber.constructor,CtrString=baseString.constructor,protoName="__proto__",rxSplitNewLine=new RegExp("\\r\\n|\\n"),patchedIEErrorToString=!1,previousIEErrorToString,defaultProperties=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],publicUtil,tempSafariNFE,$={};$.POSITIVE_ZERO=0,$.NEGATIVE_ZERO=-0,$.WORD8=128,$.UWORD8=256,$.WORD16=32768,$.UWORD16=65536,$.WORD32=2147483648,$.UWORD32=4294967296,$.MAX_UINT32=4294967295,$.MAX_INT32=2147483647,$.MIN_INT32=-2147483648,$.MAX_UINT16=65535,$.MAX_INT16=32767,$.MIN_INT16=-32768,$.MAX_UINT8=255,$.MAX_INT8=127,$.MIN_INT8=-128,$.MAX_INTEGER=9007199254740991,$.MIN_INTEGER=-9007199254740991,$.UNSAFE_INTEGER=9007199254740992,$.POSITIVE_INFINITY=1/0,$.NEGATIVE_INFINITY=-1/0,$.MAX_VALUE=1.7976931348623157e308,$.MIN_VALUE=5e-324,$.NAN=0/0,$.EPSILON=2.220446049250313e-16,$.noop=function(){},$.privateUndefined=function(){return $.noop()}(),$.returnArgs=function(){return arguments},$.toNumber=function(a){return+a},$.equal=function(a,b){return a==b},$.notEqual=function(a,b){return a!=b},$.strictEqual=function(a,b){return a===b},$.notStrictEqual=function(a,b){return a!==b},$.lt=function(a,b){return b>a},$.lte=function(a,b){return b>=a},$.gt=function(a,b){return a>b},$.gte=function(a,b){return a>=b},$.mod=function(a,b){return a%b},$.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)},$.isUndefined=function(a){return $.strictEqual(typeof a,"undefined")},$.isNull=function(a){return $.strictEqual(a,null)},$.isUndefinedOrNull=function(a){return $.isUndefined(a)||$.isNull(a)},$.isTrue=function(a){return $.strictEqual(a,!0)},$.isFalse=function(a){return $.strictEqual(a,!1)},$.isBoolean=function(a){return $.isTrue(a)||$.isFalse(a)},$.toBoolean=function(a){return!!a},$.isNumber=function(a){return $.strictEqual(typeof a,"number")},$.isZero=function(a){return $.strictEqual(a,0)},$.isPositiveZero=function(a){return $.isZero(a)&&$.strictEqual(1/a,1/0)},$.isNegativeZero=function(a){return $.isZero(a)&&$.strictEqual(1/a,-1/0)},$.isString=function(a){return $.strictEqual(typeof a,"string")},$.isPrimitive=function(a){return $.isUndefinedOrNull(a)||$.isString(a)||$.isNumber(a)||$.isBoolean(a)},$.isNotPrimitive=function(a){return!$.isPrimitive(a)},$.isTypeOfObject=function(){var a,b=new RegExp("test"),c="object",d=$.strictEqual(typeof b,c);return tempSafariNFE=$.isTrue(d)?function(a){return $.strictEqual(typeof a,c)}:function(a){return $.strictEqual(typeof a,c)||$.isRegExp(a)},a=null,tempSafariNFE}(),$.isTypeObject=function(a){return!$.isNull(a)&&$.isTypeOfObject(a)},$.isEmptyString=function(a){return $.strictEqual(a,"")},$.isStringNotEmpty=function(a){return $.isString(a)&&!$.isEmptyString(a,"")},$.isNumeric=function(){var a=new RegExp("^[+\\-]?");return function(b){var c,d=!1;return($.isNumber(b)||$.isStringNotEmpty(b))&&(c=b.toString().replace(a,""),!isNaN(parseFloat(c))&&isFinite(c)&&(d=!0)),d}}(),$.checkObjectCoercible=function(a){if($.isUndefinedOrNull(a))throw new TypeError('Cannot convert "'+a+'" to object');return a},$.argToObject=function(a){var b=$.checkObjectCoercible(a);return $.isBoolean(b)?b=new CtrBoolean(b):$.isNumber(b)?b=new CtrNumber(b):$.isString(b)&&(b=new CtrString(b)),b},$.anyToString=function(a){var b;return b=$.isString(a)?a:$.isUndefined(a)?"undefined":String(a)},$.hasProperty=function(a,b){return b in a},$.isArguments=function(){var a,b,c=baseObject.toString,d=baseObject.hasOwnProperty,e=baseObject.propertyIsEnumerable,f="[object Arguments]",g="[object Function]",h="[object Object]",i="callee",j="length";return tempSafariNFE=null,$.strictEqual(c.call($.returnArgs()),f)?tempSafariNFE=function(a){return $.strictEqual(c.call(a),f)}:$.strictEqual(c.call(d),g)&&(a=function(a){return $.isTypeObject(a)&&$.strictEqual(c.call(a),h)&&d.call(a,i)&&d.call(a,j)&&$.isNumber(a.length)},tempSafariNFE=$.strictEqual(c.call(e),g)?function(b){return a(b)&&!e.call(b,i)&&!e.call(b,j)}:a),$.isNull(tempSafariNFE)&&(tempSafariNFE=function(a){return $.isTypeObject(a)&&$.strictEqual(c.call(a),h)&&$.hasProperty(a,i)&&$.hasProperty(a,j)&&$.isNumber(a.length)}),b=null,tempSafariNFE}(),$.toObjectString=function(){var a,b=baseObject.toString,c="[object Undefined]",d="[object Null]",e="[object Arguments]";try{tempSafariNFE=null,$.strictEqual(b.call(),c)&&$.strictEqual(b.call(null),d)&&$.strictEqual(b.call($.returnArgs()),e)&&(tempSafariNFE=function(a){return b.call(a)})}catch(f){tempSafariNFE=null}return $.isNull(tempSafariNFE)&&(tempSafariNFE=function(a){var f;return f=$.isUndefined(a)?c:$.isNull(a)?d:$.isArguments(a)?e:b.call(a)}),a=null,tempSafariNFE}(),$.isError=function(a){return $.strictEqual($.toObjectString(a),"[object Error]")||$.isTypeObject(a)&&$.objectInstanceOf(a,Error)},$.isRegExp=function(a){return $.strictEqual($.toObjectString(a),"[object RegExp]")&&$.isString(a.source)&&$.isBoolean(a.global)},$.isObject=function(a){return $.strictEqual($.toObjectString(a),"[object Object]")},$.isFunction=function(a){return $.strictEqual($.toObjectString(a),"[object Function]")||$.strictEqual(typeof a,"function")&&$.strictEqual(typeof a.call,"function")&&$.strictEqual(typeof a.apply,"function")},$.arrayIsArray=function(){var a,b=baseArray.isArray;return tempSafariNFE=$.isFunction(b)?b:function(a){return $.strictEqual($.toObjectString(a),"[object Array]")},a=null,tempSafariNFE}(),$.arrayJoin=function(a,b){return $.checkObjectCoercible(a),$.isUndefined(b)&&(b=","),baseArray.join.call(a,b)},$.isDate=function(a){return $.strictEqual($.toObjectString(a),"[object Date]")},$.objectIs=function(){var a,b=CtrObject.is;return tempSafariNFE=$.isFunction(b)?b:function(a,b){var c;return c=$.strictEqual(a,b)?$.isZero(a)?$.strictEqual(1/a,1/b):!0:$.notStrictEqual(a,a)&&$.notStrictEqual(b,b)},a=null,tempSafariNFE}(),$.areSameTypeOf=function(a,b){var c,d,e=arguments.length;if($.lt(e,2))throw new SyntaxError("must supply at least 2 arguments");return c=typeof a,d=$.strictEqual(c,typeof b),$.isTrue(d)&&$.gt(e,2)&&(d=!$.arraySome($.arraySlice(arguments,2),function(a){return $.notStrictEqual(c,typeof a)})),d},$.areSameObjectClass=function(a,b){var c,d,e=arguments.length;if($.lt(e,2))throw new SyntaxError("must supply at least 2 arguments");return c=$.toObjectString(a),d=$.strictEqual(c,$.toObjectString(b)),$.isTrue(d)&&$.gt(e,2)&&(d=!$.arraySome($.arraySlice(arguments,2),function(a){return $.notStrictEqual(c,$.toObjectString(a))})),d},$.inRange=function(a,b,c){if(!$.areSameTypeOf(a,b,c))throw new TypeError("arguments must be of the same type");return inRange(a,b,c)},$.numberIsNaN=function(){var a,b=CtrNumber.isNaN;return tempSafariNFE=$.isFunction(b)?b:function(a){return $.objectIs(a,0/0)},a=null,tempSafariNFE}(),$.numberIsFinite=function(){var a,b=CtrNumber.isFinite;return tempSafariNFE=$.isFunction(b)?b:function(a){return $.isNumber(a)&&isFinite(a)},a=null,tempSafariNFE}(),$.mathSign=function(){var a,b=Math.sign;return tempSafariNFE=$.isFunction(b)?b:function(a){var b,c=$.toNumber(a);return b=$.isZero(c)||$.numberIsNaN(c)?c:$.lt(c,0)?-1:1},a=null,tempSafariNFE}(),$.numberToInteger=function(){var a,b=CtrNumber.toInteger;return tempSafariNFE=$.isFunction(b)?b:function(a){var b,c=$.toNumber(a);return b=$.numberIsNaN(c)?$.POSITIVE_ZERO:isZeroOrNotFinite(c)?c:$.mathSign(c)*Math.floor(Math.abs(c))},a=null,tempSafariNFE}(),$.numberIsInteger=function(){var a,b=CtrNumber.isInteger;try{if(b($.UNSAFE_INTEGER)||b(-$.UNSAFE_INTEGER))throw new Error("Failed unsafe integer check");tempSafariNFE=b}catch(c){tempSafariNFE=function(a){return!$.numberIsNaN(a)&&$.numberIsFinite(a)&&inRange(a,$.MIN_INTEGER,$.MAX_INTEGER)&&$.strictEqual($.numberToInteger(a),a)}}return a=null,tempSafariNFE}(),$.toInt32=function(a){var b,c=$.toNumber(a);return isZeroOrNotFinite(c)?b=$.POSITIVE_ZERO:(b=$.mod($.mathSign(c)*Math.floor(Math.abs(c)),$.UWORD32),$.gt(b,$.MAX_INT32)?b-=$.UWORD32:$.lt(b,$.MIN_INT32)&&(b+=$.UWORD32)),b},$.isInt32=function(a){return $.numberIsInteger(a)&&inRange(a,$.MIN_INT32,$.MAX_INT32)},$.modulo=function(a,b){return a-b*Math.floor(a/b)},$.toUint=function(a){var b,c=$.toNumber(a);return b=isZeroOrNotFinite(c)?$.POSITIVE_ZERO:$.modulo($.numberToInteger(c),$.UNSAFE_INTEGER)},$.isUint=function(a){return $.numberIsInteger(a)&&inRange(a,0,$.MAX_INTEGER)},$.toUint32=function(a){var b,c=$.toNumber(a);return b=isZeroOrNotFinite(c)?$.POSITIVE_ZERO:$.modulo($.numberToInteger(c),$.UWORD32)},$.isUint32=function(a){return $.numberIsInteger(a)&&inRange(a,0,$.MAX_UINT32)},$.toInt16=function(a){var b,c=$.toNumber(a);return isZeroOrNotFinite(c)?b=$.POSITIVE_ZERO:(b=$.mod($.mathSign(c)*Math.floor(Math.abs(c)),$.UWORD16),$.gt(b,$.MAX_INT16)?b-=$.UWORD16:$.lt(b,$.MIN_INT16)&&(b+=$.UWORD16)),b},$.isInt16=function(a){return $.numberIsInteger(a)&&inRange(a,$.MIN_INT16,$.MAX_INT16)},$.toUint16=function(a){var b,c=$.toNumber(a);return b=isZeroOrNotFinite(c)?$.POSITIVE_ZERO:$.modulo($.numberToInteger(c),$.UWORD16)},$.isUint16=function(a){return $.numberIsInteger(a)&&inRange(a,0,$.MAX_UINT16)},$.toInt8=function(a){var b,c=$.toNumber(a);return isZeroOrNotFinite(c)?b=$.POSITIVE_ZERO:(b=$.mod($.mathSign(c)*Math.floor(Math.abs(c)),$.UWORD8),$.gt(b,$.MAX_INT8)?b-=$.UWORD8:$.lt(b,$.MIN_INT8)&&(b+=$.UWORD8)),b},$.isInt8=function(a){return $.numberIsInteger(a)&&inRange(a,$.MIN_INT8,$.MAX_INT8)},$.toUint8=function(a){var b,c=$.toNumber(a);return b=isZeroOrNotFinite(c)?$.POSITIVE_ZERO:$.modulo($.numberToInteger(c),$.UWORD8)},$.isUint8=function(a){return $.numberIsInteger(a)&&inRange(a,0,$.MAX_UINT8)},$.arrayPush=function(a){return $.arrayForEach($.arraySlice(arguments,1),function(b){baseArray.push.call(a,b)}),a.length},$.arrayUnshift=function(a){return $.arrayForEach($.arraySlice(arguments,1).reverse(),function(b){baseArray.unshift.call(a,b)}),a.length},$.stringSplit=function(){var a=baseString.split,b=$.isUndefined(new RegExp("()??").exec("")[1]);return function(c,d,e){var f,g,h,i,j,k,l,m,n=onlyCoercibleToString(c);if($.isRegExp(d)){for(g="g",d.ignoreCase&&(g+="i"),d.multiline&&(g+="m"),d.extended&&(g+="x"),d.sticky&&(g+="y"),d=new RegExp(d.source,g),$.isFalse(b)&&(i=new RegExp("^"+d.source+"$(?!\\s)",g)),e=$.isUndefined(e)?$.MAX_UINT32:clampInteger(e,0,$.MAX_UINT32),f=[],g="g",h=0,j=d.exec(n);j&&(k=j.index+$.arrayFirst(j).length,!$.gt(k,h)||($.arrayPush(f,n.slice(h,j.index)),$.isFalse(b)&&$.gt(j.length,1)&&stringSplitReplacer(i,j,arguments),$.gt(j.length,1)&&$.lt(j.index,n.length)&&(f=f.concat(j.slice(1))),l=$.arrayFirst(j).length,h=k,!$.gte(f.length,e)));)$.strictEqual(d.lastIndex,j.index)&&(d.lastIndex+=1),j=d.exec(n);if($.strictEqual(h,n.length)?(l||!d.test(""))&&$.arrayPush(f,""):$.arrayPush(f,n.slice(h)),$.gt(f.length,e))return f.slice(0,e);m=f}else m=a.call(c,d,e);return m}}(),$.firstChar=function(a){return onlyCoercibleToString(a).charAt(0)},$.firstCharIs=function(a,b){return $.strictEqual($.firstChar(a),$.firstChar(b))},$.lastChar=function(a){var b=onlyCoercibleToString(a);return b.charAt(b.length-1)},$.lastCharIs=function(a,b){return $.strictEqual($.lastChar(a),$.firstChar(b))},$.countCharacter=function(a,b){var c,d=$.firstChar(b);return c=$.isEmptyString(d)?1/0:clampInteger($.stringSplit(a,$.firstChar(b)).length-1,0,1/0)},$.padLeadingChar=function(a,b,c){var d=onlyCoercibleToString(a),e=$.firstChar(b),f=$.numberToInteger(c)-d.length;return isLtZeroOrPositiveInfinity(f)&&(f=0),$.stringRepeat(e,f)+d},$.stringRepeat=function(){function a(b,c){var d,e;return $.lt(c,1)?e="":$.mod(c,2)?e=a(b,c-1)+b:(d=a(b,c/2),e=d+d),e}var b,c=CtrString.repeat;return tempSafariNFE=$.isFunction(c)?function(a,b){return c.call(a,b)}:function(b,c){var d=onlyCoercibleToString(b),e=$.numberToInteger(c);if(isLtZeroOrPositiveInfinity(e))throw new RangeError;return a(d,e)},b=null,tempSafariNFE}(),$.stringStartsWith=function(){var a,b=baseString.startsWith;return tempSafariNFE=$.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d=onlyCoercibleToString(a),e=$.anyToString(b),f=clampInteger(c,0,d.length);return $.strictEqual(d.slice(f,f+e.length),e)},a=null,tempSafariNFE}(),$.stringEndsWith=function(){var a,b=baseString.endsWith;return tempSafariNFE=$.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f=onlyCoercibleToString(a),g=$.anyToString(b),h=f.length;return c=$.isUndefined(c)?h:$.numberToInteger(c),d=$.clamp(c,0,h),e=d-g.length,$.gte(e,0)&&$.strictEqual(f.slice(e,d),g)},a=null,tempSafariNFE}(),$.stringContains=function(){var a,b=baseString.contains;return tempSafariNFE=$.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d=onlyCoercibleToString(a),e=$.anyToString(b),f=d.length;return c=$.isUndefined(c)?0:$.numberToInteger(c),$.notStrictEqual(baseString.indexOf.call(d,e,$.clamp(c,0,f)),-1)},a=null,tempSafariNFE}(),$.objectGetPrototypeOf=function(){var a,b,c,d=CtrObject.getPrototypeOf;return $.isFunction(d)?tempSafariNFE=function(a){return throwIfIsNotTypeObjectOrIsNotFunction(a),d(a)}:$.isNull(CtrObject.prototype[protoName])?tempSafariNFE=function(a){return throwIfIsNotTypeObjectOrIsNotFunction(a),a[protoName]}:(a=CtrObject.prototype,$.notStrictEqual($.returnArgs().constructor.prototype,a)&&(b=!0),tempSafariNFE=function(c){if(throwIfIsNotTypeObjectOrIsNotFunction(c),$.strictEqual(c,a))return null;var d;return d=$.isFunction(c.constructor)?b&&$.isArguments(c)?a:c.constructor.prototype:$.isObject(c[protoName])?c[protoName]:a,$.strictEqual(c,d)?a:d}),c=null,tempSafariNFE}(),$.arrayContains=function(a,b){return $.notStrictEqual($.arrayIndexOf(a,b),-1)},$.objectPropertyIsEnumerable=function(){function a(a,b){var c,d=!1;if($.hasProperty(a,b))for(c in a)if($.strictEqual(c,b)&&$.objectHasOwnProperty(a,b)){d=!0;break}return d}var b,c=baseObject.propertyIsEnumerable,d=!0,e=!1,f={toString:null};for(b in f)$.strictEqual(b,"toString")&&$.isNull(f[b])&&(d=!1);f=function(){};for(b in f)$.strictEqual(b,"prototype")&&(e=!0);return tempSafariNFE=$.isFunction(c)?d?function(b,d){var e;return e=$.objectInstanceOf(b,CtrObject)?c.call(b,d)||$.arrayContains(defaultProperties,d)&&$.hasProperty(b,d)&&!$.objectIs(b[d],$.objectGetPrototypeOf(b)[d]):a(b,d)||$.arrayContains(defaultProperties,d)&&$.hasProperty(b,d)&&!$.objectIs(b[d],$.objectGetPrototypeOf(b)[d])}:e?function(a,b){var d;return d=$.isFunction(a)&&$.strictEqual(b,"prototype")?!1:c.call(a,b)}:function(a,b){return c.call(a,b)}:a,b=null,tempSafariNFE}(),$.objectHasOwnProperty=function(){var a,b=baseObject.hasOwnProperty,c=!0,d=!1,e={toString:null};for(a in e)$.strictEqual(a,"toString")&&$.isNull(e[a])&&(c=!1);e=function(){};for(a in e)$.strictEqual(a,"prototype")&&(d=!0);return tempSafariNFE=$.isFunction(b)?c?function(a,c){return b.call(a,c)||$.arrayContains(defaultProperties,c)&&$.hasProperty(a,c)&&!$.objectIs(a[c],$.objectGetPrototypeOf(a)[c])}:d?function(a,c){var d;return d=$.isFunction(a)&&$.strictEqual(c,"prototype")?!1:b.call(a,c)}:function(a,c){return b.call(a,c)}:function(a,b){return $.hasProperty(a,b)&&$.isUndefined($.objectGetPrototypeOf(a)[b])},a=null,tempSafariNFE}(),$.isEmptyArray=function(a){return isArrayOrArguments(a)||(throwIfIsNotTypeObjectOrIsFunction(a),throwIfIsNotHasValidLength(a)),$.isZero(a.length)},$.arrayFirst=function(a){return isArrayOrArguments(a)||(throwIfIsNotTypeObjectOrIsFunction(a),throwIfIsNotHasValidLength(a)),a[0]},$.arrayLast=function(a){return isArrayOrArguments(a)||(throwIfIsNotTypeObjectOrIsFunction(a),throwIfIsNotHasValidLength(a)),a[a.length-1]},$.arrayAssign=function(a,b,c){isArrayOrArguments(a)||(throwIfIsNotTypeObjectOrIsFunction(a),throwIfIsNotHasValidLength(a));var d;return $.gte(arguments.length,3)&&(d=$.numberToInteger(b),inRange(d,0,$.MAX_UINT32-1)?(a[d]=c,d+=1,$.gt(d,a.length)&&(a.length=d)):a[$.anyToString(b)]=c),a.length},$.toObjectFixIndexedAccess=function(){var a,b=noNewCtrObject("a"),c=$.notStrictEqual(b[0],"a")||!$.hasProperty(b,0);return tempSafariNFE=function(a){var b;return b=c&&$.isString(a)?$.stringSplit(a,""):$.argToObject(a)},a=null,tempSafariNFE}(),$.arraySplice=function(){var a,b=baseArray.splice;if($.isFunction(b)&&$.strictEqual(b.call([1,2],0).length,2))try{if(!$.isZero(b.call([1,2]).length))throw new Error;tempSafariNFE=function(a){return b.apply(a,$.arraySlice(arguments,1))}}catch(c){tempSafariNFE=function(a){var c;return c=$.lt(arguments.length,2)?[]:b.apply(a,$.arraySlice(arguments,1))}}else tempSafariNFE=function(a,b,c){var d,e,f,g,h,i=$.toObjectFixIndexedAccess(a),j=clampInteger(i.length,0,$.MAX_UINT32),k=[],l=clampInteger(b,-$.MAX_UINT32,$.MAX_UINT32),m=0,n=arguments.length,o=3,p=Math.max(n-o,0);if($.lt(n,2))return k;for(d=$.lt($.mathSign(l),0)?Math.max(j+l,0):Math.min(l,j),$.lt(n,3)&&(c=j-d),e=$.clamp(clampInteger(c,0,$.MAX_UINT32),0,j-d);e>m;)f=d+m,$.objectHasOwnProperty(i,f)&&$.arrayPush(k,i[f]),m+=1;if(e>p){for(m=d,h=j-e;h>m;)f=m+e,g=m+p,$.objectHasOwnProperty(i,f)?i[g]=i[f]:delete i[g],m+=1;for(m=j,h=j-e+p;m>h;)delete i[m-1],m-=1}else if(p>e)for(m=j-e;m>d;)f=m+e-1,g=m+p-1,$.objectHasOwnProperty(i,f)?i[g]=i[f]:delete i[g],m-=1;for(m=d;n>o;)i[m]=arguments[o],m+=1,o+=1;return i.length=j-e+p,k};return a=null,tempSafariNFE}(),$.arrayForEach=function(){var a,b=baseArray.forEach;return tempSafariNFE=$.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f=$.toObjectFixIndexedAccess(a);for(throwIfNotAFunction(b),d=clampInteger(f.length,0,$.MAX_UINT32),e=0;$.lt(e,d);e+=1)$.hasProperty(f,e)&&b.call(c,f[e],e,f)},a=null,tempSafariNFE}(),$.arraySome=function(){var a,b=baseArray.some;return tempSafariNFE=$.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g=$.toObjectFixIndexedAccess(a);for(throwIfNotAFunction(b),d=clampInteger(g.length,0,$.MAX_UINT32),f=!1,e=0;$.lt(e,d);e+=1)if($.hasProperty(g,e)&&b.call(c,g[e],e,g)){f=!0;break}return f},a=null,tempSafariNFE}(),$.arrayMap=function(){var a,b=baseArray.map;return tempSafariNFE=$.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g=$.toObjectFixIndexedAccess(a);for(throwIfNotAFunction(b),d=clampInteger(g.length,0,$.MAX_UINT32),f=[],e=0;$.lt(e,d);e+=1)$.arrayAssign(f,e,b.call(c,g[e],e,g));return f},a=null,tempSafariNFE}(),$.arraySlice=function(){function a(){return $.returnArgs($.privateUndefined,null,1,"a",2,"b",null,$.privateUndefined)}var b,c=baseArray.slice;try{$.strictEqual(c.call(a()).toString(),",,1,a,2,b,,")&&$.strictEqual(c.call(a(),$.privateUndefined,$.privateUndefined).toString(),",,1,a,2,b,,")&&$.strictEqual(c.call(a(),-1).length,1)&&$.strictEqual(c.call(a(),0).toString(),",,1,a,2,b,,")&&$.strictEqual(c.call(a(),3).toString(),"a,2,b,,")&&$.strictEqual(c.call(a(),-1,4).length,0)&&$.strictEqual(c.call(a(),0,4).toString(),",,1,a")&&$.strictEqual(c.call(a(),3,6).toString(),"a,2,b")||(c=$.privateUndefined)}catch(d){c=$.privateUndefined}return tempSafariNFE=$.isFunction(c)?function(a,b,d){return c.call(a,b,d)}:function(a,b,c){var d,e,f,g=$.toObjectFixIndexedAccess(a),h=$.numberToInteger(b),i=clampInteger(g.length,0,$.MAX_UINT32),j=[],k=0;for(f=$.lt($.mathSign(h),0)?Math.max(i+h,0):Math.min(h,i),d=$.isUndefined(c)?i:$.numberToInteger(c),e=$.lt($.mathSign(d),0)?Math.max(i+d,0):Math.min(d,i),j.length=Math.max(e-f,0);$.lt(f,e);)$.arrayAssign(j,k,g[f]),k+=1,f+=1;return j},b=null,tempSafariNFE}(),$.arrayFilter=function(){var a,b=baseArray.filter;return tempSafariNFE=$.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g,h=$.toObjectFixIndexedAccess(a),i=0;for(throwIfNotAFunction(b),d=clampInteger(h.length,0,$.MAX_UINT32),e=[],f=0;$.lt(f,d);f+=1)g=h[f],b.call(c,g,f,h)&&($.arrayAssign(e,i,g),i+=1);return e},a=null,tempSafariNFE}(),$.arrayReduce=function(){var a,b=baseArray.reduce;return tempSafariNFE=$.isFunction(b)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g=$.toObjectFixIndexedAccess(a),h=!1;for(throwIfNotAFunction(b),$.gt(arguments.length,2)&&(d=c,h=!0),e=clampInteger(g.length,0,$.MAX_UINT32),f=0;$.lt(f,e);f+=1)$.objectHasOwnProperty(g,f)&&(d=b(d,g[f],f,g),$.isFalse(h)&&(h=!0));if($.isFalse(h))throw new TypeError("Reduce of empty array with no initial value");return d},a=null,tempSafariNFE}(),$.getRandomInt=function(a,b){$.strictEqual(arguments.length,1)&&(b=a,a=0),a=$.numberToInteger(a),b=$.numberToInteger(b),$.objectIs(a,b)&&(b=1,a=0);var c,d;return $.lt(a,0)&&$.gt(b,0)&&$.gt(b-a+1,$.MAX_INTEGER)?(c=Math.floor(2*Math.random()),$.isZero(c)&&(c=-1),d=Math.floor(Math.random()*$.UNSAFE_INTEGER)*c):d=Math.floor(Math.random()*(b-a+1)+a),d},$.arrayStableSort=function(a,b){var c,d,e=$.toObjectFixIndexedAccess(a);if($.isUndefined(b)&&(b=defaultComparison),throwIfNotAFunction(b),c=clampInteger(e.length,0,$.MAX_UINT32),$.gt(c,1))for(e=mergeSort(e,b),d=0;$.lt(d,c);d+=1)a[d]=e[d];return a},$.arraySort=function(){var a=baseArray.sort;return function(b,c){return $.checkObjectCoercible(b),$.isUndefined(c)&&(c=defaultComparison),throwIfNotAFunction(c),a.call(b,c)}}(),$.swapItems=function(a,b,c){throwIfIsNotTypeObjectOrIsNotFunction(a),b=$.anyToString(b),c=$.anyToString(c);var d,e,f;return $.notStrictEqual(b,c)&&(d=$.objectGetOwnPropertyDescriptor(a,b),e=$.objectGetOwnPropertyDescriptor(a,c),f=$.toUint32(c),$.isPlainObject(d)&&$.objectHasOwnProperty(d,"value")?($.isTypeObject(a)&&!$.isFunction(a)&&hasValidLength(a)&&$.strictEqual($.anyToString(f),c)&&$.strictEqual(f,a.length)&&(a.length+=1),$.objectDefineProperty(a,c,d)):($.isTypeObject(a)&&!$.isFunction(a)&&hasValidLength(a)&&$.strictEqual($.anyToString(f),c)&&$.strictEqual(f,a.length-1)&&(a.length-=1),delete a[c]),f=$.toUint32(b),$.isPlainObject(e)&&$.objectHasOwnProperty(e,"value")?($.objectDefineProperty(a,b,e),$.isTypeObject(a)&&!$.isFunction(a)&&hasValidLength(a)&&$.strictEqual($.anyToString(f),b)&&$.strictEqual(f,a.length)&&(a.length+=1),$.objectDefineProperty(a,b,e)):($.isTypeObject(a)&&!$.isFunction(a)&&hasValidLength(a)&&$.strictEqual($.anyToString(f),b)&&$.strictEqual(f,a.length-1)&&(a.length-=1),delete a[b])),a},$.shuffle=function(a,b){throwIfIsNotTypeObjectOrIsNotFunction(a);var c,d,e=clampInteger(a.length,0,$.MAX_UINT32);if($.gt(e,1)){for(b=clampInteger(b,1,$.MAX_INTEGER),d=0;$.lt(d,b);d+=1)for(c=0;$.lt(c,e);c+=1)$.swapItems(a,c,$.getRandomInt(0,c));a.length=e}return a},$.stringTrim=function(){function a(a,b){return a+String.fromCharCode(b)}var b,c,d,e=baseString.trim,f=[9,10,11,12,13,32,133,160,5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8232,8233,8239,8287,12288,65279];try{if(!$.isFunction(e)||!$.isZero(e.call($.arrayReduce(f,a,"")).length))throw new Error;tempSafariNFE=function(a){return e.call(a)}}catch(g){b=$.arrayReduce(f,function(a,b){return a+"\\u"+$.padLeadingChar(b.toString(16),"0",4)},""),c=new RegExp("^["+b+"]+|["+b+"]+$","g"),tempSafariNFE=function(a){return onlyCoercibleToString(a).replace(c,"")}}return d=null,tempSafariNFE}(),$.arrayIndexOf=function(){var a,b=baseArray.indexOf;return tempSafariNFE=$.isFunction(b)&&$.strictEqual(b.call([0,1],1,2),1)?function(a,c,d){return b.call(a,c,d)}:function(a,b,c){var d,e,f,g=$.toObjectFixIndexedAccess(a),h=clampInteger(g.length,0,$.MAX_UINT32);if($.isZero(h))f=-1;else if(c=$.gt(arguments.length,2)?$.numberToInteger(c):0,$.gte(c,h))f=-1;else for(e=$.gte(c,0)?c:h-Math.abs(c),$.lt(e,0)&&(e=0),d=e,f=-1;$.lt(d,h);d+=1)if($.hasProperty(g,d)&&$.strictEqual(b,g[d])){f=d;break}return f},a=null,tempSafariNFE}(),$.objectKeys=function(){var a,b,c,d=CtrObject.keys,e=!0;if(b={toString:null,toLocaleString:null,valueOf:null,hasOwnProperty:null,isPrototypeOf:null,propertyIsEnumerable:null,constructor:null},$.isFunction(d))try{a=$.strictEqual(d(b).length,7)}catch(f){a=!1}if($.isTrue(a))tempSafariNFE=d;else{for(c in b)$.strictEqual(c,"toString")&&$.isNull(b[c])&&(e=!1);tempSafariNFE=function(a){throwIfIsNotTypeObjectOrIsNotFunction(a);var b,c=[];for(b in a)$.objectHasOwnProperty(a,b)&&$.arrayPush(c,b);return $.isTrue(e)&&$.arrayForEach(defaultProperties,function(b){$.objectHasOwnProperty(a,b)&&$.arrayPush(c,b)}),c}}return c=null,tempSafariNFE}(),$.isEmptyObject=function(a){return $.isZero($.objectKeys(a).length)},$.isDigits=function(){var a=new RegExp("^\\d+$");return function(b){return $.isStringNotEmpty(b)&&a.test(b)}}(),$.objectDefineProperty=function(){var a,b,c,d,e,f,g,h,i,j,k,l=CtrObject.defineProperty;if($.isFunction(l))try{if(e=l({},"sentinel",{value:null}),!$.isNull(e.sentinel))throw new Error("Fails sentinel check");try{if(tempSafariNFE=l([],"1.",{value:null}),!$.isNull(tempSafariNFE[1]))throw new Error("Fails integer check");h=l}catch(m){h=function(a,b,c){return isArrayOrArguments(a)&&$.isString(b)&&!$.isEmptyString(b)&&!$.isDigits(b)&&$.numberIsInteger($.toNumber(b))&&(b=$.toNumber(b).toString()),l(a,b,c)}}try{if(tempSafariNFE=h([],"0",{value:null}),!$.isNull(tempSafariNFE[0]))throw new Error("Fails array check")}catch(m){f=h,h=function(a,b,c){return isArrayOrArguments(a)&&($.isNumber(b)&&$.numberIsInteger(b)||$.isDigits(b)||$.isStringNotEmpty(b)&&$.numberIsInteger($.toNumber(b)))&&($.objectHasOwnProperty(c,"value")||!$.objectHasOwnProperty(a,b))&&$.arrayAssign(a,b,c.value),f(a,b,c)}}try{if(tempSafariNFE=h([10],"0",{}),$.notStrictEqual(tempSafariNFE[0],10))throw new Error("Fails overwrite check")}catch(m){g=h,h=function(a,b,c){return $.objectHasOwnProperty(c,"value")||(c.value=a[b]),g(a,b,c)}}}catch(n){}return $.isFunction(h)?tempSafariNFE=h:(a="__defineGetter__",b="__defineSetter__",c=baseObject[a],d=baseObject[b],tempSafariNFE=function(a,b,e){if(throwIfIsNotTypeObjectOrIsNotFunction(a),!isTypeObjectOrIsFunction(e))throw new TypeError("Property description must be an object: "+$.anyToString(e));if($.objectHasOwnProperty(e,"value")&&($.objectHasOwnProperty(e,"get")||$.objectHasOwnProperty(e,"set")))throw new TypeError("Invalid property. A property cannot have accessors and a value");var f;if($.objectHasOwnProperty(e,"get")||$.objectHasOwnProperty(e,"set")){if(!$.isFunction(c)||!$.isFunction(d))throw new TypeError("getters & setters can not be defined on this javascript engine");$.isFunction(e.get)&&c.call(a,b,e.get),$.isFunction(e.set)&&d.call(a,b,e.set)}else($.objectHasOwnProperty(e,"value")||!$.objectHasOwnProperty(a,b))&&($.isNull($.objectGetPrototypeOf(baseObject)[protoName])?(f=a[protoName],a[protoName]=$.objectGetPrototypeOf(baseObject),isArrayOrArguments(a)&&($.isNumber(b)&&$.numberIsInteger(b)||$.isDigits(b)||$.isStringNotEmpty(b)&&$.numberIsInteger($.toNumber(b)))?$.arrayAssign(a,b,e.value):(delete a[b],a[b]=e.value),$.isUndefined(f)?delete a[protoName]:a[protoName]=f):isArrayOrArguments(a)&&($.isNumber(b)&&$.numberIsInteger(b)||$.isDigits(b)||$.isStringNotEmpty(b)&&$.numberIsInteger($.toNumber(b)))?$.arrayAssign(a,b,e.value):a[b]=e.value);return a}),i=null,j=null,k=null,tempSafariNFE}(),$.objectDefineProperties=function(a,b){if(throwIfIsNotTypeObjectOrIsNotFunction(a),!isTypeObjectOrIsFunction(b))throw new TypeError("Property description must be an object");return $.arrayForEach($.objectKeys(b),function(c){$.objectDefineProperty(a,c,b[c])}),a},$.objectGetOwnPropertyDescriptor=function(){var a,b,c,d,e,f,g,h=CtrObject.getOwnPropertyDescriptor;try{if(e={sentinel:null},f=[10,20,30],f[4]=$.privateUndefined,!$.isNull(h(e,"sentinel").value)||$.notStrictEqual(h(f,3).value,30)||$.notStrictEqual(h(f,"3").value,30)||!$.objectHasOwnProperty(h(f,4),"value")||$.notStrictEqual(h(f,4).value,$.privateUndefined)||$.notStrictEqual(h(f,5),$.privateUndefined)||$.objectHasOwnProperty(h(f,5),"value"))throw new Error;tempSafariNFE=$.isFalse(h(function(a){return a},"length").writable)?h:function(a,b){var c=h(a,b);return $.isFunction(a)&&$.strictEqual(b,"length")&&$.isTrue(c.writable)&&(c.writable=!1),c}}catch(i){a="__lookupGetter__",b="__lookupSetter__",c=baseObject[a],d=baseObject[b],tempSafariNFE=function(a,b){var e,f,g,h;if(throwIfIsNotTypeObjectOrIsNotFunction(a),$.objectHasOwnProperty(a,b)){e={},e.configurable=!0;try{e.enumerable=$.objectPropertyIsEnumerable(a,b)}catch(i){e.enumerable=!0}if($.isFunction(c)&&$.isFunction(d)&&(f=a[protoName],a[protoName]=$.objectGetPrototypeOf(baseObject),g=c.call(a,b),h=d.call(a,b),$.isUndefined(f)?delete a[protoName]:a[protoName]=f,($.isFunction(g)||$.isFunction(h))&&($.isFunction(g)&&(e.get=g),$.isFunction(h)&&(e.set=h))),e.value=a[b],$.strictEqual(b,"length"))$.isFunction(a)?(e.writable=!1,e.configurable=!1):isArrayOrArguments(a)&&(e.writable=!0,e.configurable=!1);
else if($.strictEqual(b,"prototype"))switch(a){case Object:case Array:case Function:case Boolean:case String:case Date:case RegExp:case Error:case TypeError:case SyntaxError:case RangeError:case EvalError:case ReferenceError:case URIError:e.writable=!1,e.configurable=!1;break;default:e.writable=!0,e.configurable=!1}else e.writable=!0}return e}}return g=null,tempSafariNFE}(),$.objectFreeze=function(){var a,b=CtrObject.freeze;return tempSafariNFE=$.isFunction(b)?b:function(a){return throwIfIsNotTypeObjectOrIsNotFunction(a),a},a=null,tempSafariNFE}();try{$.objectFreeze($.noop)}catch(exception){$.objectFreeze=function(a){var b;return tempSafariNFE=function(b){var c;return c=$.isFunction(b)?b:a(b)},b=null,tempSafariNFE}($.objectFreeze)}if($.objectIsFrozen=function(){var a,b=CtrObject.isFrozen;return tempSafariNFE=$.isFunction(b)?b:function(a){return throwIfIsNotTypeObjectOrIsNotFunction(a),!1},a=null,tempSafariNFE}(),$.deepFreeze=function(a){return $.objectFreeze(a),$.arrayForEach($.objectKeys(a),function(b){var c=a[b];isTypeObjectOrIsFunction(c)&&!$.objectIsFrozen(c)&&$.deepFreeze(c)}),a},$.objectInstanceOf=function(){var a,b=CtrObject.prototype.isPrototypeOf;return $.isFunction(b)?tempSafariNFE=function(a,c){return throwIfNotAFunction(c),isTypeObjectOrIsFunction(a)&&(a instanceof c||b.call(c.prototype,a))}:$.isFunction($.objectGetPrototypeOf)&&(tempSafariNFE=function(a,b){throwIfNotAFunction(b);var c=!1;if(isTypeObjectOrIsFunction(a)&&(c=a instanceof b,$.isFalse(c)))for(;$.toBoolean(a);){if($.strictEqual(a,b.prototype)){c=!0;break}a=$.objectGetPrototypeOf(a)}return c}),a=null,tempSafariNFE}(),$.objectCreate=function(){var a,b,c,d;try{b=CtrObject.create,d=b(ObjectCreateFunc.prototype,{constructor:{value:ObjectCreateFunc,enumerable:!1,writable:!0,configurable:!0},foo:{value:"test",enumerable:!1,writable:!0,configurable:!0}}),$.strictEqual(d.foo,"test")?(tempSafariNFE=b,a=!0):a=!1}catch(e){a=!1}return $.isFalse(a)&&(tempSafariNFE=function(a,b){throwIfIsNotTypeObjectOrIsNotFunction(a);var c;return ObjectCreateFunc.prototype=a,c=new ObjectCreateFunc,$.objectDefineProperty(c,protoName,{value:a,enumerable:!1,writable:!0,configurable:!0}),$.isPlainObject(b)&&$.objectDefineProperties(c,b),c}),c=null,tempSafariNFE}(),$.isPlainObject=function(){var a=$.objectGetPrototypeOf(baseObject);return function(b){return $.isTypeObject(b)&&$.isObject(b)&&$.strictEqual($.objectGetPrototypeOf(b),a)}}(),$.extend=function(a){return throwIfIsNotTypeObjectOrIsNotFunction(a),$.arrayForEach($.arraySlice(arguments,1),function(b){isTypeObjectOrIsFunction(b)&&$.arrayForEach($.objectKeys(b),function(c){$.objectDefineProperty(a,c,$.objectGetOwnPropertyDescriptor(b,c))})}),a},$.isDateValid=function(a){return $.isDate(a)&&!$.numberIsNaN(a.getTime())},$.escapeRegex=function(){var a=new RegExp("[\\[\\](){}?*+\\^$\\\\.|]","g");return function(b){return b.replace(a,"\\$&")}}(),$.wrapInChar=function(a,b){return b+a+b},$.replaceAll=function(a,b,c){return a.replace(new RegExp($.escapeRegex(b),"g"),c)},$.deepEqual=function(a,b,c){if($.isPlainObject(c)||(c={}),$.objectIs(a,b))return!0;if($.isDate(a)&&$.isDate(b))return $.objectIs(a.getTime(),b.getTime());if($.isRegExp(a)&&$.isRegExp(b))return $.objectIs(a.source,b.source)&&$.objectIs(a.global,b.global)&&$.objectIs(a.multiline,b.multiline)&&$.objectIs(a.lastIndex,b.lastIndex)&&$.objectIs(a.ignoreCase,b.ignoreCase)&&$.objectIs(a.sticky,b.sticky);if(!$.isTypeObject(a)&&!$.isTypeObject(b))return $.isTrue(c.strict)?$.objectIs(a,b):$.equal(a,b);if($.isTrue(c.strict)){if(!$.objectIs($.objectGetPrototypeOf($.toObjectFixIndexedAccess(a)),$.objectGetPrototypeOf($.toObjectFixIndexedAccess(b))))return!1}else if(!$.objectIs(a.prototype,b.prototype))return!1;if($.isArguments(a))return $.isArguments(b)?$.deepEqual($.arraySlice(a),$.arraySlice(b),c):!1;var d,e,f;try{d=$.objectKeys(a),e=$.objectKeys(b)}catch(g){return!1}if($.objectIs(d.length,e.length)){if(d.sort(),e.sort(),f=$.arraySome(d,function(a,b){return!$.objectIs(a,e[b])}),$.isTrue(f))return!1}else{if(!$.arrayIsArray(a)||!$.arrayIsArray(b))return!1;if(!$.objectIs(a.length,b.length))return!1}return f=$.arraySome(d,function(d){return!$.deepEqual(a[d],b[d],c)}),$.isTrue(f)?!1:!0},$.deepStrictEqual=function(a,b){return $.deepEqual(a,b,{strict:!0})},$.jsonStringify=function(){var a,b,c,d,e,f,g,h,i,j,k=!1;if("object"==typeof JSON&&!$.isNull(JSON)&&$.isFunction(JSON.stringify)){!function(){a=function(){return 1}}(),a.toJSON=a;try{k=$.strictEqual(JSON.stringify(0),"0")&&$.strictEqual(JSON.stringify(new CtrNumber),"0")&&$.strictEqual(JSON.stringify(new CtrString),'""')&&$.strictEqual(JSON.stringify(isNaN),$.privateUndefined)&&$.strictEqual(JSON.stringify($.privateUndefined),$.privateUndefined)&&$.strictEqual(JSON.stringify(),$.privateUndefined)&&$.strictEqual(JSON.stringify(a),"1")&&$.strictEqual(JSON.stringify([a]),"[1]")&&$.strictEqual(JSON.stringify([$.privateUndefined]),"[null]")&&$.strictEqual(JSON.stringify(null),"null")&&$.strictEqual(JSON.stringify([$.privateUndefined,isNaN,null]),"[null,null,null]")&&$.strictEqual(JSON.stringify({A:[a,!0,!1,null,"\b\n\f\r	"]}),'{"A":[1,true,false,null,"\\b\\n\\f\\r\\t"]}')&&$.strictEqual(JSON.stringify([1,2],null,1),"[\n 1,\n 2\n]")&&$.strictEqual(JSON.stringify(new Date(-864e13)),'"-271821-04-20T00:00:00.000Z"')&&$.strictEqual(JSON.stringify(new Date(864e13)),'"+275760-09-13T00:00:00.000Z"')&&$.strictEqual(JSON.stringify(new Date(-621987552e5)),'"-000001-01-01T00:00:00.000Z"')&&$.strictEqual(JSON.stringify(new Date(-1)),'"1969-12-31T23:59:59.999Z"')}catch(l){k=!1}}return $.isTrue(k)?tempSafariNFE=JSON.stringify:(b='[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5',b+="\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]",c=new RegExp(b,"g"),f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h=function(a){var b='"';return c.lastIndex=0,b+=c.test(a)?a.replace(c,function(a){var b,c=f[a];return b=$.isString(c)?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}):a,b+'"'},i=function(a,b){var c,f,j,k,l=d,m=b[a];switch(isTypeObjectOrIsFunction(m)&&$.isFunction(m.toJSON)&&(m=m.toJSON(a)),$.isFunction(g)&&(m=g.call(b,a,m)),typeof m){case"string":return h(m);case"number":return $.numberIsFinite(m)?$.anyToString(m):"null";case"boolean":case"null":return $.anyToString(m);case"object":if($.isNull(m))return $.anyToString(m);if(d+=e,k=[],$.arrayIsArray(m)){for(j=m.length,c=0;j>c;c+=1)$.arrayAssign(k,c,i(c,m)||"null");return f=$.isZero(k.length)?"[]":$.isStringNotEmpty(d)?"[\n"+d+$.arrayJoin(k,",\n"+d)+"\n"+l+"]":"["+$.arrayJoin(k)+"]",d=l,f}return $.arrayIsArray(g)?$.arrayForEach(g,function(a){var b;$.isString(a)&&(b=i(a,m),$.isUndefined(b)||$.arrayPush(k,h(a)+($.isStringNotEmpty(d)?": ":":")+b))}):$.arrayForEach($.objectKeys(m),function(a){var b=i(a,m);$.isUndefined(b)||$.arrayPush(k,h(a)+($.isStringNotEmpty(d)?": ":":")+b)}),f=$.isZero(k.length)?"{}":$.isStringNotEmpty(d)?"{\n"+d+$.arrayJoin(k,",\n"+d)+"\n"+l+"}":"{"+$.arrayJoin(k)+"}",d=l,f}return $.privateUndefined},tempSafariNFE=function(a,b,c){if(d="",e=$.isNumber(c)?$.stringRepeat(" ",c):$.isString(c)?c:"",g=b,!$.isUndefinedOrNull(b)&&!$.isFunction(b)&&!$.arrayIsArray(b))throw new Error("JSON.stringify");return i("",{"":a})}),j=null,tempSafariNFE}(),$.jsonParse=function(){var supported=!1,parsedValue,throwsSyntaxError,rx1,rx2,rx3,rx4,cxStr,cx,nfeJSONParse;if("object"==typeof JSON&&!$.isNull(JSON)&&$.isFunction(JSON.parse))try{if($.isZero(JSON.parse("0"))&&$.isFalse(JSON.parse(!1))&&(parsedValue=JSON.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),supported=$.strictEqual(parsedValue.A.length,5),supported=supported&&$.strictEqual(parsedValue.A[0],1))){try{supported=$.isString(JSON.parse('"	"'))}catch(ignore){}if(supported)try{supported=$.notStrictEqual(JSON.parse("01"),1)}catch(ignore){}}}catch(e){supported=!1}if($.isTrue(supported)){try{JSON.parse()}catch(e){throwsSyntaxError=$.objectInstanceOf(e,SyntaxError)}tempSafariNFE=throwsSyntaxError?JSON.parse:function(a,b){if($.isUndefined(a))throw new SyntaxError("JSON.parse");return JSON.parse(a,b)}}else rx1=new RegExp("^[\\],:{}\\s]*$"),rx2=new RegExp('\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),rx3=new RegExp('"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),rx4=new RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),cxStr="[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f",cxStr+="\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]",cx=new RegExp(cxStr,"g"),tempSafariNFE=function nfeJSONParse(text,reviver){function walk(a,b){var c=a[b];return $.isTypeObject(c)&&$.arrayForEach($.objectKeys(c),function(a){var b=walk(c,a);$.isUndefined(b)?delete c[a]:c[a]=b}),reviver.call(a,b,c)}var j;if(text=$.anyToString(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx1.test(text.replace(rx2,"@").replace(rx3,"]").replace(rx4,"")))return j=eval("("+text+")"),$.isFunction(reviver)?walk({"":j},""):j;throw new SyntaxError("JSON.parse")};return nfeJSONParse=null,tempSafariNFE}(),$.stringTruncate=function(a,b){return $.isString(a)||(a=$.anyToString(a)),b=$.toNumber(b),!$.numberIsNaN(b)&&$.gte(b,0)&&$.gt(a.length,b)&&(a=a.slice(0,b)),a},$.inherits=function(a,b){throwIfNotAFunction(a),throwIfNotAFunction(b),a.super_=b,a.prototype=$.objectCreate(b.prototype),$.objectDefineProperty(a.prototype,"constructor",{value:a,enumerable:!1,writable:!0,configurable:!0})},$.isErrorTypeConstructor=function(a){var b;switch(a){case Error:case TypeError:case SyntaxError:case RangeError:case EvalError:case ReferenceError:case URIError:b=!0;break;default:b=!1}return b},$.customErrorReplacer=function(a,b){var c;return c=$.isString(b)?b:$.isUndefined(b)||$.isFunction(b)||$.isRegExp(b)||$.isNumber(b)&&!$.numberIsFinite(b)?$.anyToString(b):b},$.normaliseErrorIEToStringOn=function(){var a="Should we patch IE6&7?";try{throw new Error(a)}catch(b){$.strictEqual(b.message,a)&&$.strictEqual(b.toString(),"[object Error]")&&(previousIEErrorToString=Error.prototype.toString,$.objectDefineProperties(Error.prototype,{toString:{value:function(){return this.name+": "+this.message},enumerable:!1,writable:!0,configurable:!0}}),patchedIEErrorToString=!0)}return patchedIEErrorToString},$.normaliseErrorIEToStringOff=function(){return $.isTrue(patchedIEErrorToString)&&($.objectDefineProperties(Error.prototype,{toString:{value:previousIEErrorToString,enumerable:!1,writable:!0,configurable:!0}}),patchedIEErrorToString=!1),patchedIEErrorToString},$.normaliseErrorIEToStringState=function(){return patchedIEErrorToString},$.customError=function(){function a(a,b,c){function d(a,e){var f;$.isString(a)||(a=$.stringTruncate($.jsonStringify(a,$.customErrorReplacer),c)),$.objectDefineProperty(this,"message",{value:a,enumerable:!1,writable:!0,configurable:!0}),$.isFunction(e)||(e=d),this.stackStartFunction=e,$.isFunction(b.captureStackTrace)?b.captureStackTrace(this,this.stackStartFunction):(f=b.call(this),$.isString(f.stack)?$.objectDefineProperty(this,"stack",{value:f.stack,enumerable:!1,writable:!0,configurable:!0}):$.isString(f.stacktrace)&&$.objectDefineProperty(this,"stack",{value:f.stacktrace,enumerable:!1,writable:!0,configurable:!0}))}if(!$.isString(a)||$.isEmptyString(a))throw new TypeError('"name" was not a valid string');if(!$.isErrorTypeConstructor(b))throw new TypeError('"ErrorConstructor" was not an Error type');return c=$.toNumber(c),($.numberIsNaN(c)||$.lt(c,64))&&(c=128),$.inherits(d,b),$.objectDefineProperties(d.prototype,{name:{value:a,enumerable:!1,writable:!0,configurable:!0},toString:{value:function(){var a=$.stringSplit(this.message,rxSplitNewLine),b=this.name+": ";return $.gt(a.length,1)?(a=$.arrayFilter(a,function(a){var b;return $.stringContains(a,"opera:config#UserPrefs|Exceptions Have Stacktrace")||(b=a),b}),b+=$.arrayJoin(a,"\n")):b+=this.message,b},enumerable:!1,writable:!0,configurable:!0}}),d}var b,c;try{c=a("CustomSyntaxError",SyntaxError),b=$.objectInstanceOf(new c("test"),SyntaxError)}catch(d){b=!1}return function(c,d,e){if(!$.isString(c))throw new TypeError('"name" was not a string');if($.isEmptyString(c))throw new SyntaxError('"name" was an empty string');return $.isUndefined(e)&&($.isNumber(d)||$.isString(d))&&(e=d,d=Error),b&&$.isErrorTypeConstructor(d)||(d=Error),a(c,d,e)}}(),tempSafariNFE=null,"object"!=typeof globalThis||null===globalThis)throw new TypeError("Invalid global context");"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?(publicUtil=factory(),publicUtil.objectDefineProperty(publicUtil,"factory",{value:function(){var a=factory();return publicUtil.objectDefineProperty(a,"factory",{value:publicUtil.factory,enumerable:!1,writable:!0,configurable:!0}),a},enumerable:!1,writable:!0,configurable:!0}),publicUtil.objectDefineProperty(module,"exports",{value:publicUtil,enumerable:!1,writable:!0,configurable:!0})):"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?define(function(){return publicUtil=factory(),publicUtil.objectDefineProperty(publicUtil,"factory",{value:function(){var a=factory();return publicUtil.objectDefineProperty(a,"factory",{value:publicUtil.factory,enumerable:!1,writable:!0,configurable:!0}),a},enumerable:!1,writable:!0,configurable:!0}),publicUtil}):(publicUtil=factory(),publicUtil.objectDefineProperty(publicUtil,"factory",{value:function(){var a=factory();return publicUtil.objectDefineProperty(a,"factory",{value:publicUtil.factory,enumerable:!1,writable:!0,configurable:!0}),a},enumerable:!1,writable:!0,configurable:!0}),publicUtil.objectDefineProperty(globalThis,"utilx",{value:publicUtil,enumerable:!1,writable:!0,configurable:!0}))}(this);